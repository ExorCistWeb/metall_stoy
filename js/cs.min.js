! function(e, t) { for (var n in t) e[n] = t[n] }(this, function(e) {
    function t(n) { if (o[n]) return o[n].exports; var i = o[n] = { exports: {}, id: n, loaded: !1 }; return e[n].call(i.exports, i, i.exports, t), i.loaded = !0, i.exports } var n = window.ComagicJsonp;
    window.ComagicJsonp = function(o, r) { for (var s, a, c = 0, l = []; c < o.length; c++) a = o[c], i[a] && l.push.apply(l, i[a]), i[a] = 0; for (s in r) Object.prototype.hasOwnProperty.call(r, s) && (e[s] = r[s]); for (n && n(o, r); l.length;) l.shift().call(null, t) }; var o = {},
        i = { 0: 0 }; return t.e = function(e, n) { if (0 === i[e]) return n.call(null, t); if (void 0 !== i[e]) i[e].push(n);
        else { i[e] = [n]; var o = document.getElementsByTagName("head")[0],
                r = document.createElement("script");
            r.type = "text/javascript", r.charset = "utf-8", r.async = !0, r.src = t.p + "comagic.widgets.min.js", o.appendChild(r) } }, t.m = e, t.c = o, t.p = "", t(0) }([function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(1); if (window.__isComagicScriptLoaded) throw new Error('WARNING! Duplicate of "_cs" is found. Standard functions of "_cs" are at holt. Please check your site settings and delete the duplicate instance.');
    window.__isComagicScriptLoaded = !0; var i = n(4),
        r = n(6),
        s = n(9),
        a = n(13),
        c = n(12),
        l = n(21),
        u = n(116),
        d = n(29),
        p = n(30),
        f = n(3),
        h = f.essential.apply,
        m = n(36),
        g = n(118),
        _ = n(119),
        v = n(120),
        b = n(28),
        y = n(121),
        w = n(122),
        E = n(123),
        T = n(32),
        S = n(124),
        k = n(35);
    window.Comagic = window.Comagic || {}, window.CallGear = window.Comagic, window.Connecticalls = window.Comagic, window.LookHook = window.Comagic, window.RT = window.Comagic; var O = window.Comagic;
    h(O, d.API), t.ComagicWidget = {}, O.Captcha = {}, t.ComagicWidget.openSitePhonePanel = O.openVASitePhonePanel, t.ComagicWidget.sitePhoneCall = O.sitePhoneCall, O.UI = {}, O.UI.registerViewController = _.registerViewController, r.EventBus.on("ss:waitforloadcorescripts", (function(e, t, s) { var c = function(e) { return t.widgets.hasOwnProperty(e) && null !== t.widgets[e] },
            l = ["personal_form", "call_generator", "offline_message_generator"]; if (t.widgets.hasOwnProperty("lead")) { delete t.widgets.lead; for (var d = 0; d < l.length; d++) t.widgets[l[d]] = {} }
        e.isWidgetsDisabled() || (m.init(g.DEFAULT_WIDGET_VIEWS_OPTIONS, "prod"), u.Core.init(t, s)), n.p = new f.essential.URL(s).replace({ path: "/widget/js/" }); var _ = t.comagic_web_url,
            v = "" + _ + t.api.path + t.api.key + "/";
        p.ComagicWebApi.init(v), k.Thread.init(_), n.e(1, (function() { var e = n(40).Ws,
                l = n(125).ConsultantController,
                u = n(128).LeadController,
                d = n(129).SitephoneController,
                p = n(130).ConsultantApi,
                f = n(38).Hub,
                m = n(131).WhatsappController;
            h(O, p), h(O.UI, n(109)), h(O.UI, n(132)), O.Captcha.get_captcha = O.getCaptcha, i.Queue.registerAndProcess(["uiApiLoaded"], { __commands: ["uiApiLoaded"], uiApiLoaded: function(e) { e && e() } }, !0), c("sitephone") && !a.SiteSettings.params("analytics") && (d.init(t.widgets.sitephone, s), f.send("sitephone", "sitephone_init")), i.Queue.push("waitForTrackViewAndRun", (function() { var n = c("leadgen"),
                    i = c("consultant"),
                    p = c("sitephone"),
                    h = c("personal_form"),
                    g = i || h || n;
                n && T.Leadgen.init(t), g && e.onSession(a.SiteSettings.info().host || t.server_url), p && (d.init(t.widgets.sitephone, s), g || 2 == +o.CookieShop.get(o.CookieShop.ALY_OFFLINE) || f.send("sitephone", "sitephone_init")), i && (l.init(s), m.init(t.widgets.whatsapp, t.widgets.consultant, s)), (h || i) && u.init(s), f.send("consultant", "init", { get_history: !l.isChatHistoryExist(), get_vcard: i }), r.EventBus.on("ws:timetoreinit", (function() { f.send("consultant", "reinit") })) })) })) })), a.SiteSettings.init(), r.EventBus.on("aly:trackview", b.VisitorTracking.onAlyTrackview), r.EventBus.on("aly:trackview", l.CallTracking.onAlyTrackview), r.EventBus.on("aly:trackview", s.Events.onAlyTrackview), r.EventBus.on("aly:trackview", w.Smartis.onAlyTrackview), r.EventBus.on("aly:trackview", E.CallBackHunter.onAlyTrackview), r.EventBus.on("aly:trackview", S.Beeline.onAlyTrackview), r.EventBus.on("aly:trackview", v.VisitorIdEmbedder.run), i.Queue.push("waitForSiteSettingsAndRun", (function(e) { c.Analytics.init(), l.CallTracking.init(e), y.RelatedServices.init(e.related_services) })) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(2);! function(e) { var t;
        e.PHONE_REPLACEMENT = "_cmg_phr", e.CALLTRACKING_PHONES = "_cmg_phones", e.DT = "_cmg_dt", e.ACK_DT_PHONE_RESERVATION_DONE = "_cmg_adpr_done", e.FORCED_PHONES_REPLACEMENT_REQUIRED = "_cmg_fprr", e.BANNER_STATE = "_comagic_banner_state", e.DEBUG = "_comagic_debug", e.WS_OFFLINE = "_comagic_offline", e.ALY_OFFLINE = "_comagic_aly_offline", e.COMAGIC_ID = "_comagic_id", e.CLIENT_SESSION_START_TIME = "_cmg_csst", e._ciSeparator = ".", e._expires = null, e.setUniquePostfix = function(e) { t = e() }, e._setupExpires = function() { this._expires || (this._expires = {}, this._expires[this.DEBUG] = -1, this._expires[this.DT] = 18e5, this._expires[this.WS_OFFLINE] = 18e5, this._expires[this.ALY_OFFLINE] = 18e5, this._expires[this.COMAGIC_ID] = 63072e6) }, e._getExpires = function(e) { return this._expires[e] }, e.setup = function() { this._setupExpires() }, e.getName = function(e) { return e + t }, e.set = function(e, t, n) { return o.cookie.set(this.getName(e), t, n || this._getExpires(e)) }, e.get = function(e) { return o.cookie.get(this.getName(e)) }, e.getAll = function(e) { return o.cookie.getAll(this.getName(e)) }, e.del = function(e) { return this.remove(e) }, e.remove = function(e) { return o.cookie.remove(this.getName(e)) }, e.getVisitorId = function() { var e = this.getComagicId(); return e ? e.split(this._ciSeparator)[0] : null }, e.getSessionId = function() { var e = this.getComagicId(); return e ? e.split(this._ciSeparator)[1] : null }, e.setComagicId = function(e) { this.set(this.COMAGIC_ID, e) }, e.getComagicId = function() { var e, t = this.getAll(this.COMAGIC_ID); if (!t.length) return null;
            e = t.shift(); for (var n, o = 0; n = t[o]; o++) + n.split(this._ciSeparator)[2] > +e.split(this._ciSeparator)[2] && (e = n); return e } }(t.CookieShop || (t.CookieShop = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o, i = n(3);! function(e) { var t = 0 == document.domain.indexOf("www.") ? document.domain.substring(4) : document.domain;
        e.set = function(e, t, n) { i.essential.isUndefined(t) && this.remove(e), n = n || 63072e6; var o = new Date,
                r = [];
            o.setTime(o.getTime() + n), r.push(e + "=" + encodeURIComponent(t)), r.push("path=/"), this.getDomain() && r.push("domain=" + this.getDomain()), -1 != n && r.push("expires=" + o.toUTCString()), document.cookie = r.join(";") }, e.get = function(e) { var t = o.getAll(e); return t.length ? t[0] : null }, e.getAll = function(e) { for (var t, n = [], o = e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, "\\$1"), i = new RegExp("(?:^|; )" + o + "=([^;]*)", "g"); t = i.exec(document.cookie);) n.push(decodeURIComponent(t[1])); return n }, e.remove = function(e) { var t = new Date(0).toUTCString();
            document.cookie = e + "=; expires=" + t + "; domain=" + o.getDomain() + "; path=/;" }, e.getDomain = function() { return t }, e.setDomain = function(e) { t = e; var n = "cmgtest";
            this.set(n, n), n != this.get(n) && (t = null), this.remove(n) }, e.isEnabled = function() { return navigator.cookieEnabled || "cookie" in document && (document.cookie.length > 0 || (document.cookie = "test").indexOf.call(document.cookie, "test") > -1) } }(o = t.cookie || (t.cookie = {})) }, function(e, t) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }),
        function(e) {
            function t(e, n, o) { if (o && t(e, o), e && n && "object" == typeof n)
                    for (var i in n) n.hasOwnProperty(i) && (e[i] = n[i]); return e }

            function n(e, t) { var n; if (t = t || "", "string" == typeof e) n = e;
                else { var o = []; for (var i in e) e.hasOwnProperty(i) && o.push(i + "=" + encodeURIComponent(e[i]));
                    n = o.join("&") } return t && n.length && -1 === n.indexOf(t) && (n = t + n), n }

            function o(e) { return "[object Array]" === Object.prototype.toString.call(e) }

            function i(e) { return null !== e && "object" == typeof e }

            function r(e) { return void 0 === e }

            function s(e) { for (var t in e)
                    if (e.hasOwnProperty(t)) return !1;
                return !0 }

            function a(e) { return "[object Arguments]" === Object.prototype.toString.call(e) }
            e.apply = t, e.mergeObjects = function e(n, o) { var r = t({}, n); if (o)
                    for (var s in o) r.hasOwnProperty(s) && i(r[s]) && i(o[s]) ? r[s] = e(r[s], o[s]) : r[s] = o[s]; return r }, e.ns = function(e, t) { for (var n, o = t || window, i = e.split("."), r = 0; n = i[r]; r++) o = o[n] = o[n] || {}; return o }, e.ensureQueryString = n, e.filterObjectByFn = function(e, t) { var n = {}; for (var o in e) t(e[o]) || (n[o] = e[o]); return n }, e.isArray = o, e.isObject = i, e.isBoolean = function(e) { return e === !!e }, e.isNumber = function(e) { return "number" == typeof e }, e.isString = function(e) { return "string" == typeof e }, e.isEmptyString = function(e) { return "" === e }, e.isFunction = function(e) { return "function" == typeof e }, e.isUndefined = r, e.isHTMLElement = function(e) { return e instanceof HTMLElement }, e.isUrl = function(e) { return /^(?:\w+:)?\/\/([^\s\.]+\.\S{2}|localhost[\:?\d]*)\S*$/.test(e) }, e.isEmpty = function(e) { return r(e) || null === e || "" === e || o(e) && 0 === e.length || i(e) && s(e) }, e.isObjectEmpty = s, e.isArguments = a, e.toArray = function(e) { return o(e) ? e : a(e) ? Array.prototype.slice.call(e) : [e] }, e.copyArray = function(e) { for (var t = new Array(e.length), n = e.length; n--;) t[n] = e[n]; return t }, e.URL = function(e) { var t = this,
                    o = new RegExp("^(([^:/\\?#]+):)?(//(([^:/\\?#]*)(?::([^/\\?#]*))?))?([^\\?#]*)(\\?([^#]*))?(#(.*))?$");
                this.url = e, this.replace = function(e) { var o = (e = e || {}).protocol || t.protocol,
                            i = e.host || t.host,
                            r = e.port || t.port,
                            s = e.path || t.path,
                            a = n(e.query || t.query, "?"),
                            c = e.hash || t.hash; return (o ? o + ":" : o) + "//" + i + (r ? ":" + r : r) + s + a + (c ? "#" + c : c) }, this.toString = function() { return this.replace() },
                    function() { var e = o.exec(t.url);
                        t.protocol = e[2] || "https", t.host = e[5] || "", t.port = e[6] || "", t.path = e[7] || "/", t.query = e[8] || "", t.hash = e[10] || "" }() }, e.groupTimes = function(e) { for (var t = (new Date, (new Date).getTime()), n = (new Date).setHours(0, 0, 0, 0), o = [], i = 0, r = e = e.map((function(e) { return 1e3 * e })); i < r.length; i++) { var s = r[i]; if (!(s < t)) { for (var a = !1; s >= n;) a = !0, n += 864e5;
                        a && o.push({ date: n - 864e5, times: [] }), o[o.length - 1].times.push(s) } } return o }, e.widgetDefaultPrefixCountry = function(e, t, n) { if (t)
                    for (var o = 0; o < e.length; o++)
                        if (e[o].id === t) return e[o].id;
                return n } }(t.essential || (t.essential = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3),
        i = n(5);! function(e) {
        function t(e, t, n, o) { var i = e[t]; if ("function" == typeof i) return i.apply(n || e, o) }

        function n(e, t, n) { u.push([].slice.call(arguments)) }

        function r() { for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            (e = [].concat(arguments)).unshift("[Queue]"), i.util.log.apply(i.util, e) }

        function s(e, t, n) { if (this.length)
                for (var o, i, s = 0; o = e[s]; s++) t.__commands && -1 !== t.__commands.indexOf(o) && (i = this.shift(o), !1 === this._process(i, t, n) && (r("smth. wrong with", o, i, "pushing back"), this.push(i))) } var a = window,
            c = ["Comagic", "__cs"],
            l = [],
            u = [],
            d = {};
        e.maybeCall = t, e.addCommandToWatchFor = n, e.log = r; for (var p, f = 0; p = c[f]; f++) a[p] && o.essential.isArray(a[p]) && (l = l.concat(a[p]), "__cs" === p && (a[p] = e));
        e.length = l.length, e.push = function(e, t) { return o.essential.isArray(e) ? l.push(e) : this.push([e, o.essential.toArray(t)]) }, e.shift = function(e) { if (o.essential.isUndefined(e)) return l.shift(); if (o.essential.isNumber(e)) return l.splice(e, 1)[0]; if (o.essential.isString(e))
                for (var t, n = 0; t = l[n]; n++)
                    if (o.essential.isArray(t) && t[0] === e) return this.shift(n) }, e.peek = function(e) { if (o.essential.isUndefined(e)) return l[0]; if (o.essential.isNumber(e)) return l[e]; if (o.essential.isString(e))
                for (var t, n = 0; t = l[n]; n++)
                    if (o.essential.isArray(t) && t[0] === e) return t;
            return null }, e.process = function(e, t) { for (var n; n = l.shift();) this._process(n, e, t) }, e.processCommands = function(e, t, i, s) { r("going to process commands", e, "of", t), o.essential.isBoolean(i) && (s = i, i = void 0), s && n(e, t, i), this._processCommands(e, t, i) }, e.register = function(e) { for (var t, n = e.__commands, o = 0; t = n[o]; o++) { if (d.hasOwnProperty(t)) throw { message: 'uLiB.util.Queue detected command conflict: "' + t + '"', command: t, existingObj: d[t], newObj: e };
                d[t] = e } }, e.registerAndProcess = function(e, t, n, o) { this.register(t), this.processCommands(e, t, n, o) }, e._process = function(e, n, s) { return e ? (a = (e = o.essential.copyArray(e)).shift(), c = 1 === e.length && o.essential.isArray(e[0]) ? e[0] : e, r(i.util.sformat("processing {0}({1})", a, c)), t(n, a, s || n, c)) : null; var a, c }, e._processCommands = s, window.setInterval((function() { for (var t, n = 0; t = u[n]; n++) s.apply(e, t) }), 100) }(t.Queue || (t.Queue = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3),
        i = n(1),
        r = n(6),
        s = n(8);! function(e) {
        function t(e, t) { for (var n = [], o = 2; o < arguments.length; o++) n[o - 2] = arguments[o]; var i, r = arguments[0],
                s = arguments[1]; if (this.isObject(s)) { var a, c, l = {}; for (i = /{([^}]+)}/g; a = i.exec(r);) void 0 !== (c = s[a = a[1]]) && (("cls" == a || this.endsWith(a, "Cls")) && (c = this.getCssSelector(c, !0)), l[a] = c); for (var u in l) l.hasOwnProperty(u) && (i = new RegExp("\\{" + u + "\\}", "gm"), r = r.replace(i, l[u])) } else
                for (var d = 0; d < arguments.length - 1; d++) i = new RegExp("\\{" + d + "\\}", "gm"), r = r.replace(i, arguments[d + 1]); return r }

        function n(e, t, n) { for (var o = n || 0, i = e.length; o < i; o++)
                if (e[o] === t) return o;
            return -1 }

        function a() { try { return this._checkStorage(window.sessionStorage), window.sessionStorage } catch (e) { return this.log("window.sessionStorage not available. emulate"), this.apply(this._sessionStorage, this._storageApi) } }

        function c(e) { for (var t = e.substring(1).split("&"), n = {}, o = 0; o < t.length; o++) { var i = t[o].split("="); if (i[0]) try { n[i[0]] = decodeURIComponent(i[1]) } catch (e) {} } return n }

        function l() { return c(window.location.search) }

        function u() { return c(window.location.hash) }

        function d(e, t) { var n = (e = e.browserEvent || e)["page" + t]; return n || 0 === n || (n = e["client" + t] || 0), n } var p = window,
            f = (p.__cs, { "[Ws]": "background: #88FF88", "[Queue]": "background: #FF8866", "[Aly]": "background: #FFFF66", "[CallTracking]": "background: #8181F7", "[PhoneReplacer]": "background: #81BEF7", "[DynamicalTracking]": "background: #81FFF7", "[Lead]": "background: #BDBDBD", "[Omni WS]": "background: #8EACBB", "[Leadgen]": "background: #7ea935" });! function(e) { e.IS_IE_LT_11 = !!Function("/*@cc_on return true@*/")(), e.IS_IE_LT_10 = !window.navigator.msPointerEnabled && !!Function("/*@cc_on return true@*/")(), e.IS_IE_LT_9 = !p.document.addEventListener, e.IS_IE_LT_8 = !p.document.querySelector, e.IS_TOUCH_DEVICE = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent || navigator.vendor || window.opera) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent || navigator.vendor || window.opera).substr(0, 4)), e.IS_PHONE = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent || navigator.vendor) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent || navigator.vendor).substr(0, 4)), e.IS_TABLET = e.IS_TOUCH_DEVICE && !e.IS_PHONE, e.IS_IOS = -1 !== ["iPad Simulator", "iPhone Simulator", "iPod Simulator", "iPad", "iPhone", "iPod"].indexOf(p.navigator.platform), e.IS_ANDROID = -1 !== navigator.userAgent.toLowerCase().indexOf("android"), e.IS_FIREFOX = -1 !== navigator.userAgent.toLowerCase().indexOf("firefox"), e.RE_EMAIL = /^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/, e.RE_PHONE = /^\d{9,15}$/, e.RE_HREF = /(^|\s)(((?:http|https|ftp|):\/\/(?:[^:]+:[^@]+@)?)|(.{0}(?=www\.)))([^\s]+)+/gim, e.ZZZZZZ = "ZZZZZZ", e.VALID_FILE_EXTENSIONS = ["png", "xpm", "jpg", "doc", "docx", "txt", "xls", "xlsx", "csv", "odt", "ods", "pdf", "djvu", "xml", "fb2", "epub"] }(e.C || (e.C = {})), e.log = function() { for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                t = [].slice.call(arguments); var o = f[t[0]] || "";
                t.unshift(o), t.unshift("%c" + e.getTimeStr()), e.__debug && p.console && console.log.apply && console.log.apply(console, t) }, e.error = function() { var t = [].slice.call(arguments);
                t.unshift("[Comagic]"), e.__debug && console.error.apply(console, t) }, e.getDebugParam = function(e) { var t = this.__debugparams; return !e || "encodejson" == e && this.isObject(t) ? "encodejson" == e ? JSON.stringify(t) : t : this.isObject(t) && t[e] || "" }, e.camelize = function(e) { return e.replace(/(?:^|[-_])(\w)/g, (function(e, t) { return t ? t.toUpperCase() : "" })) }, e.sformat = t, e.endsWith = function(e, t) { return -1 != e.indexOf(t, e.length - t.length) }, e.startsWith = function(e, t) { if (o.essential.isArray(t)) { for (var n, i = 0; n = t[i]; i++)
                        if (this.startsWith(e, n)) return !0;
                    return !1 } return 0 == e.indexOf(t) }, e.ensureEndsWith = function(e, t) { return this.endsWith(e, t) ? e : e + t }, e.stripTags = function(e) { return e.replace(/(<([^>]+)>)/gi, "") }, e.textLinksToHtml = function(e) { return ("" + e).replace(this.C.RE_HREF, (function() { var e = arguments; return t('{0}<a href="{1}{2}">{2}</a>', e[1], e[3] || "", encodeURI(e[5])) })).replace('href="www.', 'href="http://www.').replace('href="://', 'href="http://') }, e.crLfToBr = function(e) { return e.replace(/\n\r/g, "<br/>").replace(/\r\n/g, "<br/>").replace(/\n/g, "<br/>").replace(/\r/g, "<br/>") }, e.brToCrLf = function(e) { return e.replace("/<br/>/g", "\n") }, e.strim = function(e) { return (e = "" + e).replace(/\s/g, "") }, e.getChunks = function(e, t) { for (var n = (e || "").split(" "), o = [""], i = 0; i < n.length; i++) { var r = o[o.length - 1];!r.length || r.length + n[i].length < t - 1 ? o[o.length - 1] = [r, n[i]].join(" ").trim() : o.push(n[i]) } return o }, e.getCountryLength = function(e) { return -1 !== ["1", "7"].indexOf(e.raw.substring(0, 1)) ? 1 : -1 !== ["20", "27", "30", "31", "32", "33", "34", "36", "39", "40", "41", "43", "44", "45", "46", "47", "48", "49", "51", "52", "53", "54", "55", "56", "57", "58", "60", "61", "62", "63", "64", "65", "66", "81", "82", "84", "86", "90", "91", "92", "93", "94", "95", "98"].indexOf(e.raw.substring(0, 2)) ? 2 : 3 }, e.getCityLength = function(e, t) { return e.len ? e.len : e.prefix ? e.prefix.length - t : 3 }, e.formatPhone = function(e) { "77" === e.prefix && (e.prefix = "7"); var t = this.getCountryLength(e);
                e.prefix && e.prefix.length === t && (e.prefix = null); var n = e.mask,
                    o = e.format || "+{country} ({city}) {phone}",
                    i = this.getCityLength(e, t),
                    r = e.raw && e.raw.substr(i + t),
                    s = n && (n.match(/#/g) || []).length,
                    a = r && r.length,
                    c = e.text,
                    l = 0; if (!r && c) return c; if (s > a)
                    for (var u = 0; u < s - a; u++) n = n.replace("#", "");
                else if (s < a)
                    for (u = 0; u < a - s; u++) n = "#" + n; return r = n.replace(/#/g, (function() { return r[l++] || "" })), this.sformat(o, { country: e.raw.substr(0, t), city: e.raw.substr(t, i), phone: r }) }, e.isNotContainsOnlyWhitespaces = function(e) { return /\S/.test(e) }, e.dformat = function(e) { var t = e.getDate(),
                    n = e.getMonth() + 1; return e.getFullYear() + "-" + (n <= 9 ? "0" + n : n) + "-" + (t <= 9 ? "0" + t : t) }, e.tformat = function(e) { var t = (e = e || new Date).getHours(),
                    n = e.getMinutes(); return t < 10 && (t = "0" + t), n < 10 && (n = "0" + n), t + ":" + n }, e.dApplyTimeDelta = function(e, t) { var n; return "number" == typeof e ? n = new Date(1e3 * e) : (t = t || 0, (e = e.split(/(?:\s|T)/))[0] = e[0].split("."), e[1] = e[1].split(":"), n = new Date(e[0][2], e[0][1], e[0][0], e[1][0], e[1][1], e[1][2])), n.setTime(e.getTime() - 1e3 * t), n }, e.dnow = function() { return +new Date }, e.dGetTimeDelta = function() { return this.timeDelta }, e.dSetTimeDelta = function(e) { this.timeDelta = e }, e.arrayIndexOf = n, e.arrayIsContain = function(e, t) { if (o.essential.isArray(t)) { for (var n, i = 0; n = t[i]; i++)
                        if (this.arrayIsContain(e, n)) return !0;
                    return !1 } return -1 !== this.arrayIndexOf(e, t) }, e.arrayForEach = function(e, t, n) { for (var o = 0; o < e.length; o++) t.call(n, e[o], o, e) }, e.arrayFilter = function(e, t, n) { for (var o, i = [], r = 0; o = e[r]; r++) !1 !== t.call(n || p, o) && i.push(o); return i }, e.inArray = function(e, t) { return this.arrayIndexOf(t, e) }, e.bind = function(e, t, n) { return function() { var o = [].slice.call(arguments); return e.apply(t, o.concat(n)) } }, e.wrapEvent = function(e, t, n) { return function() { var o = e.apply(n, arguments); return o ? (r.EventBus && r.EventBus.fireEvent.apply(r.EventBus, ["ulib:event"].concat(o)), t.apply(n, o)) : null } }, e.maybeCall = function(e, t, n, i) { return o.essential.isFunction(e) && (t = e), o.essential.isObject(t) && (n = t), o.essential.isString(t) && o.essential.isObject(e) && (t = e[t]), void 0 === n && o.essential.isObject(e) && (n = e), o.essential.isArray(t) && (i = t), o.essential.isArray(n) && (i = n), o.essential.isFunction(t) ? t.apply(n || this, i || []) : null }, e.extend = function(e, t) { this.isString(t) && (t = this.getObjByName(t)); var n = function() {};
                n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e, e.superclass = t.prototype }, e.mixIn = function(e, t, n, o) { var i = Array.prototype.slice.apply(arguments); if (e = i.shift(), t = i.shift(), n = i.shift() || [], this.isString(t) && (t = this.getObjByName(t)), this.isString(n) && (o = n, n = []), !o) throw "Name of the mixin within the target must be specified"; if (!t) throw "Cannot mix-in from undefined source"; if (!e) throw "Cannot mix-in to undefined target"; if (!e.prototype.hasOwnProperty("mixins")) { var r = e.prototype.mixins; if (e.prototype.mixins = {}, r)
                        for (var s in r) e.prototype.mixins[s] = r[s] } if (t = this.isFunction(t) ? t.prototype : t, o && (e.prototype.mixins[o] = t), n.length)
                    for (var a = 0, c = void 0; c = n[a]; a++) e.prototype[c] = this.isFunction(t) ? t.prototype[c] : t[c];
                else
                    for (var c in t) e.prototype[c] = t[c] }, e.isinstance = function(e, t) { this.isArray(t) || (t = [t]); for (var n, o = 0; n = t[o]; o++) { if (this.isString(n) && (n = this.getObjByName(n)), e instanceof n) return !0; var i = e.mixins; if (i)
                        for (var r, s = 0; r = i[s]; s++)
                            if (e instanceof r) return !0 } return !1 }, e.applyIf = function(e, t) { for (var n in t) t.hasOwnProperty(n) && void 0 === e[n] && (e[n] = t[n]); return e }, e.isNs = function(e, t) { if (!e) return !1; for (var n, o = t || p, i = e.split("."), r = 0; n = i[r]; r++)
                    if (!(o = o[n])) return !1;
                return !0 }, e.getObjByName = function(e) { for (var t, n = p, o = e.split("."), i = [], r = 0; t = o[r]; r++) { if (!n[t]) return this.error("Property", t, "of", i.join("."), "is not an Object"), null;
                    n = n[t], i.push(t) } return n }, e.getURLParameter = function(e) { return decodeURI((new RegExp(e + "=(.+?)(&|$)").exec(p.location.search) || [, ""])[1]) }, e.getHashParameter = function(e) { return decodeURI((new RegExp(e + "=(.+?)(&|$)").exec(p.location.hash) || [, ""])[1]) }, e.clone = function(e) { if (!e || "object" != typeof e) return e; var t, n, o = "function" == typeof e.pop ? [] : {}; for (t in e) e.hasOwnProperty(t) && (n = e[t], o[t] = n && "object" == typeof n ? this.clone(n) : n); return o }, e.isInstance = function(e, t) { return this.isString(t) && (t = this.getObjByName(t)), e instanceof t }, e.okeys = function(e) { var t = []; for (var n in e) e.hasOwnProperty(n) && t.push(n); return t }, e.ovalues = function(e) { var t = []; for (var n in e) e.hasOwnProperty(n) && t.push(e[n]) }, e.loadScript = function(e, t) { var n = document.createElement("script"); return n.src = new o.essential.URL(e).toString(), n.async = !0, n.onload = t, document.head.appendChild(n), n }, e.opop = function(e, t) { var n = e[t]; return delete e[t], n }, e.storageGet = function(e) { var t = this.sessionStorage().getItem(e);
                null === t && (t = this.localStorage().getItem(e)); var n = JSON.parse(t); return n && n.ezstorage ? n.value : n }, e.storageSet = function(e, t, n) { return (n ? this.localStorage() : this.sessionStorage()).setItem(e, JSON.stringify(t)) },
            function(e) { e.items = {} }(e._localStorage || (e._localStorage = {})),
            function(e) { e.items = {} }(e._sessionStorage || (e._sessionStorage = {})),
            function(e) { e.getItem = function(e) { var t = this.items[e]; return void 0 === t ? null : t }, e.setItem = function(e, t) { this.items[e] = "" + t }, e.removeItem = function(e) { delete this.items[e] } }(e._storageApi || (e._storageApi = {})), e._checkStorage = function(e) { var t = "testtesttest";
                e.setItem(t, "1"), e.removeItem(t) }, e.localStorage = function() { try { return this._checkStorage(window.localStorage), window.localStorage } catch (e) { return this.log("window.localStorage not available. emulate"), this.apply(this._localStorage, this._storageApi) } }, e.sessionStorage = a, e.uuid = function() { var e = function() { return (65536 * (1 + Math.random()) | 0).toString(16).substring(1) }; return e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e() }, e.padNumber = function(e) { return (e < 10 ? "0" : "") + e }, e.getTimeStr = function(e) { return void 0 === e && (e = new Date), this.padNumber(e.getHours()) + ":" + this.padNumber(e.getMinutes()) + ":" + this.padNumber(e.getSeconds()) + "." + e.getMilliseconds() }, e.getTimestamp = function() { return Math.round((new Date).getTime() / 1e3) }, e.getExponentialBackoff = function(e) { return 1e3 * Math.pow(2, e) + Math.round(1e3 * Math.random()) }, e.getRandomInt = function(e, t) { return Math.floor(Math.random() * (t - e + 1)) + e }, e.getUrlParams = c, e.getUrlQuery = l, e.getUrlHash = u, e.prepareSelector = function(e) { if (0 === e.indexOf("/")) { var t = /(\w+)\[(\d+)\]/,
                        n = e.split("/");
                    n.splice(0, 1); for (var o = 0; o < n.length; o++) t.test(n[o]) && (n[o] = n[o].replace(t, (function(e, t, n) { return t + ":eq(" + (parseInt(n, 10) - 1) + ")" }))); return n.join(" > ") } return e }, e.getDebugExternalChatComagicWebUrl = function() { var e = a(); if (e) return e.getItem("cmg:debugExternalChatComagicWebUrl") }, e.getDeviceType = function() { return e.isDeviceTypePhone || e.C.IS_PHONE ? "mobile" : e.C.IS_TABLET ? "tablet" : "desktop" }, e.isObject = function(e) { return e === Object(e) }, e.createElFromHtml = function(e) { var t = document.createElement("comagic"); return t.innerHTML = e.trim(), t.childNodes[0] }, e.createLinkTag = function(e) { var t = document.createElement("link"); return t.setAttribute("rel", "stylesheet"), t.setAttribute("type", "text/css"), t.setAttribute("href", e), t }, e.setDebug = function(t) { var o = i.CookieShop; try { void 0 === t ? e.__debug = void 0 !== l()._comagic_set_debug ? l()._comagic_set_debug : void 0 !== u()._comagic_set_debug ? u()._comagic_set_debug : -1 !== n([1, !0, "true", "1"], o.get(o.DEBUG)) : (e.__debug = -1 !== n([1, !0, "true", "1"], t), o.set(o.DEBUG, t, -1)) } catch (e) { console.log(e) } }, e.isUriLocal = function(e) { return e = encodeURIComponent(e || document.location.href), 0 === decodeURIComponent(e).indexOf("file:///") }, e.typeOf = function(e) { if (null === e) return "null"; var t = typeof e; if ("undefined" === t || "string" === t || "number" === t || "boolean" === t) return t; var n = Object.prototype.toString.call(e); if (void 0 !== e.length && "function" != typeof e) return "array"; switch (n) {
                    case "[object Array]":
                        return "array";
                    case "[object Date]":
                        return "date";
                    case "[object Boolean]":
                        return "boolean";
                    case "[object Number]":
                        return "number";
                    case "[object RegExp]":
                        return "regexp" } return "function" === t ? "function" : "object" === t ? "object" : void 0 }, e.apply = function e(t, n) { for (var o in t = t || {}, n) "object" == typeof n[o] ? t[o] = e(t[o], n[o]) : t[o] = n[o]; return t }, e.isNumber = function(e) { return "number" == typeof e && isFinite(e) }, e.isString = function(e) { return "string" == typeof e }; var h = navigator.userAgent.toLocaleLowerCase();
        e.isOpera = /opera/i.test(h), e.isWebKit = /webkit/i.test(h), e.isGecko = !e.isWebKit && /gecko/i.test(h), e.isChrome = /chrome/i.test(h), e.isIE = !e.isOpera && /msie/i.test(h) || /trident.*rv\:11\./i.test(h) || /edge/i.test(h), e.isSafari = /safari/i.test(h) && !/chrome/i.test(h), e.isiPhone = /iphone/i.test(h), e.isAndroid = /android/i.test(h), e.isiPad = /ipad/.test(h), e.isDeviceTypePhone = e.C.IS_PHONE, e.isKeyNum = function(e, t) { var n = s.KEY.CODES; switch (e) {
                case n.ZERO:
                case n.ONE:
                case n.TWO:
                case n.THREE:
                case n.FOUR:
                case n.FIVE:
                case n.SIX:
                case n.SEVEN:
                case n.EIGHT:
                case n.NINE:
                case n.NUM_ZERO:
                case n.NUM_ONE:
                case n.NUM_TWO:
                case n.NUM_THREE:
                case n.NUM_FOUR:
                case n.NUM_FIVE:
                case n.NUM_SIX:
                case n.NUM_SEVEN:
                case n.NUM_EIGHT:
                case n.NUM_NINE:
                    if (void 0 !== t && void 0 !== t.keyIdentifier) { if (t.target && t.target.getAttribute && t.target.getAttribute("c-no-key-identifier-check")) return !0; switch (t.keyIdentifier) {
                            case "U+0030":
                            case "U+0031":
                            case "U+0032":
                            case "U+0033":
                            case "U+0034":
                            case "U+0035":
                            case "U+0036":
                            case "U+0037":
                            case "U+0038":
                            case "U+0039":
                                return !0;
                            default:
                                return !1 } } return !0;
                default:
                    return !1 } }, e.getXY = function(e) { return [d(e, "X"), d(e, "Y")] }, e.isTouch = void 0 !== document.ontouchstart, e.containsNonLatinCodepoints = function(e) { return /[^\u0000-\u00ff]/.test(e) }, e.init = function() { this.__debugparams = this.getURLParameter("bannerdebug"), this.__debugger = 2 == this.getURLParameter("bannerdebug"); try { this.__debugparams = JSON.parse(this.__debugparams) } catch (e) { this.log("Cannot parse debug params. Going to plain debug mode.") } var e = this.getURLParameter("time_delta"); "" !== e && this.dSetTimeDelta(e) }, e.init() }(t.util || (t.util = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(7);
    t.EventBus = new o.Observable }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3),
        i = function() {
            function e() { this.initObservable() } return e.prototype.initObservable = function() { this.events = {} }, e.prototype.on = function(e, t, n) { if (o.essential.isObject(e))
                    for (var i in n = e.scope, e) e.hasOwnProperty(i) && this.on(i, e[i], n); var r = this.events[e] || [];
                r.push({ fn: t, scope: n }), this.events[e] = r }, e.prototype.un = function(e, t) { for (var n, o = this.events[e] || [], i = [], r = 0; n = o[r]; r++) n.fn !== t && i.push(n);
                this.events[e] = i }, e.prototype.fireEvent = function(e, t) { for (var n = [], o = 2; o < arguments.length; o++) n[o - 2] = arguments[o]; var i, r = Array.prototype.slice.apply(arguments),
                    s = !0;
                e = r.shift(), i = this.events[e] || []; for (var a = 0, c = void 0; c = i[a]; a++) s = !1 !== c.fn.apply(c.scope || this, r) && s; return s }, e.prototype.hasListeners = function(e) { return !(!this.events[e] || !this.events[e].length) }, e }();
    t.Observable = i }, function(e, t) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }),
        function(e) {! function(e) { e[e.BACKSPACE = 8] = "BACKSPACE", e[e.TAB = 9] = "TAB", e[e.ENTER = 13] = "ENTER", e[e.RETURN = 13] = "RETURN", e[e.SHIFT = 16] = "SHIFT", e[e.CTRL = 17] = "CTRL", e[e.ALT = 18] = "ALT", e[e.ESC = 27] = "ESC", e[e.END = 35] = "END", e[e.HOME = 36] = "HOME", e[e.LEFT = 37] = "LEFT", e[e.UP = 38] = "UP", e[e.RIGHT = 39] = "RIGHT", e[e.DOWN = 40] = "DOWN", e[e.INSERT = 45] = "INSERT", e[e.DELETE = 46] = "DELETE", e[e.ZERO = 48] = "ZERO", e[e.ONE = 49] = "ONE", e[e.TWO = 50] = "TWO", e[e.THREE = 51] = "THREE", e[e.FOUR = 52] = "FOUR", e[e.FIVE = 53] = "FIVE", e[e.SIX = 54] = "SIX", e[e.SEVEN = 55] = "SEVEN", e[e.EIGHT = 56] = "EIGHT", e[e.NINE = 57] = "NINE", e[e.NUM_ZERO = 96] = "NUM_ZERO", e[e.NUM_ONE = 97] = "NUM_ONE", e[e.NUM_TWO = 98] = "NUM_TWO", e[e.NUM_THREE = 99] = "NUM_THREE", e[e.NUM_FOUR = 100] = "NUM_FOUR", e[e.NUM_FIVE = 101] = "NUM_FIVE", e[e.NUM_SIX = 102] = "NUM_SIX", e[e.NUM_SEVEN = 103] = "NUM_SEVEN", e[e.NUM_EIGHT = 104] = "NUM_EIGHT", e[e.NUM_NINE = 105] = "NUM_NINE", e[e.NUM_PLUS = 107] = "NUM_PLUS", e[e.NUM_MINUS = 109] = "NUM_MINUS", e[e.A = 65] = "A", e[e.B = 66] = "B", e[e.C = 67] = "C", e[e.D = 68] = "D", e[e.E = 69] = "E", e[e.F = 70] = "F", e[e.G = 71] = "G", e[e.H = 72] = "H", e[e.I = 73] = "I", e[e.J = 74] = "J", e[e.K = 75] = "K", e[e.L = 76] = "L", e[e.M = 77] = "M", e[e.N = 78] = "N", e[e.O = 79] = "O", e[e.P = 80] = "P", e[e.Q = 81] = "Q", e[e.R = 82] = "R", e[e.S = 83] = "S", e[e.T = 84] = "T", e[e.U = 85] = "U", e[e.V = 86] = "V", e[e.W = 87] = "W", e[e.X = 88] = "X", e[e.Y = 89] = "Y", e[e.Z = 90] = "Z", e[e.DOT = 190] = "DOT" }(e.CODES || (e.CODES = {})), e.MAP = { 48: "0", 49: 1, 50: 2, 51: 3, 52: 4, 53: 5, 54: 6, 55: 7, 56: 8, 57: 9, 96: 0, 97: 1, 98: 2, 99: 3, 100: 4, 101: 5, 102: 6, 103: 7, 104: 8, 105: 9, 107: "+", 109: "-", 65: "a", 66: "b", 67: "c", 68: "d", 69: "e", 70: "f", 71: "g", 72: "h", 73: "i", 74: "j", 75: "k", 76: "l", 77: "m", 78: "n", 79: "o", 80: "p", 81: "q", 82: "r", 83: "s", 84: "t", 85: "u", 86: "v", 87: "w", 88: "x", 89: "y", 90: "z", 190: "." } }(t.KEY || (t.KEY = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5),
        i = n(10),
        r = n(11),
        s = n(12);! function(e) {
        function t(e) { o.util.log("Sending event notification, event:", e), v(e) }

        function n(e) { if (e) { var t = i.dimension.getWindowScrollTop(),
                    n = i.dimension.getWindowHeight() + t,
                    o = i.dimension.offset(e).top; return o + e.clientHeight <= n && o >= t } return !1 }

        function a(e) { for (var n in y)
                if (y.hasOwnProperty(n))
                    for (var o, i = document.querySelectorAll(n), r = 0; o = i[r]; r++)
                        if (e.target === o) { t(y[n]); break } }

        function c(e) { for (var n in w)
                if (w.hasOwnProperty(n))
                    if (n == E) { if (e.target.href && -1 == e.target.href.indexOf(T)) { t(w[n]); break } } else if (e.target.href && e.target.href.match(new RegExp(n))) { t(w[n]); break } }

        function l(e) { r.un(window, "scroll", g), t(b.scrollStart) }

        function u(e) { i.dimension.getWindowScrollTop() + i.dimension.getWindowHeight() === i.dimension.getDocumentHeight() && (r.un(window, "scroll", _), t(b.scrollEnd)) }

        function d(e) { for (var o in b.scrollTo)
                if (b.scrollTo.hasOwnProperty(o)) { var i = document.querySelector(o);
                    i && n(i) && (t(b.scrollTo[o]), delete b.scrollTo[o]) } }

        function p(e) { for (var t = 0; e[t]; t++) y[o.util.prepareSelector(e[t][1])] = e[t][0];
            r.on(document, "click", o.util.bind(a, this)) }

        function f(e) { for (var t, n = 0; t = e[n]; n++) w[t[1]] = t[0];
            r.on("a", "click", o.util.bind(c, this)) }

        function h(e) { g = o.util.bind(l, this), _ = o.util.bind(u, this); for (var t = 0; e[t]; t++) "comagic_scroll_start" == e[t][1] ? (b.scrollStart = e[t][0], r.on(window, "scroll", g)) : "comagic_scroll_end" == e[t][1] ? (b.scrollEnd = e[t][0], r.on(window, "scroll", _)) : b.scrollTo[o.util.prepareSelector(e[t][1])] = e[t][0]; if (b.scrollTo) { var n = o.util.bind(d, this);
                r.on(window, "scroll", n) } }

        function m(e) { for (var n = function(e) { setTimeout((function() { t(e[0]) }), 1e3 * e[1]) }, o = 0, i = e; o < i.length; o++) { n(i[o]) } } var g, _, v = s.Analytics.notifiOnEvent,
            b = { scrollStart: null, scrollEnd: null, scrollTo: {} },
            y = {},
            w = {},
            E = "_external_link_",
            T = 0 == document.location.host.indexOf("www.") ? document.location.host.slice(4) : document.location.host;
        e.onAlyTrackview = function(e, t) { var n = t.es,
                o = n && n.ce,
                i = n && n.le,
                r = n && n.se,
                s = n && n.tm;
            o && p(o), i && f(i), r && h(r), s && m(s) } }(t.Events || (t.Events = {})) }, function(e, t) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }),
        function(e) {
            function t() { n = document.body, i = o.documentElement } var n = document.body,
                o = document,
                i = o.documentElement;
            e.getWindowScrollTop = function e() { return t(), n ? "undefined" != typeof pageYOffset ? pageYOffset : n.scrollTop : void document.addEventListener("DOMContentLoaded", e) }, e.getWindowHeight = function e() { return t(), n ? window.innerHeight || i.clientHeight || n.clientHeight : void document.addEventListener("DOMContentLoaded", e) }, e.getDocumentHeight = function e() { return t(), n ? Math.max(n.scrollHeight, i.scrollHeight, n.offsetHeight, i.offsetHeight, n.clientHeight, i.clientHeight) : void document.addEventListener("DOMContentLoaded", e) }, e.offset = function(e) { for (var t = { left: e.offsetLeft || 0, top: e.offsetTop || 0 }; e = e.offsetParent;) t.left += e.offsetLeft, t.top += e.offsetTop; return t }, e.getViewportSize = function() { var e = navigator.userAgent.toLowerCase(),
                    t = e.indexOf("opera") > -1,
                    n = !t && e.indexOf("msie") > -1; return { width: !document.compatMode && !n || t ? document.defaultView.innerWidth : "CSS1Compat" === document.compatMode ? document.documentElement.clientWidth : document.body.clientWidth, height: !document.compatMode && !n || t ? document.defaultView.innerHeight : "CSS1Compat" === document.compatMode ? document.documentElement.clientHeight : document.body.clientHeight } } }(t.dimension || (t.dimension = {})) }, function(e, t, n) { "use strict";

    function o(e) { var t = !1,
            n = !0,
            o = function(n) { "readystatechange" == n.type && "complete" != a.readyState || (("load" == n.type ? s : a)[d](p + n.type, o, !1), !t && (t = !0) && e.call(s, n.type || n)) },
            i = function() { try { c.doScroll("left") } catch (e) { return void setTimeout(i, 50) }
                o("poll") }; if ("complete" === a.readyState || "loading" === a.readyState || "interactive" === a.readyState) e.call(s, "lazy");
        else { if (!l && c.doScroll) { try { n = !s.frameElement } catch (e) {}
                n && i() }
            a[u](p + "DOMContentLoaded", o, !1), a[u](p + "readystatechange", o, !1), s[u](p + "load", o, !1) } }

    function i(e, t, n, o) { if (r.essential.isString(t))
            for (var s, c = a.querySelectorAll(t), l = 0; s = c[l]; l++) i(e, s, n, o);
        else t[e ? u : d](p + n, o, !0) }
    Object.defineProperty(t, "__esModule", { value: !0 }); var r = n(3),
        s = window,
        a = s.document,
        c = a.documentElement,
        l = a.addEventListener,
        u = l ? "addEventListener" : "attachEvent",
        d = l ? "removeEventListener" : "detachEvent",
        p = l ? "" : "on";
    t.contentLoaded = o, t.on = function(e, t, n) { i(!0, e, t, n) }, t.ons = function(e, t, n) { for (var o, i = 0; o = t[i]; i++) this.on(e, o, n) }, t.un = function(e, t, n) { i(!1, e, t, n) }, t.ready = function(e) { o(e) } }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3),
        i = n(5),
        r = n(2),
        s = n(1),
        a = n(6),
        c = n(4),
        l = n(13),
        u = n(16),
        d = n(14),
        p = n(17),
        f = n(18);! function(e) {
        function t() { var e = O("/e/b/", { e: "close" }),
                t = R + "/e/b/" + B.sformat("?sk={sk}&ci={ci}&hi={hi}&e={e}", e);
            M && (B.log("[Aly]", "Session closed on web-client side"), navigator && navigator.sendBeacon && navigator.sendBeacon(t)) }

        function n() { g(), _(), X.setTimeout((function() { m() }), j), c.Queue.registerAndProcess(e.__commands, e, !0) }

        function h() { s.CookieShop.set(s.CookieShop.CLIENT_SESSION_START_TIME, B.getTimestamp()), q.fireEvent("aly:startsession", e, Y) }

        function m() { q.fireEvent("aly:stopsession", e, Y), v() }

        function g() { M = !0 }

        function _() { if (M) { X.clearTimeout(L); var e = 6e4;
                J || void 0 === D || (e = D), L = setTimeout((function() { J || (J = !0), E() }), e) } }

        function v() { X.clearTimeout(L), M = !1 }

        function b() { var e = k("/t/v/", { ur: document.location.href, ti: document.title.slice(0, 1e3), re: document.referrer, la: navigator.language, sc: screen.width + "x" + screen.height, uc: u.UA.clientId || "", dv: i.util.getDeviceType() }, x); return K = G, e }

        function y(t) { return e.sendSessionParameter("ua_client_id", u.UA.clientId || t) }

        function w(t) { return e.sendSessionParameter("ym_client_id", t) }

        function E() { return k("/e/p/") }

        function T() { var e = Y.ci || s.CookieShop.getComagicId(); return "undefined" === e && (e = void 0), e }

        function S(e) { if (e && e.length)
                for (var t = 0, n = void 0, o = void 0, i = void 0, r = e.length; t < r; t++) o = (n = e[t]).name, i = n.params, W[o].call(this, i) }

        function k(e, t, n) { var i = this;
            void 0 === t && (t = {}), B.log("[Aly]", B.sformat("request({0})", e), t, n); var r = O(e, t); for (var s in r)
                if (r.hasOwnProperty(s)) { var a = r[s];
                    o.essential.isEmpty(a) && delete r[s] }
            return _(), d.ajax({ url: R + e, crossDomain: !0, method: "GET", data: r, withCredentials: !0, contentType: "application/json", complete: function(o) { var r = JSON.parse(o.response); return r && r.success ? (N.apply(i, r.result), void(n && n.apply(i, r.result))) : (B.log("[Aly]", "Got unsuccessful response on " + e + ": ", r), void q.fireEvent("aly:requesterror", i, e, t)) } }) }

        function O(e, t) { var n = { sk: U, t: F, ci: T(), hi: Y.hi }; return "/t/v/" === e && delete n.hi, n.t || delete n.t, o.essential.apply(n, t) }

        function A(e) { var t = function() { y(e) };
            K === G ? c.Queue.push("waitForTrackViewAndRun", t) : K === V && t() }

        function C(e) { w(e) }

        function N(e, t, n) { return B.log("[Aly]", "onRequestComplete(", e, t, n, ")"), F = t, S(n), !0 }

        function I(e) { return e.hasOwnProperty("disconnect") }

        function x(i, a) { if (Y = o.essential.apply({}, i), I(i)) throw new Error(f.default("SITE_KEY_EXCEPTION"));
            P = +new Date - 1e3 * a, Y.cd && r.cookie.setDomain(Y.cd), !1 === Y.ce ? s.CookieShop.set(s.CookieShop.ALY_OFFLINE, "2") : s.CookieShop.del(s.CookieShop.ALY_OFFLINE), !0 === Y.tc && X.addEventListener("beforeunload", t), Y.ci && (s.CookieShop.get(s.CookieShop.COMAGIC_ID) != Y.ci && h(), s.CookieShop.setComagicId(Y.ci)), q.fireEvent("aly:trackview", e, Y, P), K = V, n() } var P, R, j, M, L, D, U, F, W, H = o.essential.isEmpty,
            G = 1,
            V = 2,
            B = i.util,
            q = a.EventBus,
            X = window,
            J = !1,
            Y = {},
            K = 0;
        e.__commands = ["waitForTrackViewAndRun", "trackEvent", "trackSysEvent", "setProperty", "getProperty", "hasProperty", "deleteProperty", "extendDtPhoneReservationTime", "addVisitorInfo", "acquirePhone"], e.init = function() { if (B.isUriLocal()) B.log("[Aly]", "Local URI disallowed");
                else { var e = l.SiteSettings.params("analytics"),
                        t = l.SiteSettings.info(); if (e) { U = t.key, R = e.server_url, j = e.session_ttl, D = e.first_ping_interval; var n = this;
                        c.Queue.push("waitForTrackViewAndRun", (function(e) { p.Ym.run(e, B.bind(C, n)) })), u.UA.detect(B.bind(A, this)), b() } else B.log("[Aly]", "No params specified") } }, e.goOnSession = n, e.startSession = h, e.stopSession = m, e.enablePing = g, e.processPing = _, e.disablePing = v, e.trackView = b, e.trackEvent = function(e, t, n, o) { return k("/t/e/", { ca: e, ac: t, la: n, va: o }) }, e.trackSysEvent = function(e) { return k("/t/se/", { ce: e }) }, e.setProperty = function(e, t) { return k("/p/s/", { pn: e, pv: t }) }, e.getProperty = function(e, t) { return k("/p/g/", { pn: e }, t) }, e.hasProperty = function(e, t) { return k("/p/h/", { pn: e }, t) }, e.deleteProperty = function(e) { return k("/p/d/", { pn: e }) }, e.setUaClientId = y, e.setYmClientId = w, e.ping = E, e.notifiOnEvent = function(e) { return k("/e/e/", { ei: e }) }, e.sendSessionParameter = function(e, t) { return k("/sp/s/", { n: e, v: t }) }, e.extendDtPhoneReservationTime = function(e) { return k("/dct/pn/", {}, e) }, e.addVisitorInfo = function(e, t) { return k("/vc/s/", { vn: e.name, ve: e.email, vp: e.phone }, t) }, e.ackDtPhoneReservation = function() { return k("/dct/co/") }, e.acquirePhone = function(e, t) { return k("/dct/gn/", { sb: e }, t) }, e.waitForTrackViewAndRun = function(e, t) { var n = this; return H(Y) ? (B.log("[Aly]", "No analytics session. Wait a bit"), !1) : void e.call(n, o.essential.apply({ session: Y }, t)) }, e.getComagicId = T, e.getHitId = function() { return Y.hi }, e.isComagicEnabled = function() { return Y.ce }, e.performCommands = S, e.request = k, e.composeParams = O, e.onUaDetected = A, e.onYmInit = C, e.onRequestComplete = N, e.isBadSitekey = I, e.onTrackView = x,
            function(t) { t.hide_dt_phones = function(t) { q.fireEvent("aly:hide_dt_phones", e, t) }, t.enable_phone_replacement = function(t) { q.fireEvent("aly:enable_phone_replacement", e, t) }, t.disable_phone_replacement = function(t) { q.fireEvent("aly:disable_phone_replacement", e, t) } }(W || (W = {})) }(t.Analytics || (t.Analytics = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3),
        i = n(5),
        r = n(14),
        s = n(1),
        a = n(6),
        c = n(15),
        l = n(4);! function(e) {
        function t() { return !!e._siteKey }

        function n() { var e = function(e, t) { var n = i.util.sessionStorage(); if (!n) return null; var o = JSON.parse(n.getItem(e)); return 1 == arguments.length ? o : o && o[t] }("comagic-widget:settings", "web_host"); if (e) return e; for (var t, n, o, r, s = document.getElementsByTagName("script"), a = 0; r = s[a]; a++)
                if (t = r.getAttribute("src"), (n = y.exec(t)) && -1 !== i.util.arrayIndexOf(b, n[0])) return (o = w.exec(t)) && o[1];
            return null }

        function u(e) { if (e && 200 === e.status)
                if (e.responseJSON || (e.responseJSON = JSON.parse(e.responseText)), e.responseJSON && e.responseJSON.success) { var t = e.responseJSON.data;
                    c.Storage.setUniquePostfix(_), t.ttl && c.Storage.setItem("_cmg_sitesettings", t, t.ttl), d(t) } else console.log("SiteSettings request is not successful", e);
            else console.log("SiteSettings request failed", e) }

        function d(t) { e._siteSettings = t, t.widgets && Object.getOwnPropertyNames(t.widgets).length && a.EventBus.fireEvent("ss:waitforloadcorescripts", e, e._siteSettings, g()) }

        function p(n) { t() || (e._siteKey = n, function() { for (var t; t = e._readyCallbacks.shift();) t() }()) }

        function f() { return e._siteKey || "" }

        function h(n) { t() ? n() : e._readyCallbacks.push(n) }

        function m() { return e._host }

        function g() { var t, r = i.util.sessionStorage(); return r && (t = r.getItem("cmg:comagicWebUrl")), t || (t = e._webHost || (e._webHost = n())), new o.essential.URL(t).toString() }

        function _() { return f().substring(0, 5) }

        function v(t) { return e._siteSettings[t] || e._siteSettings.widgets && e._siteSettings.widgets[t] }
        window.__cs_onReplacePhones = window.__cs_onReplacePhones || function(e) { return !0 }; var b = ["cs.min.js", "comagic.min.js", "comagic.debug.js", "main.debug.js"],
            y = /[^\/]+\.js/,
            w = /\/\/([^\/]+)/,
            E = "{0}{1}",
            T = "/ss/settings/";
        e._webHost = null, e._siteSettingsHost = null, e._siteKey = "", e._host = null, e._readyCallbacks = [], e._viewsHost = null, e._isWidgetsDisabled = !1, e.init = function() { var t = function(e) { for (var t = [], n = 1; n < arguments.length; n++) t[n - 1] = arguments[n]; var o = Array.prototype.slice.call(arguments, 1); return e.replace(/{(\d+)}/g, (function(e, t) { return void 0 !== o[t] ? o[t] : e })) }(E, e._siteSettingsHost || g(), T),
                n = c.Storage.getItem("_cmg_sitesettings"); if (!e._siteKey) throw new Error('WARNING! "setAccount" settings are using incorrect "siteKey". Standard functions of script are at holt.');
            n ? d(n) : function(e, t) { r.ajax({ url: e, crossDomain: !0, method: "GET", data: { sk: f(), pl: i.util.getDeviceType().toLowerCase() }, complete: t }) }(t, u.bind(e)) }, e.__commands = ["setAccount", "setCsAccount", "setWebUrl", "waitForSiteSettingsAndRun", "setSiteSettingsHost", "disableWidgets"], e.setAccount = p, e.setCsAccount = function(e) { p(e) }, e.getSiteKey = f, e.setWebUrl = function(t) { e._webHost = new o.essential.URL(t).replace({ path: "", query: "", hash: "" }) }, e.setSiteSettingsHost = function(t) { e._siteSettingsHost = new o.essential.URL(t).replace({ path: "", query: "", hash: "" }) }, e.setViewsUrl = function(t) { c.Storage.getItem("_cmg_customizeId") || c.Storage.setItem("_cmg_customizeId", i.util.uuid(), 0), e._viewsHost = new o.essential.URL(t).replace({ path: "", query: "", hash: "" }) }, e.disableWidgets = function(t) { e._isWidgetsDisabled = t }, e.waitForSiteSettingsAndRun = function(e) { return !!this._siteSettings && void e.call(this, this._siteSettings) }, e.ready = h, e.getHost = m, e.getWebHost = g, e.info = function() { return { key: f(), host: m(), web_host: g() } }, e.getConsultantParams = function() { return v("consultant") }, e.uniquePostfix = _, e.params = v, e.getServerBaseUrl = function() { if (e._siteSettings.server_url) { for (var t, n = m() || e._siteSettings.server_url, i = new o.essential.URL(n), r = [], s = i.path.split("/"), a = 0, c = s.length; t = s[a], a < c; a++) "comagic" !== t && r.push(t); return 1 === r.length && r.push(""), i.replace({ path: r.join("/") }) } }, e.isWidgetsDisabled = function() { return e._isWidgetsDisabled }, h((function() { s.CookieShop.setup(), s.CookieShop.setUniquePostfix(_), c.Storage.setUniquePostfix(_), i.util.setDebug() })), l.Queue.registerAndProcess(e.__commands, e, !0) }(t.SiteSettings || (t.SiteSettings = {})) }, function(e, t, n) { "use strict";

    function o() { for (var e = null, t = 0; t < r.length; t++) { try { e = r[t]() } catch (e) { continue } break } return e }
    Object.defineProperty(t, "__esModule", { value: !0 }); var i = n(3),
        r = [function() { return new XMLHttpRequest }, function() { return new ActiveXObject("Msxml2.XMLHTTP") }, function() { return new ActiveXObject("Msxml3.XMLHTTP") }, function() { return new ActiveXObject("Microsoft.XMLHTTP") }];
    t.ajax = function(e, t) { i.essential.isObject(e) && (e = (t = e).url), e = new i.essential.URL(e).toString(), t = t || {}; var n = o(),
            r = t.data,
            s = t.complete,
            a = t.error; if (n) { var c = t.method || (r ? "POST" : "GET"); "GET" === c && r && (e = new i.essential.URL(e).replace({ query: r }), r = void 0), n.open(c, e, !0), t && void 0 !== t.withCredentials && (t.withCredentials ? n.withCredentials = !0 : n.setRequestHeader("X-No-Credentials", !0)), "POST" === c && r && (t.headers || n.setRequestHeader("Content-type", t.contentType || "application/x-www-form-urlencoded; charset=UTF-8")), n.onreadystatechange = function() { if (4 == n.readyState) return 200 != n.status && 304 != n.status ? void(a && a(n)) : void(s && t.complete(n)) }, 4 != n.readyState && n.send(r) } } }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5);! function(e) {
        function t(e) { return e + i }

        function n(e) { o.util.localStorage().removeItem(t(e)) } var i;
        e.setUniquePostfix = function(e) { i = e() }, e.makeKey = t, e.getItem = function(e) { var i = JSON.parse(o.util.localStorage().getItem(t(e))); return i && "__value__" in i ? i.__expires__ && i.__expires__ < o.util.dnow() ? (n(e), null) : i.__value__ : i }, e.setItem = function(e, n, i) { n = void 0 === n ? null : n, o.util.localStorage().setItem(t(e), JSON.stringify({ __value__: n, __expires__: i && i + o.util.dnow() })) }, e.removeItem = n }(t.Storage || (t.Storage = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5);! function(e) { var t = o.util,
            n = t.getTimestamp();
        e.clientId = ""; var i = 100,
            r = 25;
        e.detect = function(e) { t.log("[UA]", ".detect(", e, ")"), e && (this.callback = e); try { window[window.GoogleAnalyticsObject](t.bind(this.onReady, this)) } catch (e) { this.haveToTryAgain() ? (t.log("[UA]", "Unable to detect UA Client ID. Next try in", i, "ms"), window.setTimeout(t.bind(this.detect, this), i)) : t.log("[UA]", "Unable to detect UA Client ID. Drop it (") } }, e.onReady = function(e) { try { if (t.log("[UA]", ".onReady()"), this.clientId = e ? e.get("clientId") : window[window.GoogleAnalyticsObject].getAll()[0].get("clientId"), !this.clientId) throw "clientId is empty";
                t.log("[UA]", "clientId detected. Going to run the callback..."), this.callback && this.callback(this.clientId), t.log("[UA]", "callback has run") } catch (e) { t.log("[UA]", "Can't detect UA Client ID or callback failed", e) } }, e.haveToTryAgain = function() { return t.getTimestamp() - n < r } }(t.UA || (t.UA = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3),
        i = n(5),
        r = n(4);! function(e) { e.__commands = ["callYmApi"], e.prefix = "yaCounter"; var t, n = 25,
            s = 100;
        e.init = function(o) { if (o && !e.counter) return t || (t = i.util.getTimestamp()), e.counter = window[e.prefix + o], !e.counter && i.util.getTimestamp() - t < n ? void window.setTimeout((function() { e.init(o) }), s) : void(e.counter && (this.clientId = e.counter.getClientID(), this.callback && this.callback(this.clientId), r.Queue.registerAndProcess(e.__commands, e, !0))) }, e.callYmApi = function(t, n, i, r) { if (!e.counter) return !1;
            o.essential.isArray(n) || (n = [n]); var s = e.counter[t].apply(e.counter, n);
            i && i.call(r || e, s) }, e.sendYmCustomParams = function(e) { r.Queue.push("callYmApi", ["params", e]) }, e.run = function(t, n) { if (t.session.ym) { n && (this.callback = n); var o = { visitorID: {} };
                o.visitorID[Comagic.getVisitorId()] = { sessionID: Comagic.getSessionId() }, e.init(t.session.ym), e.sendYmCustomParams(o) } } }(t.Ym || (t.Ym = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(19),
        i = n(20),
        r = n(13);
    t.default = function(e, t) { var n = "ru" === (t || r.SiteSettings.params("common").lc) ? o.default : i.default; return e ? n[e] : n } }, function(e, t) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }), t.default = { LOCALE: "ru", PLACEHOLDERS: { name: "  ", phone: "  ", email: "  email", date: "", time: "", captcha: " " }, FIELD_IS_REQUIRED_ERROR_TEXT: " ", PERSONAL_INFO_TEXT: "    ", PREVIEW_CONSULTANT_OPERATOR_INFO: " ", OPERATOR_TYPING_TEXT: " ", RATING_TEXT: ",   ", RATING_FEEDBACK_TEXT: "!   ", VCARD_TEXT: "   , .", START_CHAT_TEXT: " ", WELCOME_CHAT_TEXT: "   !", SEND_OFFLINE_MESSAGE_TEXT: " ", CALL_SITEPHONE_TEXT: " ", DATE_CHANGE_TITLE_TEXT: "   e  ", DATE_NOW_TITLE_TEXT: " ", EDITOR_FIELD_TEXT: " ...", CALL_NOW_BUTTON_TEXT: " ", SELECT_DATETIME_BUTTON_TEXT: "  ", REPEAT_BUTTON_TEXT: "  ", CALL_GENERATOR_TITLE: " ", CALL_GENERATOR_MESSAGE: "       ", EMAIL_MESSAGE: { labelText: "     .", buttonText: " ", feedbackText: "     ." }, CHANGE_GROUP_MESSAGE: { labelText: "  ,     .", buttonText: " " }, SITEPHONE_MESSAGE: { labelText: "  ,    .", buttonText: " " }, OFFLINE_MESSAGE_MESSAGE: { labelText: "  ,   .", buttonText: " " }, MONTHS: ["", "", "", "", "", "", "", "", "", "", "", ""], DATE_FORMAT: "{0} {1}", SITE_KEY_EXCEPTION: "!     setAccount   siteKey      .", PHONE_REPLACER_FUNCTION_EXCEPTION: "      ", RESPONSE_CODES: { default: { title: "  ", message: "   " }, "010": { title: "    email", message: "   " }, 110: { title: "    email", message: " " }, 910: { title: "    email", message: " " }, "020": {}, "030": { title: " ", message: "  " }, 121: { title: "  ", message: "  " }, 122: { title: "  ", message: ",     . , , ." } }, LEADGEN: { nonWorkingTime: { title: "    ", description: "       !", thanksTitle: "       " }, placeholders: { name: "", email: "Email", typeMessageAndSend: "    Enter" }, sourceTracking: { invitation: " #{0}.   ,     " }, errors: { fileTooBig: "  &nbsp;&mdash;30" } } } }, function(e, t) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }), t.default = { LOCALE: "en-EN", PLACEHOLDERS: { name: "Name", phone: "Phone number", email: "Email", date: "Date", time: "Time", captcha: "Enter captcha" }, FIELD_IS_REQUIRED_ERROR_TEXT: "This field is required", PERSONAL_INFO_TEXT: "I agree to process of my credentials", PREVIEW_CONSULTANT_OPERATOR_INFO: "First and Last Name", OPERATOR_TYPING_TEXT: "Operator is typing", RATING_TEXT: "Please rate your operator ", RATING_FEEDBACK_TEXT: "Thank you for you feedback", VCARD_TEXT: "Introduce yourself please.", START_CHAT_TEXT: "Start chatting", WELCOME_CHAT_TEXT: "Welcome to chat!", SEND_OFFLINE_MESSAGE_TEXT: "Submit", CALL_SITEPHONE_TEXT: "Call me", DATE_CHANGE_TITLE_TEXT: "Choose time and date for calling", DATE_NOW_TITLE_TEXT: "Call now", EDITOR_FIELD_TEXT: "Send message...", CALL_NOW_BUTTON_TEXT: "Call now", SELECT_DATETIME_BUTTON_TEXT: "Select date and time", REPEAT_BUTTON_TEXT: "Try again", CALL_GENERATOR_TITLE: "Call back", CALL_GENERATOR_MESSAGE: "Well contact you shortly", EMAIL_MESSAGE: { labelText: "Send message history to your email.", buttonText: "Send", feedbackText: "Message history was sent to your email." }, CHANGE_GROUP_MESSAGE: { labelText: "Click to switch groups.", buttonText: "Switch groups" }, SITEPHONE_MESSAGE: { labelText: "Click for call back.", buttonText: "Call back" }, OFFLINE_MESSAGE_MESSAGE: { labelText: "Click to submit your request.", buttonText: "Submit" }, MONTHS: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], DATE_FORMAT: "{1} {0}", SITE_KEY_EXCEPTION: 'WARNING! "setAccount" settings are using incorrect "siteKey". Standard functions of script are at holt.', PHONE_REPLACER_FUNCTION_EXCEPTION: "Error while running users number swopping request.", RESPONSE_CODES: { default: { title: "System not responding", message: "Please try again in a minute" }, "010": { title: "Message history was sent to your email", message: "Thank you for your reply" }, 110: { title: "Message history was sent to your email", message: "Try again later" }, 910: { title: "Message history was sent to your email", message: "Try again later" }, "020": {}, "030": { title: "We've Received Your Request", message: "We've will contact you soon" }, 121: { title: "Captcha is incorrect", message: "Please try again" }, 122: { title: "System not responding", message: "Sorry, the call cannot be completed right now. Please try again later" } }, LEADGEN: { nonWorkingTime: { title: "Operators are currently offline", description: "Leave a request and we will contact you!", thanksTitle: "The call will automatically come to you at the beginning of the working day" }, placeholders: { name: "Name", email: "Email", typeMessageAndSend: "Type your message and press Enter" }, sourceTracking: { invitation: "Request #{0}. Send this message to start communication with the operator" }, errors: { fileTooBig: "Max filesize is 30MB" } } } }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o, i = n(5),
        r = n(11),
        s = n(15),
        a = n(1),
        c = n(4),
        l = n(6),
        u = n(22),
        d = n(23),
        p = n(25),
        f = n(29),
        h = i.util,
        m = s.Storage,
        g = a.CookieShop,
        _ = d.DynamicalTracking,
        v = p.PhoneReplacer;! function(e) {
        function t() { return !1 !== m.getItem(g.PHONE_REPLACEMENT) }

        function n(e) { m.setItem(g.PHONE_REPLACEMENT, !!e) }

        function o(e) { m.setItem(g.CALLTRACKING_PHONES, e) }

        function i() { m.removeItem(g.CALLTRACKING_PHONES) }

        function s(t) { t.key === m.makeKey(a.CookieShop.FORCED_PHONES_REPLACEMENT_REQUIRED) && (t.newValue && JSON.parse(t.newValue).__value__ && (v.embedDefault(), e.replacePhonesFromStorage())) }
        e.isDynamicalReplacementEnabled = !1, e.__commands = ["setDynamicalReplacement"]; var l, d = void 0,
            p = void 0,
            b = void 0;
        e.getEnabled = t, e.setEnabled = n, e.storePhones = o, e.removePhones = i, e.replacePhonesFromStorage = function(e) { if ("2" == g.get(g.ALY_OFFLINE)) return h.log("[CallTracking]", "Offline. Stop working"); if (m.getItem(g.CALLTRACKING_PHONES) && this.getEnabled()) { var t = m.getItem(g.CALLTRACKING_PHONES);
                h.log("[CallTracking]", "About to replace phones from local storage", t), v.embed(t, "static", void 0, e), _.loadLocalStorageDtKey(), _.showPhones(e) } }, e.setDynamicalReplacement = function(t) { h.log("[CallTracking]", ".setDynamicalReplacement", t), e.isDynamicalReplacementEnabled != t && (e.isDynamicalReplacementEnabled = !!t, e.isDynamicalReplacementEnabled ? u.startObserve() : u.stopObserve()) }, e.init = function(e) { if (e) { h.log("[CallTracking]", ".init", e); var t = e.common;
                b = Boolean(t && t.is_clickstream_experiment), t && t.hasOwnProperty("is_dynamical_replacement_enabled") && this.setDynamicalReplacementFromSettings(t.is_dynamical_replacement_enabled), t && t.hasOwnProperty("dt_model") && (p = "usual_v2" === t.dt_model) } }, e.setDynamicalReplacementFromSettings = function(t) { h.log("[CallTracking]", ".setDynamicalReplacementFromSettings", t), !e.isDynamicalReplacementEnabled && t && f.API.push(["setDynamicalReplacement", [t]]) }, e.onAlyTrackview = function(t, s) { h.log("[CallTracking]", ".onAlyTrackview", t, s), !p && "dd" in s && _.processAckDtPhoneReservation(s.dd), r.ready((function() { if (b && "ps" in s) { var t = s.ps;
                    v.trackElementsBySelectors(t), l = t } if ("pr" in s && n(s.pr), v.embedDefault(), "pt" in s) { var r = v.formatPhones(s.pt);
                    o(r), s.pr && v.embed(r, "static") } else i(); "dp" in s ? (_.setup(s.dp, s.dt, s.da, p), _.saveLocalStorageDtKey(), s.pr && _.showPhones()) : _.delLocalStorageDtKey(), d && (m.setItem(g.FORCED_PHONES_REPLACEMENT_REQUIRED, !0), m.removeItem(g.FORCED_PHONES_REPLACEMENT_REQUIRED), d = !1), c.Queue.registerAndProcess(e.__commands, e, !0) })) }, e.onAlyStartSession = function(e, t) { h.log("[CallTracking]", ".onAlyStartSession", e, t), p ? (d = !0, window.addEventListener("storage", s)) : "dd" in t && _.clearAckDtPhoneReservationDone() }, e.onAlyStopSession = function(e, n) { t() && _.hidePhones() }, e.onAlyEnablePhoneReplacement = function(e, t) { this.setEnabled(!0), this.replacePhonesFromStorage() }, e.onAlyDisablePhoneReplacement = function(e, t) { this.setEnabled(!1), v.embedDefault() }, e.onAlyHideDtPhone = function(e, t) { _.hidePhones(t.numb) }, e.onMutationObserverChange = function(e) { for (var t = [], n = ["SCRIPT", "HEAD"], o = 0, i = e; o < i.length; o++) { var r, s = i[o];
                r = "characterData" == s.type && s.target.parentNode ? [s.target.parentNode] : s.addedNodes || [], [].forEach.call(r, (function(e) {-1 === n.indexOf(e.nodeName) && (e.parentElement ? "HEAD" !== e.parentElement.nodeName && t.push(e[0] ? e[0] : e) : t.push(e[0] ? e[0] : e)) })) }
            t.length && (this.replacePhonesFromStorage(t), b && l && v.trackElementsBySelectors(l, t)) } }(o = t.CallTracking || (t.CallTracking = {})), l.EventBus.on({ "aly:startsession": o.onAlyStartSession, "aly:stopsession": o.onAlyStopSession, "aly:enable_phone_replacement": o.onAlyEnablePhoneReplacement, "aly:disable_phone_replacement": o.onAlyDisablePhoneReplacement, "aly:hide_dt_phones": o.onAlyHideDtPhone, "mutationobserver:change": o.onMutationObserverChange, scope: o }) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(6),
        i = { childList: !0, subtree: !0, characterData: !0 },
        r = function(e) { s.disconnect(), o.EventBus.fireEvent("mutationobserver:change", e), s.observe(document.documentElement, i) },
        s = null;
    t.startObserve = function() {
        (s = new MutationObserver(r)).observe(document.documentElement, i) }, t.stopObserve = function() { s && s.disconnect() } }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3),
        i = n(5),
        r = n(4),
        s = n(1),
        a = n(24),
        c = n(25),
        l = n(15),
        u = n(12);! function(e) {
        function t(e) { if (!e) return null; for (var t = 0, n = void 0; n = e[t]; t++) n.dt = !0; return e } var n = r.Queue,
            d = s.CookieShop,
            p = a.ActivityMonitor,
            f = c.PhoneReplacer,
            h = d.DT,
            m = void 0,
            g = void 0,
            _ = void 0;
        e.setup = function(e, n, o, r) { i.util.log("[DynamicalTracking]", ".setup(", e, n, o, r, ")"), !r && this.cleanupProlongationMonitoring(), this.phones = t(e) || null, this.ttl = n || null, this.reserveTime = i.util.getTimestamp(), this.dtActivityInterval = o, this.expire = (new Date).getTime() + d._expires[h], this.hasSiteUsualV2DtModel = r, !r && p.startWatch() }, e.saveLocalStorageDtKey = function() { l.Storage.setItem(h, this.stringify()) }, e.loadLocalStorageDtKey = function() { var e = this.parse(l.Storage.getItem(h));
            (new Date).getTime() <= e.expire ? o.essential.apply(this, this.parse(l.Storage.getItem(h))) : this.delLocalStorageDtKey() }, e.delLocalStorageDtKey = function() { l.Storage.removeItem(h) }, e.prolongNumber = function() { var e = this;
            i.util.log("[DynamicalTracking]", ".prolongNumber"), n.push("extendDtPhoneReservationTime", (function(t) { e.onProlongNumber(t) })) }, e.onProlongNumber = function(e) { i.util.log("[DynamicalTracking]", ".onProlongNumber(", e, ")"), this.ttl = e, this.reserveTime = i.util.getTimestamp(), e || (this.phones = []), this.saveLocalStorageDtKey(), e && this.enableProlongationMonitoring() }, e.processAckDtPhoneReservation = function(e) { if (i.util.log("[DynamicalTracking]", ".processAckDtPhoneReservation ", e), !l.Storage.getItem(s.CookieShop.ACK_DT_PHONE_RESERVATION_DONE)) { var t = e - (i.util.getTimestamp() - s.CookieShop.get(s.CookieShop.CLIENT_SESSION_START_TIME));
                setTimeout((function() { u.Analytics.ackDtPhoneReservation(), l.Storage.setItem(s.CookieShop.ACK_DT_PHONE_RESERVATION_DONE, !0) }), t > 0 ? 1e3 * t : 1) } }, e.clearAckDtPhoneReservationDone = function() { i.util.log("[DynamicalTracking]", ".clearAckDtPhoneReservationDone"), l.Storage.setItem(s.CookieShop.ACK_DT_PHONE_RESERVATION_DONE, !1) }, e.waitActivityForProlongNumber = function(e) { var t = this;
            i.util.log("[DynamicalTracking]", ".waitActivityForProlongNumber", e); var n = this,
                o = i.util.getTimestamp();
            _ = setInterval((function() { return i.util.getTimestamp() - o > e ? void t.disableProlongationMonitoring() : void(o < p.lastActivityTime && (n.disableProlongationMonitoring(), n.prolongNumber())) }), 100) }, e.cleanupProlongationMonitoring = function() { g && clearTimeout(g), g = void 0, _ && clearInterval(_), _ = void 0 }, e.enableProlongationMonitoring = function() { var e = this;
            i.util.log("[DynamicalTracking]", ".enableProlongationMonitoring"); var t = this; if (t.cleanupProlongationMonitoring(), t.ttl && t.dtActivityInterval) { var n = t.reserveTime + t.ttl - t.dtActivityInterval - i.util.getTimestamp();
                i.util.log("[DynamicalTracking]", "timeout:", n, "me.reserveTime:", t.reserveTime, "me.ttl:", t.ttl, "me.dtActivityInterval:", t.dtActivityInterval, "now:", i.util.getTimestamp()), n > 0 ? (i.util.log("[DynamicalTracking]", "Schedule to check up the visitor activity in ", n, "secs"), g = setTimeout((function() { e.waitActivityForProlongNumber(e.dtActivityInterval) }), 1e3 * n)) : t.dtActivityInterval + n > 0 && t.waitActivityForProlongNumber(t.dtActivityInterval + n) } else i.util.log("[DynamicalTracking]", ".enableProlongationMonitoring", "FAILED. me.ttl:", t.ttl, "me.dtActivityInterval:", t.dtActivityInterval) }, e.disableProlongationMonitoring = function() { i.util.log("[DynamicalTracking]", ".disableProlongationMonitoring"), this.cleanupProlongationMonitoring() }, e.showPhones = function(e) { i.util.log("[DynamicalTracking]", ".showPhones(", this.phones, ")"); var t = this;
            t.phones && (!t.hasSiteUsualV2DtModel && t.enableProlongationMonitoring(), f.embed(t.phones, "dynamic", void 0, e)) }, e.hidePhones = function(e) { if (i.util.log("[DynamicalTracking]", ".hidePhones"), m && clearInterval(m), m = void 0, !this.hasSiteUsualV2DtModel && this.disableProlongationMonitoring(), e) { for (var t = function(t, n) { n.raw === e && f.embed(i.util.arrayFilter(l.Storage.getItem(d.CALLTRACKING_PHONES), (function(e) { return e.id === n.id })), "static") }, n = 0, o = void 0; o = this.phones[n]; n++) t(0, o);
                this.phones = i.util.arrayFilter(this.phones, (function(t) { return t.raw !== e })), this.saveLocalStorageDtKey() } else this.delLocalStorageDtKey(), f.embed(l.Storage.getItem(d.CALLTRACKING_PHONES), "static") }, e.addDtFlag = t, e.stringify = function() { var e = this; return JSON.stringify({ dtai: e.dtActivityInterval, ph: e.phones, ttl: e.ttl, rt: e.reserveTime, expire: e.expire }) }, e.parse = function(e) { var t = JSON.parse(e) || {}; return { dtActivityInterval: t.dtai, phones: t.ph, ttl: t.ttl, reserveTime: t.rt, expire: t.expire } } }(t.DynamicalTracking || (t.DynamicalTracking = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5),
        i = n(11);! function(e) {
        function t() { e.lastActivityTime = o.util.getTimestamp() }
        e.events = "mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove", e.onActivity = t, e.startWatch = function() { return i.ons(document.body, e.events.split(" "), o.util.bind(t, this)), e } }(t.ActivityMonitor || (t.ActivityMonitor = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o, i = n(3),
        r = n(26),
        s = n(5),
        a = n(18),
        c = n(28);! function(e) { e.Selector = "selector=", e.ID = "#", e.Class = ".", e.Name = "[name=", e.Number = "number=" }(o = t.CallTrackinRuleType || (t.CallTrackinRuleType = {})),
    function(e) {
        function t(t, n) { for (var i = 0, r = t; i < r.length; i++) { var s = r[i],
                    a = s.id.replace(o.Number, ""),
                    c = n && !s.dt ? a : e._replacedNumbers[a] || a,
                    l = n && !s.dt ? a : e._hrefReplacedNumbers[a] || a,
                    u = "\\+?" + c.split("").join("(?:[\\s\\-\\\\\\(\\)]*)?"),
                    d = "\\+?" + l.split("").join("(?:[\\s\\-\\\\\\(\\)]*)?");
                s._regExp = new RegExp(u, "g"), s._hrefRegExp = new RegExp(d, "g"), e._replacedNumbers[a] = s.text.replace(/\D+/g, ""), e._hrefReplacedNumbers[a] = s.raw } return t }

        function n(e, t) { return [].slice.apply(e).filter((function(e) { return 0 === e.id.indexOf(t) })) }

        function l(e) { var t = n(e, o.Selector),
                i = n(e, o.ID),
                r = n(e, o.Class),
                s = n(e, o.Name); return { textNumberRules: n(e, o.Number).sort((function(e, t) { return t.id.length > e.id.length ? 1 : -1 })), domRules: s.concat(r, i, t) } } var u = i.essential.apply;
        e.defaultPhonesObj = {}, e.isPhoneReplacingDone = !1, e._replacedNumbers = {}, e._hrefReplacedNumbers = {}, e.getDefaultPhones = function() { var t = []; for (var n in e.defaultPhonesObj) e.defaultPhonesObj.hasOwnProperty(n) && t.push(e.defaultPhonesObj[n]); return t }, e.addDefaultPhone = function(t) { t.id in e.defaultPhonesObj || (e.defaultPhonesObj[t.id] = t) }, e.formatPhones = function(e) { var t, n, o = []; if (e) { for (n = 0; n < e.length; n++) !(t = e[n]).img && t.raw && (t.text = s.util.formatPhone(t)), o.push(u({}, t));
                e = o } return e }, e.replacePhoneImage = function(t, n, o, i, s) { var a = document.querySelectorAll(t);!i && this.addDefaultPhone({ id: n, img: r.domhelper.attr(a, "src"), text: null, raw: null }), c.VisitorTracking.trackPhoneElements(a, n), r.domhelper.attr(a, "src", o), a.length && (e.isPhoneReplacingDone = !0, c.VisitorTracking.hasClickstreamExperiment && c.VisitorTracking.trackPhoneReplacement(s, n)) }, e.replacePhoneText = function(t, n, o, i, s, a) { var l = [],
                u = [];
            [].slice.apply(document.querySelectorAll(t)).map((function(e) { "A" === e.tagName && -1 !== e.href.indexOf("tel:") ? l.push(e) : u.push(e) })), l.length && (!s && this.addDefaultPhone({ id: n, img: null, text: r.domhelper.html(l), raw: (r.domhelper.attr(l, "href") || "").split("tel:")[1] }), c.VisitorTracking.trackPhoneElements(l, n), r.domhelper.html(l, o).attr(l, "href", "tel:+" + i), e.isPhoneReplacingDone = !0, c.VisitorTracking.hasClickstreamExperiment && c.VisitorTracking.trackPhoneReplacement(a, n)), u.length && (!s && this.addDefaultPhone({ id: n, img: null, text: r.domhelper.html(u), raw: null }), c.VisitorTracking.trackPhoneElements(u, n), r.domhelper.html(u, o), e.isPhoneReplacingDone = !0, c.VisitorTracking.hasClickstreamExperiment && c.VisitorTracking.trackPhoneReplacement(a, n)) }, e.replacePhone = function(e, t, n, i) { var r = e.id,
                a = e.text,
                c = e.img,
                l = e.raw; try { var u = s.util.prepareSelector(0 !== r.indexOf(o.Selector) ? r : r.substring(9));
                null !== c ? this.replacePhoneImage(u, r, c, n, t) : a && this.replacePhoneText(u, r, a, l, n, t) } catch (e) {} }; var d = ["SCRIPT"],
            p = function(e, t) { if (e.childNodes && e.childNodes.length)
                    for (var n = 0, o = void 0; o = e.childNodes[n]; n++) 3 === o.nodeType ? o.data.trim() && t(o) : 1 === o.nodeType && -1 === d.indexOf(o.tagName) && p(o, t);
                else 3 === e.nodeType && e.data.trim() && t(e) },
            f = function(e, t, n) { if (n && 3 === e.nodeType) { var o = e.parentNode;
                    o && o.href && 0 === (void 0 !== o.href.baseVal ? o.href.baseVal : o.href).indexOf("tel:") && t(o, !0) } if (1 === e.nodeType)
                    for (var i = e.querySelectorAll("a[href]"), r = 0; r < i.length; r++) 0 === (void 0 !== i[r].href.baseVal ? i[r].href.baseVal : i[r].href).indexOf("tel:") && t(i[r], !0) };
        e.textNodeReplace = function(n, o, i) { if (document.body) { var r = t(n, !!i),
                    s = function(t) { for (var n, i, s, a = t.nodeValue, l = 0, u = r; l < u.length; l++) { var d = u[l]; if (i || (s = d.id, i = -1 !== a.search(d._regExp)), n = a.replace(d._regExp, d.text), a !== n) { var p = n.indexOf(d.text);
                                p > 0 && "(" === n[p - 1] && n.match(/[()]/g).length % 2 == 1 && (n = n.slice(0, p - 1) + n.slice(p, n.length)); break } }
                        n && a !== n && (t.nodeValue = n), i && (e.isPhoneReplacingDone = !0, c.VisitorTracking.hasClickstreamExperiment && c.VisitorTracking.trackPhoneReplacement(o, s), c.VisitorTracking.trackPhoneElements([t], s)) },
                    a = function(t) { for (var n, i, s, a = !!t.href.baseVal, l = a ? t.href.baseVal : t.href, u = 0, d = r; u < d.length; u++) { var p = d[u]; if (i || (s = p.id, i = -1 !== l.search(p._hrefRegExp)), n = l.replace(p._hrefRegExp, p.text), l !== n) { a ? t.href.baseVal = "tel:+" + p.raw : t.href = "tel:+" + p.raw; break } }
                        i && (e.isPhoneReplacingDone = !0, c.VisitorTracking.hasClickstreamExperiment && c.VisitorTracking.trackPhoneReplacement(o, s), c.VisitorTracking.trackPhoneElements([t], s)) }; if (i && i.length < 100)
                    for (var l = 0; l < i.length; l++) p(i[l], s), f(i[l], a, !0);
                else p(document.body, s), f(document.body, a) } }, e.embed = function(e, t, n, o) { e = this.formatPhones(e); try { if (window.__cs_onReplacePhones && "function" == typeof window.__cs_onReplacePhones && !window.__cs_onReplacePhones(e)) return } catch (e) { s.util.log("[PhoneReplacer]", a.default("PHONE_REPLACER_FUNCTION_EXCEPTION") + ": " + e) } if (e) { var i = l(e),
                    r = i.textNumberRules,
                    c = i.domRules;
                this.textNodeReplace(r, t, o); for (var u = 0, d = c; u < d.length; u++) { var p = d[u];
                    this.replacePhone(p, t, n, o) } } }, e.embedDefault = function() { var e = this.getDefaultPhones();
            s.util.log("[PhoneReplacer]", "embedDefault(", e, ")"), e.length && this.embed(e, "default") }, e.trackElementsBySelectors = function(e, t) { if (document.body && e && e.length) { var n = [].slice.apply(e).filter((function(e) { return 0 === e.indexOf(o.Number) })).sort((function(e, t) { return t.length > e.length ? 1 : -1 })),
                    i = [].slice.apply(e).filter((function(e) { return 0 !== e.indexOf(o.Number) })),
                    r = [],
                    a = function(e) { var t = "\\+?" + e.replace(o.Number, "").split("").join("(?:[\\s\\-\\\\\\(\\)]*)?"); return new RegExp(t, "g") },
                    l = function(e) { for (var t = 0, o = n; t < o.length; t++) { var i = o[t]; if (a(i).test(e.nodeValue)) { c.VisitorTracking.trackPhoneElements([e], i), r.push(e); break } } },
                    u = function(e) { for (var t = !!e.href.baseVal ? e.href.baseVal : e.href, o = 0, i = n; o < i.length; o++) { var s = i[o]; if (a(s).test(t)) { c.VisitorTracking.trackPhoneElements([e], s), r.push(e); break } } }; if (t && t.length < 100)
                    for (var d = 0; d < t.length; d++) p(t[d], l), f(t[d], u, !0);
                else p(document.body, l), f(document.body, u); for (var h = 0, m = i; h < m.length; h++) { var g = m[h]; try { var _ = s.util.prepareSelector(0 !== g.indexOf(o.Selector) ? g : g.substring(9)),
                            v = document.querySelectorAll(_);
                        c.VisitorTracking.trackPhoneElements(v, g) } catch (e) {} } } } }(t.PhoneReplacer || (t.PhoneReplacer = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5),
        i = n(3),
        r = n(27);! function(e) { e.attr = function(e, t, n) { var o; if (i.essential.isUndefined(n)) return (o = e.length ? e[0] : e) && o.getAttribute(t); for (var r, s = 0; r = e[s]; s++) r.setAttribute(t, n); return this }, e.removeAttr = function(e, t) { e.removeAttribute(t) }, e.val = function(e, t) { return void 0 === t ? e instanceof HTMLInputElement ? e.value : e.innerHTML : void(e instanceof HTMLInputElement ? e.value = t : e.innerHTML = t) }, e.html = function(e, t) { if (i.essential.isUndefined(t)) return e[0].innerHTML; for (var n, o = 0; n = e[o]; o++) n.innerHTML !== t && (n.innerHTML = t); return this }, e.text = function(e, t) { var n = "innerText" in (e[0] || {}) ? "innerText" : "textContent"; if (i.essential.isUndefined(t)) return e[0][n]; for (var o, r = 0; o = e[r]; r++) o[n] = t; return this }, e.not = function(e, t) { for (var n, o = [], i = 0; n = e[i]; i++) - 1 === t.indexOf(n) && o.push(n); return o }, e.getCaretPosition = function(e) { var t = 0; if (document.selection) { e.focus(); var n = document.selection.createRange();
                n.moveStart("character", -e.value.length), t = n.text.length } else if (e.selectionStart || "0" == e.selectionStart) t = e.selectionStart;
            else { var o = window;
                e.windowEl && (o = e.windowEl), t = o.getSelection().getRangeAt(0).startOffset } return t }, e.setCaretPosition = function(e, t) { if (null != e)
                if (e.createTextRange) {
                    (i = e.createTextRange()).move("character", t), i.select() } else if (e.selectionStart) e.focus(), e.setSelectionRange(t, t);
            else if (e.focus(), e.childNodes[0]) { var n = window;
                e.windowEl && (n = e.windowEl); var o = e.childNodes[0]; if (o && o.length >= t) { var i = n.document.createRange(),
                        r = n.getSelection();
                    i.setStart(o, t), i.collapse(!0), r.removeAllRanges(), r.addRange(i) } } }, e.select = function(e, t) { return e.querySelectorAll(t) }, e.parent = function(e, t) { void 0 === t && (t = !0); var n = e.parentNode || e.parentElement; return !1 === t ? n : !!n && new r.Element(n) }, e.addClass = function(t, n) { if ("string" == typeof n) n && !e.hasClass(t, n) && (t.className = t.className + " " + n);
            else
                for (var o = 0, i = n.length; o < i; o++) e.addClass(t, n[o]); return this }, e.hasClass = function(e, t) { return t && -1 !== (" " + e.className + " ").indexOf(" " + t + " ") }, e.first = function(e, t) { return void 0 === t && (t = !0), e = e.firstChild, !1 === t ? e : new r.Element(e) }, e.append = function(e, t, n) { switch (o.util.typeOf(t)) {
                case "string":
                    break;
                case "object":
                    t = new r.Element(t), n ? (n = new r.Element(n), e.insertBefore(t.dom, n.dom)) : e.appendChild(t.dom) } }, e.destroy = function(t, n) { void 0 === n && (n = !1); var o = e.parent(t);
            o && o.dom && o.remove(t) }, e.remove = function(e, t) { t = new r.Element(t), e.removeChild(t.dom) }, e.isVisible = function(t) { for (var n = new r.Element(t), o = 0; o < 20; o++) { if ("none" === n.css("display") || 0 === n.css("opacity")) return !1; if ("body" === n.dom.tagName.toLocaleLowerCase()) break; if (!(n = e.parent(n.dom))) return !1 } return !0 }, e.caret = function(e, t, n) { var o; return "number" != typeof t ? (this.dom.setSelectionRange ? (t = e.selectionStart, n = e.selectionEnd) : document.selection && document.selection.createRange && (n = (t = 0 - (o = document.selection.createRange()).duplicate().moveStart("character", -1e5)) + o.text.length), { begin: t, end: n }) : (n = "number" == typeof n ? n : t, void(e.setSelectionRange ? e.setSelectionRange(t, n) : e.createTextRange && (o = e.createTextRange(), o.collapse(!0), o.moveEnd("character", n), o.moveStart("character", t), o.select()))) } }(t.domhelper || (t.domhelper = {})) }, function(e, t, n) { "use strict";

    function o(e, t) { return t.charAt(1).toUpperCase() }

    function i(e) { return p[e] || (p[e] = e.replace(h, o)) }

    function r(e) { var t = 0; return e.wheelDelta ? t = e.wheelDelta / 120 : e.detail && (t = -e.detail / 3), t }

    function s(e, t) { return e ? ((e = e.dom || {}).id || (e.id = (t || _) + ++g), e.id) : (t || _) + ++g }
    Object.defineProperty(t, "__esModule", { value: !0 }); var a = n(3),
        c = n(26),
        l = "onmousewheel" in document ? "mousewheel" : "DOMMouseScroll",
        u = {},
        d = document.defaultView,
        p = {},
        f = /alpha\(opacity=(.*)\)/gi,
        h = /(-[a-z])/gi,
        m = /height|width|margin|padding|left|top|right|bottom/,
        g = 0,
        _ = "gen-",
        v = function() {
            function e(e) { if (e.dom ? this.dom = e.dom : this.dom = e, this.dom === document) u.doc ? this.events = u.doc.events : (this.events = {}, u.doc = this);
                else { var t = this.dom.getAttribute("data-cache-id");
                    t && u[t] ? this.events = u[t].events : (this.events = {}, t = s(), this.attr("data-cache-id", t), u[t] = this), this.cacheId = t } } return e.prototype.on = function(e, t, n, o) { var i = this,
                    s = e; switch (n = n || this, a.essential.isString(o) && o, e) {
                    case "mousewheel":
                        e = l; break;
                    case "mouseenter":
                        e = "mouseover"; break;
                    case "mouseleave":
                        e = "mouseout" } var c = function(l) { var u = l.target,
                        d = l.fromElement || l.relatedTarget,
                        p = l.toElement || l.target; switch (s) {
                        case "mouseenter":
                            if (!d) return; if (i.within(d, "mouseenter")) return; break;
                        case "mouseleave":
                            if (!p) return; if (i.within(p)) return }
                    t.apply(n, [l, u, r(l)]), a.essential.isObject(o) && o.$once && i.dom.removeEventListener(e, c, !1) };
                this.dom.addEventListener(e, c, !1), this.events[e] = this.events[e] || [], this.events[e].push({ fn: t, wrapperFn: c }) }, e.prototype.once = function(e, t, n, o) { n = n || this, (o = o || {}).$once = !0, this.on(e, t, n, o) }, e.prototype.un = function(e, t) { for (var n, o, i = this.events[e] || [], r = 0, s = i.length; r < s; r++)
                    if ((n = i[r]).fn === t) { o = n.wrapperFn; break }
                o && (i.splice(r, 1), this.dom.removeEventListener(e, o, !1)) }, e.prototype.within = function(t, n) { var o, i = !1,
                    r = !1; return (o = (t = new e(t)).attr("id")) || (o = s(), r = !0, t.attr("id", o)), 0 === this.select("#" + o).length && (i = !1), this.dom.id && this.dom.id === t.dom.id && (i = !0), r && t.removeAttr("id"), i }, e.prototype.select = function(e) { return c.domhelper.select(this.dom, e) }, e.prototype.attr = function(e, t) { return c.domhelper.attr(this.dom, e, t) }, e.prototype.removeAttr = function(e) { c.domhelper.removeAttr(this.dom, e) }, e.prototype.val = function(e) { return c.domhelper.val(this.dom, e) }, e.prototype.css = function(e, t) { if ("" !== e) { if (!/:/.test(e)) return a.essential.isObject(e) ? this.setStyle(e) : e && t ? this.setStyle(e, t) : e ? this.getStyle(e) : void 0; for (var n = e.split(";"), o = 0, i = n.length; o < i; o++) { var r = n[o].split(":"),
                            s = !1;
                        r.length < 2 || (/!important/.test(r[1]) && (s = !0, r[1] = r[1].replace(" !important", "")), this.setStyle(r[0], r[1], s)) } } }, e.prototype.setStyle = function(e, t, n) { var o, r; for (r in "object" != typeof e && ((o = {})[e] = t, e = o), e) switch (t = e[r], m.test(r) && !isNaN(Number(t)) && (t += "px"), r) {
                    case "border-radius":
                        a.essential.isNumber(t) && (t += "px"), this.dom.style.BorderRadius = t, this.dom.style.borderRadius = t, this.dom.style.MozBorderRadius = t, this.dom.style.WebkitBorderRadius = t; break;
                    case "float":
                        this.dom.style.styleFloat = t, this.dom.style.cssFloat = t; break;
                    default:
                        this.dom.style[i(r)] = t, n && this.dom.style && this.dom.style.setProperty && this.dom.style.setProperty(r, t, "important") }
                return this }, e.prototype.getStyle = function(e, t) { if (d && d.getComputedStyle) { var n = void 0,
                        o = void 0,
                        r = void 0,
                        s = void 0; return (a = this.dom) == document ? null : (e = i(e), r = (n = a.style[e]) ? n : (o = d.getComputedStyle(a, "")) ? o[e] : null, (/\+|\ /.test(r) || "auto" === r || t) && void 0 !== a.getBoundingClientRect().width ? a.getBoundingClientRect()[e] : ("marginRight" == e && "0px" != r && (s = a.style.display, a.style.display = "inline-block", r = d.getComputedStyle(a, "").marginRight, a.style.display = s), "backgroundColor" == e && "rgba(0, 0, 0, 0)" == r && (r = "transparent"), r)) } var a, c = void 0;
                o = void 0; if ((a = this.dom) == document) return null; if ("opacity" == e) { if (a.style.filter.match && (c = a.style.filter.match(f))) { var l = parseFloat(c[1]); if (!isNaN(l)) return l ? l / 100 : 0 } return 1 } return e = i(e), a.style[e] || ((o = a.currentStyle) ? o[e] : null) }, e.prototype.parent = function(e) { return c.domhelper.parent(this.dom, e) }, e.prototype.isVisible = function() { return c.domhelper.isVisible(this.dom) }, e.prototype.addClass = function(e) { return c.domhelper.addClass(this.dom, e) }, e.prototype.hasClass = function(e) { return c.domhelper.hasClass(this.dom, e) }, e.prototype.height = function(e) { return void 0 !== e ? (a.essential.isString(e) && !1 === /px/.test(String(e)) && (e += "px"), this.css("height", e), this) : parseInt(this.css("height")) }, e.prototype.wrap = function(t) { var n = (t = new e(t)).parent();
                this.update(t.dom.outerHTML), n.append(this, t), t.destroy() }, e.prototype.remove = function(e) { c.domhelper.remove(this.dom, e) }, e.prototype.destroy = function(e) { void 0 === e && (e = !1), delete u[this.cacheId], c.domhelper.destroy(this.dom, e) }, e.prototype.update = function(e) { this.dom.innerHTML = e }, e.prototype.first = function(e) { return void 0 === e && (e = !0), c.domhelper.first(this.dom, e) }, e.prototype.append = function(e, t) { c.domhelper.append(this.dom, e, t) }, e.prototype.caret = function(e, t) { return c.domhelper.caret(this.dom, e, t) }, e }();
    t.Element = v }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(10),
        i = n(3),
        r = n(13),
        s = n(14),
        a = n(5),
        c = n(25);! function(e) {
        function t(e) { var t, n, o = []; if (e)
                for (n = 0; n < e.length; n++)((t = e[n]).img || t.raw) && o.push(t.id); return o }

        function n() { return +Date.now() - J }

        function l() { return r.SiteSettings.params("clickstream").server_url + "/e/cs/" }

        function u(e) { return JSON.stringify({ uid: F, hid: D, sid: U, time: n(), events: B, type: e ? "beacon" : "xhr", version: K, uuid: a.util.uuid(), cnt: ++V }) }

        function d() { R(), E(), se && (p({ time: re, name: "click", value: se }), se = 0, re = null), ce && (p({ time: ae, name: "right_click", value: ce }), ce = 0, ae = null), g(), v(), C(), O() }

        function p(e, t) { var o, r = i.essential.apply({ value: null, uuid: a.util.uuid() }, t ? {} : { time: n() });
            i.essential.isString(e) ? o = i.essential.apply({}, { name: e }, r) : i.essential.isObject(e) && (o = i.essential.apply({}, e, r)), o && B.push(o) }

        function f() { d(), B.length ? (G && clearTimeout(G), G = null, H && (B.some((function(e) { return "viewed_height" === e.name })) || p({ time: Q = n(), name: "viewed_height", value: Y ? Z : 0 }), H = !1)) : G || H || (G = setTimeout((function() { H = !0, z = o.dimension.getWindowScrollTop(), $ = z + L, le = Z = L / M, G = null }), 18e5)), H || (s.ajax({ url: l(), crossDomain: !0, method: "POST", data: u(), contentType: "application/json", complete: function(e) { 200 === e.status || a.util.log("[VisitorTracking]", "Got unsuccessful request.status on /e/cs/: ", e.status) } }), B = []) }

        function h() { if (d(), e.hasClickstreamExperiment)
                for (var t in _e) ge.hasOwnProperty(t) && _e[t] && p({ name: "phone_selector_hidden", value: t });
            ve && c.PhoneReplacer.isPhoneReplacingDone && p("phone_hidden"), Y && "visible" === document.visibilityState && p("page_hidden"), p("page_unload"), navigator && navigator.sendBeacon && navigator.sendBeacon(l(), u(!0)), B = [] }

        function m(e) { ee && clearTimeout(ee), ee = setTimeout(g, 500) }

        function g() { if (ee) { var e = o.dimension.getWindowHeight();
                e !== L && (p({ name: "resize", value: e / L }), L = e), clearTimeout(ee), ee = null } }

        function _(e) { te && clearTimeout(te), te = setTimeout(v, 500) }

        function v() { te && (b(), clearTimeout(te), te = null) }

        function b() { var e = o.dimension.getDocumentHeight();
            e !== M && (p({ name: "height_change", value: e / M }), function(e, t) { e > t && L === o.dimension.getWindowHeight() && (le = 0, Z *= t / e, Q = n()) }(e, M), M = e) }

        function y() { p("visible" === document.visibilityState ? "page_visible" : "page_hidden"), Y || "visible" !== document.visibilityState || (Y = !0, le = 0, O()), R() }

        function w() { oe ? clearTimeout(oe) : ne = n(), ie++, oe = setTimeout(E, 1e3) }

        function E() { oe && (p({ start_time: ne, end_time: n(), name: "key_up", value: ie }, !0), ne = null, ie = 0, oe = null) }

        function T() { se++, re = n() }

        function S() { ce++, ae = n() }

        function k() { var e = o.dimension.getWindowScrollTop(),
                t = e + L;
            z > e && (Z = ($ - e) / M, z = e, Q = n()), $ < t && (Z = (t - z) / M, $ = t, Q = n()) }

        function O() { le < Z && (p({ time: Q || W, name: "viewed_height", value: Y ? Z : 0 }), le = Z) }

        function A() { var e, t = o.dimension.getWindowScrollTop(); if (t !== fe) { var i = t - fe > 0 ? "bottom" : "top";
                he && he !== i && (C(), e = !0), he || (pe = e ? fe : t, de = n()), he = i, fe = t, ue && clearTimeout(ue), ue = setTimeout(C, 500) } }

        function C() { ue && ("Infinity" !== (Math.abs(pe - fe) / (M - L)).toFixed(2) && (pe !== fe && p({ start_time: de, end_time: n(), name: "scroll_" + he, value: Math.abs(pe - fe) / (M - L) }, !0), clearTimeout(ue), ue = he = de = pe = null)) }

        function N() { p("el_mouse_enter") }

        function I() { p("el_mouse_leave") }

        function x() { p("el_click") }

        function P() { p("el_right_click") }

        function R() { try { var t = "visible" === document.visibilityState,
                    n = !1,
                    o = {}; for (var r in ge)
                    if (ge.hasOwnProperty(r) && (o[r] = !1, t))
                        for (var s = 0, a = ge[r]; s < a.length; s++) { var l = a[s],
                                u = l.getBoundingClientRect().top,
                                d = u + l.clientHeight; if ((0 !== d || 0 !== u) && (u >= 0 && u <= L || d >= 0 && d <= L) && (o[r] = !0, -1 !== q.indexOf(r) && d <= L && u >= 0)) { n = !0; break } }
                    if (n !== ve && c.PhoneReplacer.isPhoneReplacingDone && (p("phone_" + (n ? "visible" : "hidden")), ve = n), e.hasClickstreamExperiment)
                        for (var r in o) ge.hasOwnProperty(r) && o[r] !== _e[r] && p(i.essential.apply({ name: "phone_selector_" + (o[r] ? "visible" : "hidden"), value: r }, o[r] ? { params: { has_static: -1 !== q.indexOf(r), has_dynamic: -1 !== X.indexOf(r), replacement_enabled: j, viewed_height: Z } } : {})), _e[r] = o[r] } catch (e) { console.log("VisitorTracking error", e) } } var j, M, L, D, U, F, W, H, G, V, B = [],
            q = [],
            X = [],
            J = 0,
            Y = !1,
            K = 1648714273;
        e.hasClickstreamExperiment = void 0, e.onAlyTrackview = function(i, s, c) { r.SiteSettings.params("common").is_clickstream_enabled && !a.util.storageGet("cmg:" + s.ci + "." + s.hi) && (e.hasClickstreamExperiment = r.SiteSettings.params("common").is_clickstream_experiment, V = 0, M = o.dimension.getDocumentHeight(), L = o.dimension.getWindowHeight(), D = s.hi, j = Boolean(s.pr), U = r.SiteSettings.getSiteKey(), F = i.getComagicId(), Z = L / M, z = o.dimension.getWindowScrollTop(), $ = z + L, J = c, Y = "visible" === document.visibilityState, "pt" in s && (q = t(s.pt)), "dp" in s && (X = t(s.dp)), setInterval(f, r.SiteSettings.params("clickstream").batch_interval || 1e4), p({ time: W = n(), name: "page_load", params: { url: document.location.href } }), Y && p({ time: W, name: "page_visible" }), O(), setInterval(b, 1e3), window.addEventListener("resize", _, !0), window.addEventListener("resize", m, !0), document.addEventListener("visibilitychange", y, !0), document.addEventListener("keyup", w, !0), document.addEventListener("click", T, !0), document.addEventListener("contextmenu", S, !0), window.addEventListener("scroll", A, !0), window.addEventListener("scroll", k, !0), window.addEventListener("resize", k, !0), window.addEventListener("scroll", R, !0), window.addEventListener("resize", R, !0), window.addEventListener("load", (function() { var e = 1,
                    t = setInterval((function() { R(), ++e > 10 && clearInterval(t) }), 500) }), !0), window.addEventListener("beforeunload", h), a.util.storageSet("cmg:" + s.ci + "." + D, !0, !1)) }; var Q, Z, z, $, ee = null,
            te = null,
            ne = null,
            oe = null,
            ie = 0,
            re = null,
            se = 0,
            ae = null,
            ce = 0,
            le = 0,
            ue = null,
            de = null,
            pe = null,
            fe = 0,
            he = null,
            me = [],
            ge = {},
            _e = {};
        e.trackPhoneElements = function(e, t) { if (r.SiteSettings.params("common").is_clickstream_enabled) { t && e.length && !ge[t] && (ge[t] = [], _e[t] = !1); for (var n = 0; n < e.length; n++) { var o = e[n]; if (3 === o.nodeType && (o = o.parentNode || o.parentElement), c.PhoneReplacer.isPhoneReplacingDone && -1 === me.indexOf(o) && (me.push(o), o.addEventListener("mouseenter", N, !0), o.addEventListener("mouseleave", I, !0), o.addEventListener("click", x, !0), o.addEventListener("contextmenu", P, !0)), -1 === ge[t].indexOf(o))
                        if (-1 !== t.indexOf(c.CallTrackinRuleType.Number)) { var i = !1; for (var s in ge)
                                if (ge.hasOwnProperty(s) && s !== t && -1 !== ge[s].indexOf(o)) { i = !0; break }!i && ge[t].push(o) } else ge[t].push(o) }
                R() } }, e.trackPhoneReplacement = function(e, t, n) { r.SiteSettings.params("common").is_clickstream_enabled && p({ name: e + "_phone_replaced", value: t }) }; var ve = !1 }(t.VisitorTracking || (t.VisitorTracking = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5),
        i = n(4),
        r = n(1),
        s = n(23),
        a = n(12),
        c = n(13),
        l = n(15),
        u = n(30),
        d = n(6),
        p = n(31),
        f = n(32);! function(e) {
        function t(t, n, o) { e.push(["sendMessage", [t, n, o]]) }

        function n(e) { i.Queue.push(e) }

        function h() { Comagic.UI.show("sitephone") } var m = a.Analytics.getHitId,
            g = c.SiteSettings.getServerBaseUrl,
            _ = a.Analytics.getComagicId,
            v = c.SiteSettings.getSiteKey,
            b = l.Storage.getItem;
        e.sendMessage = t, e.trackSysEvent = function(e) { a.Analytics.trackSysEvent(o.util.isObject(e) ? e.component_event : e) }, e.push = n, e.setAccount = function(e) { this.push(["setAccount", [e]]) }, e.setDynamicalReplacement = function(e) { this.push(["setDynamicalReplacement", [e]]) }, e.setWebUrl = function(e) { this.push(["setWebUrl", [e]]) }, e.sitePhoneCall = function(e, t) { n(["startCall", [e, t]]) }, e.openChatWindow = function() { var e = Comagic.UI.getWidget("consultant_chat"),
                t = Comagic.UI.getWidget("consultant_offline_message"),
                n = e && e.isChatAvailable() ? e : t;
            Comagic.UI.show(n.name) }, e.openSitePhonePanel = h, e.openVASitePhonePanel = function() { h() }, e.openSiteRequestPanel = function() { Comagic.UI.show("consultant_offline_message") }, e.startVisitorChat = function() { t("start_visitor_chat") }, e.onSendChatByMail = function(e, t) { this.sendChatByMail(e, t) }, e.sendChatByMail = function(e, n) { t("send_chat_by_mail", e, n) }, e.onOperatorRate = function(e) { this.setOperatorRating(e) }, e.setOperatorRating = function(e) { t("set_operator_rating", { rating: e, comment: null }) }, e.onChatTyping = function() { this.notifyWriting() }, e.notifyWriting = function() { t("write_notify", !1) }, e.onChatClose = function() { this.closeChat() }, e.closeChat = function() { t("close_chat") }, e.trackEvent = function(e, t, n, o) { this.push(["trackEvent", [e, t, n, o]]) }, e.setProperty = function(e, t) { this.push(["setProperty", [e, t]]) }, e.getProperty = function(e, t) { this.push(["getProperty", [e, t]]) }, e.hasProperty = function(e, t) { this.push(["hasProperty", [e, t]]) }, e.deleteProperty = function(e) { this.push(["deleteProperty", [e]]) }, e.getUploadUrl = function(e) { this.push(["getUploadUrl", [e]]) }, e.getDTPhones = function() { return s.DynamicalTracking.phones }, e.acquirePhone = function(e, t) { this.push(["acquirePhone", [e, t]]) }, e.getPhones = function() { return b(r.CookieShop.CALLTRACKING_PHONES) }, e.setOperatorId = function(e) { this.push(["setOperatorId", [e]]) }, e.getSessionId = function() { return r.CookieShop.getSessionId() }, e.getVisitorId = function() { return r.CookieShop.getVisitorId() }, e.trackLeadShow = function(e) { t("track_lead_show", { action_type: e.action_type, action_log_id: e.action_log_id }) }, e.onLeadFormSubmit = function(e, n, o) { t("submit_lead_form", { log_id: e, data: n }, o) }, e.onLeadFormCancel = function(e) { t("cancel_lead_form", { log_id: e }) }, e.onLeadTimerUp = function(e) { t("on_timer_up", { scenario_id: e }) }, e.getCredentials = function() { return { site_key: v(), visitor_id: Number(this.getVisitorId()), hit_id: Number(m()), session_id: Number(this.getSessionId()), consultant_server_url: g(), comagic_id: _() } }, e.setDebug = function(e) { o.util.setDebug(e) }, e.addVisitorInfo = function(e, t) { a.Analytics.addVisitorInfo(e, t) }, e.on = function(e, t) { d.EventBus.on("api:" + e, t) }, e.getCaptcha = function(e, t) { void 0 === t && (t = {}), u.ComagicWebApi.request("get_captcha", t, e) }, e.onOperatorStatusChange = function(e) {}, e.getDeviceType = function() { return o.util.getDeviceType() }, e.tformat = function(e) { return o.util.tformat(e) }, e.visitorCard = new p.DictStorage("vvc"), e.storage = new p.DictStorage("storage"), e.omni = { forwardTelegram: function(e) { void 0 === e && (e = void 0), f.Leadgen.forwardOmniChannel("telegram", e) }, forwardWhatsApp: function(e) { void 0 === e && (e = void 0), f.Leadgen.forwardOmniChannel("whatsapp", e) }, forwardVkontakteGroup: function(e) { void 0 === e && (e = void 0), f.Leadgen.forwardOmniChannel("vkontakte_groups", e) }, forwardViber: function(e) { void 0 === e && (e = void 0), f.Leadgen.forwardOmniChannel("viber", e) }, forwardFacebook: function(e) { void 0 === e && (e = void 0), f.Leadgen.forwardOmniChannel("facebook", e) } } }(t.API || (t.API = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(14);! function(e) { var t;
        e.init = function(e) { t = e }, e.request = function(e, n, i) { o.ajax({ url: t, crossDomain: !0, data: JSON.stringify({ method: e, params: n || {} }), type: "POST", dataType: "json", headers: { "Content-Type": "application/json" }, complete: function(e) { var t; "application/json" === e.getResponseHeader("Content-Type") ? (t = JSON.parse(e.response), i(t.result)) : (t = e.response, i(t)) } }) } }(t.ComagicWebApi || (t.ComagicWebApi = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(15),
        i = function() {
            function e(e, t) { void 0 === t && (t = 0), this.key = "_cmg_" + e, this.ttl = t, o.Storage.getItem(this.key) || o.Storage.setItem(this.key, {}, this.ttl) } return e.prototype.getItem = function(e) { return o.Storage.getItem(this.key)[e] }, e.prototype.setItem = function(e, t) { var n = o.Storage.getItem(this.key);
                n[e] = t, o.Storage.setItem(this.key, n, this.ttl) }, e.prototype.getDict = function() { return o.Storage.getItem(this.key) }, e }();
    t.DictStorage = i }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o, i, r = n(4),
        s = n(14),
        a = n(13),
        c = n(33),
        l = n(5);! function(e) {
        function t() { s.ajax({ url: o, method: "GET", data: { sk: a.SiteSettings.getSiteKey(), dv: l.util.getDeviceType(), pu: encodeURIComponent(window.location.href) }, complete: function(e) { i = JSON.parse(e.responseText).data } }) }
        e.__commands = ["waitForLeadGenSettingsAndRun"], e.init = function(i) { o = i.leadgen_server_url + "/v1/ls",
                function() { var o = n(33).LeadgenController;
                    r.Queue.registerAndProcess(e.__commands, e, !0), t(), r.Queue.push("waitForLeadGenSettingsAndRun", (function(e) { "workloads" in e && (e.cm_common = i.common, o.init(e)) })) }() }, e.forwardOmniChannel = function(e, t) { if (void 0 === t && (t = void 0), i && i.common && i.common.omni && i.common.omni.channels && Array.isArray(i.common.omni.channels))
                for (var n = 0, o = i.common.omni.channels; n < o.length; n++) { var r = o[n],
                        s = !1; if (e === r.channel && r.link && (t ? r.link.indexOf(t) > -1 && (s = !0) : s = !0), s) { c.LeadgenController.goToExternalService(e, r.link); break } } }, e.waitForLeadGenSettingsAndRun = function(e) { return !!i && void e.call(this, i) } }(t.Leadgen || (t.Leadgen = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(6),
        i = n(34),
        r = n(1),
        s = n(5),
        a = n(38),
        c = n(37),
        l = n(106),
        u = n(29),
        d = n(4),
        p = n(109),
        f = n(21);! function(e) {
        function t() { for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            e.unshift("[Leadgen]"), s.util.log(e) }

        function n() { return r.CookieShop.getVisitorId() }

        function h() { return r.CookieShop.getSessionId() }

        function m() { i.ScenarioProcessor.requestDone() }

        function g(t) { t.success ? (o.EventBus.fireEvent("api:" + e.requestInitiatorEventName + ":sendrequest", t), m()) : a.Hub.send(_, "offline_request_v2", { name: e.lastRequestParams.name, phone: e.lastRequestParams.phone, email: e.lastRequestParams.email, text: e.lastRequestParams.message, group_id: e.lastRequestParams.group_id, creation_source: v }) } var _ = "leadgen",
            v = "omni_widget";
        e.__commands = ["waitForWidgetReadyAndShow"], e.rpcHandlers = { "event:segment_change": function(e) { i.ScenarioProcessor.segmentChanged(parseInt(e.id)) }, "hub:leadgen:offline_request_v2:response": function(t) { o.EventBus.fireEvent("api:" + e.requestInitiatorEventName + ":sendrequest", t), m() }, "hub:leadgen:omni_widget_call:response": g, "leadgen:scenario:processor:ready": function(e) { c.WidgetManager.activeWidgetGroupList = e, i.ScenarioProcessor.runProcessor() } }, e.lastRequestParams = {}, e.registeredWidgets = {}, e.init = function(r) { for (var a in e.originalSettings = r, e.rpcHandlers) o.EventBus.on(a, e.rpcHandlers[a]);
            i.ScenarioProcessor.init(n(), s.util.getDeviceType(), r, t), d.Queue.registerAndProcess(e.__commands, e, !0) }, e.log = t, e.sendRequest = function(t, n, o) { e.lastRequestParams = t, e.requestInitiatorEventName = o, n.call ? a.Hub.send(_, "omni_widget_call", { phone: e.lastRequestParams.phone, name: t.name, email: t.email, group_id: Number(e.lastRequestParams.group_id), schedule_id: n.call.schedule_id, scenario_id: n.call.scenario_id, delay: 0 }, [], g) : a.Hub.send(_, "offline_request_v2", { name: t.name, phone: t.phone, email: t.email, text: t.message, group_id: t.group_id, creation_source: v }) }, e.sendCommand = function(e, t, n) { a.Hub.send(e, t, {}, [], n) }, e.makeOmniClient = function(t) { if (!("omni" in e.originalSettings.common)) throw new Error("Missing omni settings"); return l.OmniFactory.createClient(e.originalSettings.common.omni.chat_api_path, t, n()) }, e.getVisitorId = n, e.getSessionId = h, e.findPhoneForDirectCall = function() { var e = null; if (f.CallTracking.getEnabled()) { var t = u.API.getDTPhones();
                t && Array.isArray(t) && t.length > 0 ? e = t[0].raw : (t = u.API.getPhones()) && Array.isArray(t) && t.length > 0 && (e = t[0].raw) } return e }, e.registerWidget = function(t, n) { d.Queue.push("waitForWidgetReadyAndShow", [function() { t in e.registeredWidgets ? (e.registeredWidgets[t].destroy(), delete e.registeredWidgets[t], e.registeredWidgets[t] = n) : e.registeredWidgets[t] = n, setTimeout((function() { e.registeredWidgets[t].show() }), 200) }, n]) }, e.waitForWidgetReadyAndShow = function(e, t) { return !!t.isReadyToShow() && void e() }, e.trackEvent = function(e, t, n, o) { u.API.trackEvent(e, t, n, o) }, e.requestDone = m, e.ensureMissingVisitorRequest = function() { return !i.ScenarioProcessor.hasRequestBefore() }, e.triggerScenarioEvent = function(e) { i.ScenarioProcessor.pushScenarioEvent(e) }, e.workloadUIStateChanged = function(e, t) { i.ScenarioProcessor.uiStateChanged(e, t) }, e.goToExternalService = function(e, t) { var n = function(e, t) { var n = null; switch (e) {
                    case "telegram":
                        n = t + "?start=" + h(); break;
                    case "whatsapp":
                        n = t + "&text=" + window.encodeURIComponent(s.util.sformat(p.C.LEADGEN.sourceTracking.invitation, h())); break;
                    case "vkontakte_groups":
                        n = t + "?ref=" + h(); break;
                    case "viber":
                        n = t + "&context=" + h(); break;
                    case "facebook":
                        n = t + "?ref=" + h() } return n }(e, t);
            n && window.open(n) } }(t.LeadgenController || (t.LeadgenController = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(6),
        i = n(31),
        r = n(35),
        s = n(38),
        a = n(105);! function(e) {
        function t(e) { _ ? l({ action: "handleSegment", segmentId: e }) : v.push(e) }

        function n(e) { _ && l({ action: "handleEvent", event: e }) }

        function c(e) { d.setItem(p.toString(), e), e.requested_at && (m = e.requested_at) }

        function l(e) { h.postMessage(JSON.stringify(e)) }

        function u(e) { var t = JSON.parse(e.data); switch (t.action) {
                case "ready":
                    c(t.progress), g = t.schedules, o.EventBus.fireEvent("leadgen:scenario:processor:ready", t.participatingTemplates); break;
                case "saveProgress":
                    c(t.progress); break;
                case "runWorkload":
                    ! function(e) { o.EventBus.fireEvent("waitforloadstyles", e.code, e.settings) }(t.runnableWorkload); break;
                default:
                    f("Unknown worker action " + t.action) } } var d, p, f, h, m, g = {},
            _ = !1,
            v = [];
        e.init = function(e, t, n, o) { p = e, f = o; var s = (d = new i.DictStorage("vsp")).getItem(p.toString());
            r.Thread.loadAndRunExistingWorker("lsw", (function(e) {
                (h = e).onmessage = u, l({ action: "init", leadgenSettings: n, storedVisitorProgress: s, context: { device: t } }) })) }, e.segmentChanged = t, e.uiStateChanged = function(e, t) { l({ action: "handleUIState", renderId: e, state: t }) }, e.pushScenarioEvent = n, e.requestDone = function() { l({ action: "requestDone" }) }, e.hasRequestBefore = function() { return !!m }, e.runProcessor = function() {
            function e() { for (var e in g) s.Hub.send("leadgen", "check_schedule", { schedule_id: e }, null, (function(e) { e.success && e.result.id in g && (g[e.result.id] = e.result.is_active, l({ action: "syncSchedules", schedules: g })) })) } if (document.body.parentNode.addEventListener("mouseleave", (function(e) { e.clientY <= 0 && n({ name: a.LeadgenNS.ScenarioSignificantEventsEnum.LEAVING_SITE }) })), v.length > 0) { for (var o in v) t(v[o]);
                v = [] }
            e(), setInterval(e, 6e4), l({ action: "run" }), _ = !0 } }(t.ScenarioProcessor || (t.ScenarioProcessor = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(14),
        i = n(36);! function(e) {
        function t(e) { return function(e) { if ("undefined" == typeof Worker) throw new Error("No web worker support"); var t = window.URL || window.webkitURL; return new Worker(t.createObjectURL(e)) }(function(e) { var t; try { t = new Blob([e], { type: "application/javascript" }) } catch (n) {
                    (t = new(window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder)).append(e), t = t.getBlob() } return t }(e)) } var n;
        e.init = function(e) { n = e }, e.loadAndRunExistingWorker = function(e, r) { if (!n) throw new Error("Missing workers url");
            o.ajax({ url: n + "widget/js/workers/" + e + i.getPostfixWidgetUrl(), method: "GET", contentType: "text/javascript", complete: function(e) { r(t(e.responseText)) } }) }, e.runOnce = function(e, n, o) { var i = t("self.onmessage = e => postMessage((" + e.toString() + ")(JSON.parse(e.data)));");
            i.onmessage = function(e) { n(e.data), i.terminate() }, i.postMessage(JSON.stringify(o)) } }(t.Thread || (t.Thread = {})) }, function(e, t, n) { "use strict";

    function o() { return "prod" === u ? ".min.js" : ".debug.js" }

    function i(e, t) { var n = { js: "", css: "", tpls: null },
            o = d.util.getDeviceType(); return e && (e[o] ? (n.tpls = c({}, e[o].tpls), n.css = e[o].css || "", n.js = e[o].js || "") : p("views for " + t + " options doesn't found")), n }

    function r(e, t) { return new f.essential.URL(t).replace({ path: e }) }

    function s(e, t) { for (var n in e) e[n] = r(e[n], t); return e }

    function a() { return g.Storage.getItem("_cmg_customizeId") ? "?uid=" + g.Storage.getItem("_cmg_customizeId") : "" } var c = this && this.__assign || Object.assign || function(e) { for (var t, n = 1, o = arguments.length; n < o; n++)
            for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e };
    Object.defineProperty(t, "__esModule", { value: !0 }); var l, u, d = n(5),
        p = d.util.log,
        f = n(3),
        h = n(37),
        m = n(13),
        g = n(15),
        _ = n(18);
    t.init = function(e, t) { l = e, u = t }, t.getPostfixWidgetUrl = o, t.getWidgetOptionsForCurrentDevice = i, t.getDefaultWidgetOpts = function(e, t) { var n = m.SiteSettings._viewsHost,
            c = i(l[e], e); if (n && !h.WidgetManager.userInitialWidgetViewsOptions[e])
            for (var u in c.js = "" + r(c.js, n) + o(), c.css = r(c.css, n), c.tpls = s(c.tpls, n), c.js = "" + c.js + a(), c.css = "" + c.css + a(), c.tpls) c.tpls[u] = "" + c.tpls[u] + a();
        else c.js = "" + r(c.js, t) + o(), c.css = r(c.css, t), c.tpls = s(c.tpls, t); return c.beforeViewControllerRun = function(e, t) { return e.is_personal_info_enabled = !1, e.personal_info_text = _.default("PERSONAL_INFO_TEXT"), { settings: e, tpls: t } }, c.afterViewControllerRun = function() {}, c } }, function(e, t) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }),
        function(e) {
            function t(t) { if (e.createdWidgets[t])
                    for (var n = 0; n < e.createdWidgets[t].length; n++) e.createdWidgets[t][n].destroy();
                e.createdWidgets[t] = [] }
            e.registeredWidgetsCollection = {}, e.createdWidgets = {}, e.userInitialWidgetViewsOptions = {}, e.widgetsOpts = {}, e.register = function(t, n) { e.registeredWidgetsCollection[t] = n }, e.getWidget = function(t) { return e.registeredWidgetsCollection[t] }, e.destroyWidgetsByGroup = t, e.destroyWidgets = function() { for (var n in e.createdWidgets) t(n) } }(t.WidgetManager || (t.WidgetManager = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(4),
        i = n(6),
        r = n(39),
        s = n(40),
        a = n(5),
        c = n(14);! function(e) { var t = ["offline_request", "offline_request_v2", "sitephone_call", "sitephone_init", "omni_widget_call"],
            n = {},
            l = 1500,
            u = ["reinit"],
            d = { "hub:consultant:init:": function(e) { e.result.lead && i.EventBus.fireEvent("hub:lead:init:response", e.result.lead), delete e.result.lead, i.EventBus.fireEvent("hub:consultant:init:response", e) }, "hub:consultant:reinit:": function(e) { i.EventBus.fireEvent("hub:lead:reinit:response", e), i.EventBus.fireEvent("hub:consultant:reinit:response", e) } };
        e.send = function(e, n, c, l, p) { void 0 === c && (c = {}); var f = a.util.sformat("hub:{0}:{1}:", e, n),
                h = p || d[f] || function(e) { i.EventBus.fireEvent(f + "response", function(e, t, n) { if (e.result || (e.result = {}), n)
                            for (var o = 0, i = n; o < i.length; o++) { var r = i[o];
                                r in t && (e.result[r] = t[r]) }
                        return e }(e, c, l)) }; - 1 === t.indexOf(n) ? -1 === u.indexOf(n) ? o.Queue.push("sendMessage", [n, c || {}, h]) : s.Ws.sendMessage(n, c || {}, h) : r.Http.request(n, c, (function(e) { h && h(JSON.parse(e.response)) })) }, e.sendFile = function(e, t) { void 0 === t && (t = {}); var n = new FormData;
            n.append("comagic-pic", t), c.ajax({ url: e, method: "POST", headers: !0, data: n }) }, e.fireEvent = function(e, t) { o.Queue.push("fireServerEvent", [e, t]) }, e.fireEventWithTimeout = function(e, t, o) { void 0 === o && (o = l), n[e] || (n[e] = !0, s.Ws.fireServerEvent(e, t), setTimeout((function() { n[e] = !1 }), o)) }, e.sendCustomRequest = function(e, t) { r.Http.request("offline_request", { name: e.name, email: e.email, phone: e.phone, text: e.message, is_sale: e.is_sale, sale_cost: e.sale_cost, group_id: e.group_id, form_name: e.form_name, is_custom: !0 }, t) } }(t.Hub || (t.Hub = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3),
        i = n(29),
        r = n(14),
        s = n(12),
        a = n(13);! function(e) {
        function t(e, t, n) { r.ajax(e, { method: "POST", data: JSON.stringify(t), contentType: "application/json", complete: n }) }

        function n(e, t) { return { name: p[e], params: t, site_key: c(), comagic_id: l(), hit_id: u() } } var c = a.SiteSettings.getSiteKey,
            l = s.Analytics.getComagicId,
            u = s.Analytics.getHitId,
            d = { offline_request: "api/v1/", offline_request_v2: "api/v2/", sitephone_call: "api/v1/", sitephone_init: "api/v1/", omni_widget_call: "api/v1/" },
            p = { offline_request: "send_offline_request", offline_request_v2: "send_offline_request", sitephone_call: "sitephone_call", sitephone_init: "sitephone_init", omni_widget_call: "omni_widget_call" };
        e.request = function(e, r, s) { var a = i.API.getCredentials(),
                c = o.essential.filterObjectByFn(r, o.essential.isUndefined);
            t(function(e, t) { return e.replace("/vi", "/") + d[t] }(a.consultant_server_url, e), c = n(e, c), s) } }(t.Http || (t.Http = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(6);
    n(41).noConflict(); var i, r, s, a, c, l, u, d, p = n(44),
        f = n(5),
        h = n(3),
        m = n(1),
        g = n(4),
        _ = n(12),
        v = n(13),
        b = f.util.getRandomInt,
        y = {},
        w = !1,
        E = !1,
        T = 1,
        S = !1;! function(e) {
        function t() { var e = window.onbeforeunload;
            window.onbeforeunload = function(t) { try { i.onclose = null, i.readyState === p.OPEN && i.close(), i = null, e && e.call(window, t) } catch (e) {} } }

        function n(e) { A("[Ws] about to connect"), -1 !== window.location.search.indexOf("xhr_only") && (WebSocket = void 0); var t = m.CookieShop.get(m.CookieShop.WS_OFFLINE); if ("1" == t && m.CookieShop.set(m.CookieShop.WS_OFFLINE, 2), !t) { A("[Ws] we're not offline :)"); try { var n = P(); if (!(n.hi && n.ci && n.sk)) return void A("[Ws] invalid auth params!"); var o = new h.essential.URL(e).replace({ query: n });
                    (i = new p(o, null)).onopen = f.util.bind(M, this), i.onclose = f.util.bind(L, this), i.onmessage = f.util.bind(D, this), A("[Ws] connected!") } catch (e) { A(e) } } }

        function d() { if (!E) { N(); var e = function() { var e; return e = T > 5 ? 67 : Math.pow(2.7, T) / T - b(0, 2), T++, 1e3 * e }();
                A("reconnect attemptNumber = " + T + ", date = " + (new Date).getTime() + ", trytimeout = " + e), l && (l = !1), i = {}, w || (w = !0, c = setTimeout((function() { return O() }), 18e5)), a && clearTimeout(a), a = setTimeout((function() { A("reconnect"), n(u) }), e) } }

        function k() { w = !1, c && clearTimeout(c), a && clearTimeout(a) }

        function O() { E = !0 }

        function A() { for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            e.unshift("[Ws]"), f.util.log.apply(f.util, e) }

        function C() { A("start ping"), r = setInterval((function() { return I() }), 3e4) }

        function N() { A("stop ping"), r && clearInterval(r), s && clearTimeout(s) }

        function I() { m.CookieShop.getSessionId() && !l && (U("ping"), s = setTimeout((function() { x() }), 6e4)) }

        function x() { A("ping timeout((("), L() }

        function P() { return { ci: _.Analytics.getComagicId(), hi: _.Analytics.getHitId(), sk: F() } }

        function R(e, t, n, o) { return void 0 === o && (o = "rpc"), JSON.stringify({ name: e, params: t, id: n || null, type: o }) }

        function j(e) { return JSON.parse(e) }

        function M() { A("Connection opened"), k(), N(), C(), S && o.EventBus.fireEvent("ws:timetoreinit", e), o.EventBus.fireEvent("ws:socketopen", e) }

        function L(t) { var n = t ? t.code : 4e3;
            A("Connection closed", t ? t.reason : "Ok", n), N(), 4001 === n ? (l = !0, o.EventBus.fireEvent("api:sleep")) : o.EventBus.fireEvent("ws:socketclose", e), (n <= 4e3 || 4003 === n) && (k(), d()), 4101 === n && m.CookieShop.set(m.CookieShop.WS_OFFLINE, 2) }

        function D(t) { var n;
            A("Receive message, ", t.data); try { n = j(t.data) } catch (e) { A(e), n = {} } "rpc-result" == n.type ? n.id in y && (y[n.id]({ success: n.success, result: n.result }), delete y[n.id]) : "rpc" == n.type ? (o.EventBus.fireEvent("rpc:" + n.name, e, n.params), "pong" === n.name && n.params && "state" in n.params && (f.util.log("Got state in pong:", n.params.state), o.EventBus.fireEvent("rpc:refresh_state", e, n.params))) : "event" == n.type && o.EventBus.fireEvent("event:" + n.name, n.params) }

        function U(e, t, n) { var o = null;
            n && (o = f.util.uuid(), y[o] = n); var r = R(e, t, o); return A(f.util.getTimeStr(), "Send message:", r), !(!i || i.readyState !== p.OPEN) && (i.send(r), void("init" === e && (S = !0))) } var F = v.SiteSettings.getSiteKey;
        e.__commands = ["sendMessage", "ensureSessionAndRun", "getUploadUrl", "setOperatorId", "fireServerEvent"], e.init = function(o) { void 0 === o && (o = u), u = o, A("[Ws] init"), g.Queue.registerAndProcess(e.__commands, e, !0), n(u), t() }, e.reconnect = d, e.stopReconnect = k, e.onReconnectExpired = O, e.log = A, e.startPing = C, e.stopPing = N, e.ping = I, e.onPingTimeout = x, e.getAuthParams = P, e.makeMessage = R, e.loadMessage = j, e.onSocketOpen = M, e.onSocketClose = L, e.onSocketMessage = D, e.sendMessage = U, e.fireServerEvent = function(e, t) { var n = R(e, t, null, "event"); return A(f.util.getTimeStr(), "Send event to server:", n), !(!i || i.readyState !== p.OPEN) && void i.send(n) }, e.getTimeDelta = function() { return 0 }, e.getUploadUrl = function(e) { U("get_upload_url", {}, e) }, e.setOperatorId = function(e) { U("set_operator", { operator_id: e }) }, e.onSession = function(t) { "2" !== m.CookieShop.get(m.CookieShop.ALY_OFFLINE) && e.init(t) }, e.onRpcPong = function(e, t) { s && clearTimeout(s) } }(d = t.Ws || (t.Ws = {})), o.EventBus.on({ "rpc:pong": d.onRpcPong, scope: d }) }, function(e, t, n) { var o;
    (function(e, i) {
        (function() {
            function r(e, t) {
                function n(e) { if (n[e] !== g) return n[e]; var r; if ("bug-string-char-index" == e) r = "a" != "a" [0];
                    else if ("json" == e) r = n("json-stringify") && n("json-parse");
                    else { var s, a = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'; if ("json-stringify" == e) { var l = t.stringify,
                                u = "function" == typeof l && b; if (u) {
                                (s = function() { return 1 }).toJSON = s; try { u = "0" === l(0) && "0" === l(new o) && '""' == l(new i) && l(v) === g && l(g) === g && l() === g && "1" === l(s) && "[1]" == l([s]) && "[null]" == l([g]) && "null" == l(null) && "[null,null,null]" == l([g, v, null]) && l({ a: [s, !0, !1, null, "\0\b\n\f\r\t"] }) == a && "1" === l(null, s) && "[\n 1,\n 2\n]" == l([1, 2], null, 1) && '"-271821-04-20T00:00:00.000Z"' == l(new c(-864e13)) && '"+275760-09-13T00:00:00.000Z"' == l(new c(864e13)) && '"-000001-01-01T00:00:00.000Z"' == l(new c(-621987552e5)) && '"1969-12-31T23:59:59.999Z"' == l(new c(-1)) } catch (e) { u = !1 } }
                            r = u } if ("json-parse" == e) { var d = t.parse; if ("function" == typeof d) try { if (0 === d("0") && !d(!1)) { var p = 5 == (s = d(a)).a.length && 1 === s.a[0]; if (p) { try { p = !d('"\t"') } catch (e) {} if (p) try { p = 1 !== d("01") } catch (e) {}
                                        if (p) try { p = 1 !== d("1.") } catch (e) {} } } } catch (e) { p = !1 }
                            r = p } } return n[e] = !!r }
                e || (e = l.Object()), t || (t = l.Object()); var o = e.Number || l.Number,
                    i = e.String || l.String,
                    s = e.Object || l.Object,
                    c = e.Date || l.Date,
                    u = e.SyntaxError || l.SyntaxError,
                    d = e.TypeError || l.TypeError,
                    p = e.Math || l.Math,
                    f = e.JSON || l.JSON; "object" == typeof f && f && (t.stringify = f.stringify, t.parse = f.parse); var h, m, g, _ = s.prototype,
                    v = _.toString,
                    b = new c(-0xc782b5b800cec); try { b = -109252 == b.getUTCFullYear() && 0 === b.getUTCMonth() && 1 === b.getUTCDate() && 10 == b.getUTCHours() && 37 == b.getUTCMinutes() && 6 == b.getUTCSeconds() && 708 == b.getUTCMilliseconds() } catch (e) {} if (!n("json")) { var y = "[object Function]",
                        w = "[object Number]",
                        E = "[object String]",
                        T = "[object Array]",
                        S = n("bug-string-char-index"); if (!b) var k = p.floor,
                        O = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334],
                        A = function(e, t) { return O[t] + 365 * (e - 1970) + k((e - 1969 + (t = +(t > 1))) / 4) - k((e - 1901 + t) / 100) + k((e - 1601 + t) / 400) }; if ((h = _.hasOwnProperty) || (h = function(e) { var t, n = {}; return (n.__proto__ = null, n.__proto__ = { toString: 1 }, n).toString != v ? h = function(e) { var t = this.__proto__,
                                    n = e in (this.__proto__ = null, this); return this.__proto__ = t, n } : (t = n.constructor, h = function(e) { var n = (this.constructor || t).prototype; return e in this && !(e in n && this[e] === n[e]) }), n = null, h.call(this, e) }), m = function(e, t) { var n, o, i, r = 0; for (i in (n = function() { this.valueOf = 0 }).prototype.valueOf = 0, o = new n) h.call(o, i) && r++; return n = o = null, r ? m = 2 == r ? function(e, t) { var n, o = {},
                                    i = v.call(e) == y; for (n in e) i && "prototype" == n || h.call(o, n) || !(o[n] = 1) || !h.call(e, n) || t(n) } : function(e, t) { var n, o, i = v.call(e) == y; for (n in e) i && "prototype" == n || !h.call(e, n) || (o = "constructor" === n) || t(n);
                                (o || h.call(e, n = "constructor")) && t(n) } : (o = ["valueOf", "toString", "toLocaleString", "propertyIsEnumerable", "isPrototypeOf", "hasOwnProperty", "constructor"], m = function(e, t) { var n, i, r = v.call(e) == y,
                                    s = !r && "function" != typeof e.constructor && a[typeof e.hasOwnProperty] && e.hasOwnProperty || h; for (n in e) r && "prototype" == n || !s.call(e, n) || t(n); for (i = o.length; n = o[--i]; s.call(e, n) && t(n)); }), m(e, t) }, !n("json-stringify")) { var C = { 92: "\\\\", 34: '\\"', 8: "\\b", 12: "\\f", 10: "\\n", 13: "\\r", 9: "\\t" },
                            N = function(e, t) { return ("000000" + (t || 0)).slice(-e) },
                            I = function(e) { for (var t = '"', n = 0, o = e.length, i = !S || o > 10, r = i && (S ? e.split("") : e); n < o; n++) { var s = e.charCodeAt(n); switch (s) {
                                        case 8:
                                        case 9:
                                        case 10:
                                        case 12:
                                        case 13:
                                        case 34:
                                        case 92:
                                            t += C[s]; break;
                                        default:
                                            if (s < 32) { t += "\\u00" + N(2, s.toString(16)); break }
                                            t += i ? r[n] : e.charAt(n) } } return t + '"' },
                            x = function(e, t, n, o, i, r, s) { var a, c, l, u, p, f, _, b, y, S, O, C, P, R, j, M; try { a = t[e] } catch (e) {} if ("object" == typeof a && a)
                                    if ("[object Date]" != (c = v.call(a)) || h.call(a, "toJSON")) "function" == typeof a.toJSON && (c != w && c != E && c != T || h.call(a, "toJSON")) && (a = a.toJSON(e));
                                    else if (a > -1 / 0 && a < 1 / 0) { if (A) { for (p = k(a / 864e5), l = k(p / 365.2425) + 1970 - 1; A(l + 1, 0) <= p; l++); for (u = k((p - A(l, 0)) / 30.42); A(l, u + 1) <= p; u++);
                                        p = 1 + p - A(l, u), _ = k((f = (a % 864e5 + 864e5) % 864e5) / 36e5) % 24, b = k(f / 6e4) % 60, y = k(f / 1e3) % 60, S = f % 1e3 } else l = a.getUTCFullYear(), u = a.getUTCMonth(), p = a.getUTCDate(), _ = a.getUTCHours(), b = a.getUTCMinutes(), y = a.getUTCSeconds(), S = a.getUTCMilliseconds();
                                    a = (l <= 0 || l >= 1e4 ? (l < 0 ? "-" : "+") + N(6, l < 0 ? -l : l) : N(4, l)) + "-" + N(2, u + 1) + "-" + N(2, p) + "T" + N(2, _) + ":" + N(2, b) + ":" + N(2, y) + "." + N(3, S) + "Z" } else a = null; if (n && (a = n.call(t, e, a)), null === a) return "null"; if ("[object Boolean]" == (c = v.call(a))) return "" + a; if (c == w) return a > -1 / 0 && a < 1 / 0 ? "" + a : "null"; if (c == E) return I("" + a); if ("object" == typeof a) { for (R = s.length; R--;)
                                        if (s[R] === a) throw d();
                                    if (s.push(a), O = [], j = r, r += i, c == T) { for (P = 0, R = a.length; P < R; P++) C = x(P, a, n, o, i, r, s), O.push(C === g ? "null" : C);
                                        M = O.length ? i ? "[\n" + r + O.join(",\n" + r) + "\n" + j + "]" : "[" + O.join(",") + "]" : "[]" } else m(o || a, (function(e) { var t = x(e, a, n, o, i, r, s);
                                        t !== g && O.push(I(e) + ":" + (i ? " " : "") + t) })), M = O.length ? i ? "{\n" + r + O.join(",\n" + r) + "\n" + j + "}" : "{" + O.join(",") + "}" : "{}"; return s.pop(), M } };
                        t.stringify = function(e, t, n) { var o, i, r, s; if (a[typeof t] && t)
                                if ((s = v.call(t)) == y) i = t;
                                else if (s == T) { r = {}; for (var c, l = 0, u = t.length; l < u; c = t[l++], ((s = v.call(c)) == E || s == w) && (r[c] = 1)); } if (n)
                                if ((s = v.call(n)) == w) { if ((n -= n % 1) > 0)
                                        for (o = "", n > 10 && (n = 10); o.length < n; o += " "); } else s == E && (o = n.length <= 10 ? n : n.slice(0, 10));
                            return x("", ((c = {})[""] = e, c), i, r, o, "", []) } } if (!n("json-parse")) { var P, R, j = i.fromCharCode,
                            M = { 92: "\\", 34: '"', 47: "/", 98: "\b", 116: "\t", 110: "\n", 102: "\f", 114: "\r" },
                            L = function() { throw P = R = null, u() },
                            D = function() { for (var e, t, n, o, i, r = R, s = r.length; P < s;) switch (i = r.charCodeAt(P)) {
                                    case 9:
                                    case 10:
                                    case 13:
                                    case 32:
                                        P++; break;
                                    case 123:
                                    case 125:
                                    case 91:
                                    case 93:
                                    case 58:
                                    case 44:
                                        return e = S ? r.charAt(P) : r[P], P++, e;
                                    case 34:
                                        for (e = "@", P++; P < s;)
                                            if ((i = r.charCodeAt(P)) < 32) L();
                                            else if (92 == i) switch (i = r.charCodeAt(++P)) {
                                            case 92:
                                            case 34:
                                            case 47:
                                            case 98:
                                            case 116:
                                            case 110:
                                            case 102:
                                            case 114:
                                                e += M[i], P++; break;
                                            case 117:
                                                for (t = ++P, n = P + 4; P < n; P++)(i = r.charCodeAt(P)) >= 48 && i <= 57 || i >= 97 && i <= 102 || i >= 65 && i <= 70 || L();
                                                e += j("0x" + r.slice(t, P)); break;
                                            default:
                                                L() } else { if (34 == i) break; for (i = r.charCodeAt(P), t = P; i >= 32 && 92 != i && 34 != i;) i = r.charCodeAt(++P);
                                            e += r.slice(t, P) }
                                        if (34 == r.charCodeAt(P)) return P++, e;
                                        L();
                                    default:
                                        if (t = P, 45 == i && (o = !0, i = r.charCodeAt(++P)), i >= 48 && i <= 57) { for (48 == i && ((i = r.charCodeAt(P + 1)) >= 48 && i <= 57) && L(), o = !1; P < s && ((i = r.charCodeAt(P)) >= 48 && i <= 57); P++); if (46 == r.charCodeAt(P)) { for (n = ++P; n < s && ((i = r.charCodeAt(n)) >= 48 && i <= 57); n++);
                                                n == P && L(), P = n } if (101 == (i = r.charCodeAt(P)) || 69 == i) { for (43 != (i = r.charCodeAt(++P)) && 45 != i || P++, n = P; n < s && ((i = r.charCodeAt(n)) >= 48 && i <= 57); n++);
                                                n == P && L(), P = n } return +r.slice(t, P) } if (o && L(), "true" == r.slice(P, P + 4)) return P += 4, !0; if ("false" == r.slice(P, P + 5)) return P += 5, !1; if ("null" == r.slice(P, P + 4)) return P += 4, null;
                                        L() }
                                return "$" },
                            U = function(e) { var t, n; if ("$" == e && L(), "string" == typeof e) { if ("@" == (S ? e.charAt(0) : e[0])) return e.slice(1); if ("[" == e) { for (t = [];
                                            "]" != (e = D()); n || (n = !0)) n && ("," == e ? "]" == (e = D()) && L() : L()), "," == e && L(), t.push(U(e)); return t } if ("{" == e) { for (t = {};
                                            "}" != (e = D()); n || (n = !0)) n && ("," == e ? "}" == (e = D()) && L() : L()), "," != e && "string" == typeof e && "@" == (S ? e.charAt(0) : e[0]) && ":" == D() || L(), t[e.slice(1)] = U(D()); return t }
                                    L() } return e },
                            F = function(e, t, n) { var o = W(e, t, n);
                                o === g ? delete e[t] : e[t] = o },
                            W = function(e, t, n) { var o, i = e[t]; if ("object" == typeof i && i)
                                    if (v.call(i) == T)
                                        for (o = i.length; o--;) F(i, o, n);
                                    else m(i, (function(e) { F(i, e, n) }));
                                return n.call(e, t, i) };
                        t.parse = function(e, t) { var n, o; return P = 0, R = "" + e, n = U(D()), "$" != D() && L(), P = R = null, t && v.call(t) == y ? W(((o = {})[""] = n, o), "", t) : n } } } return t.runInContext = r, t } var s = n(43),
                a = { function: !0, object: !0 },
                c = a[typeof t] && t && !t.nodeType && t,
                l = a[typeof window] && window || this,
                u = c && a[typeof e] && e && !e.nodeType && "object" == typeof i && i; if (!u || u.global !== u && u.window !== u && u.self !== u || (l = u), c && !s) r(l, c);
            else { var d = l.JSON,
                    p = l.JSON3,
                    f = !1,
                    h = r(l, l.JSON3 = { noConflict: function() { return f || (f = !0, l.JSON = d, l.JSON3 = p, d = p = null), h } });
                l.JSON = { parse: h.parse, stringify: h.stringify } }
            s && (void 0 === (o = function() { return h }.call(t, n, t, e)) || (e.exports = o)) }).call(this) }).call(t, n(42)(e), function() { return this }()) }, function(e, t) { e.exports = function(e) { return e.webpackPolyfill || (e.deprecate = function() {}, e.paths = [], e.children = [], e.webpackPolyfill = 1), e } }, function(e, t) {
    (function(t) { e.exports = t }).call(t, {}) }, function(e, t, n) {
    (function(t) { "use strict"; var o = n(45);
        e.exports = n(89)(o), "_sockjs_onload" in t && setTimeout(t._sockjs_onload, 1) }).call(t, function() { return this }()) }, function(e, t, n) { "use strict";
    e.exports = [n(46), n(62), n(72), n(74), n(77)(n(74)), n(82), n(77)(n(82)), n(84), n(85), n(77)(n(84)), n(86)] }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e, t, n) { if (!o.enabled()) throw new Error("Transport created when disabled");
            a.call(this), l("constructor", e); var s = this,
                u = r.addPath(e, "/websocket");
            u = "https" === u.slice(0, 5) ? "wss" + u.slice(5) : "ws" + u.slice(4), this.url = u, this.ws = new c(this.url, [], n), this.ws.onmessage = function(e) { l("message event", e.data), s.emit("message", e.data) }, this.unloadRef = i.unloadAdd((function() { l("unload"), s.ws.close() })), this.ws.onclose = function(e) { l("close event", e.code, e.reason), s.emit("close", e.code, e.reason), s._cleanup() }, this.ws.onerror = function(e) { l("error event", e), s.emit("close", 1006, "WebSocket connection broken"), s._cleanup() } } var i = n(48),
            r = n(51),
            s = n(58),
            a = n(59).EventEmitter,
            c = n(61),
            l = function() {}; "production" !== t.env.NODE_ENV && (l = n(55)("sockjs-client:websocket")), s(o, a), o.prototype.send = function(e) { var t = "[" + e + "]";
            l("send", t), this.ws.send(t) }, o.prototype.close = function() { l("close"); var e = this.ws;
            this._cleanup(), e && e.close() }, o.prototype._cleanup = function() { l("_cleanup"); var e = this.ws;
            e && (e.onmessage = e.onclose = e.onerror = null), i.unloadDel(this.unloadRef), this.unloadRef = this.ws = null, this.removeAllListeners() }, o.enabled = function() { return l("enabled"), !!c }, o.transportName = "websocket", o.roundTrips = 2, e.exports = o }).call(t, n(47)) }, function(e, t) {
    function n() { throw new Error("setTimeout has not been defined") }

    function o() { throw new Error("clearTimeout has not been defined") }

    function i(e) { if (l === setTimeout) return setTimeout(e, 0); if ((l === n || !l) && setTimeout) return l = setTimeout, setTimeout(e, 0); try { return l(e, 0) } catch (t) { try { return l.call(null, e, 0) } catch (t) { return l.call(this, e, 0) } } }

    function r() { h && p && (h = !1, p.length ? f = p.concat(f) : m = -1, f.length && s()) }

    function s() { if (!h) { var e = i(r);
            h = !0; for (var t = f.length; t;) { for (p = f, f = []; ++m < t;) p && p[m].run();
                m = -1, t = f.length }
            p = null, h = !1,
                function(e) { if (u === clearTimeout) return clearTimeout(e); if ((u === o || !u) && clearTimeout) return u = clearTimeout, clearTimeout(e); try { u(e) } catch (t) { try { return u.call(null, e) } catch (t) { return u.call(this, e) } } }(e) } }

    function a(e, t) { this.fun = e, this.array = t }

    function c() {} var l, u, d = e.exports = {};! function() { try { l = "function" == typeof setTimeout ? setTimeout : n } catch (e) { l = n } try { u = "function" == typeof clearTimeout ? clearTimeout : o } catch (e) { u = o } }(); var p, f = [],
        h = !1,
        m = -1;
    d.nextTick = function(e) { var t = new Array(arguments.length - 1); if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        f.push(new a(e, t)), 1 !== f.length || h || i(s) }, a.prototype.run = function() { this.fun.apply(null, this.array) }, d.title = "browser", d.browser = !0, d.env = {}, d.argv = [], d.version = "", d.versions = {}, d.on = c, d.addListener = c, d.once = c, d.off = c, d.removeListener = c, d.removeAllListeners = c, d.emit = c, d.prependListener = c, d.prependOnceListener = c, d.listeners = function(e) { return [] }, d.binding = function(e) { throw new Error("process.binding is not supported") }, d.cwd = function() { return "/" }, d.chdir = function(e) { throw new Error("process.chdir is not supported") }, d.umask = function() { return 0 } }, function(e, t, n) {
    (function(t) { "use strict"; var o = n(49),
            i = {},
            r = !1,
            s = t.chrome && t.chrome.app && t.chrome.app.runtime;
        e.exports = { attachEvent: function(e, n) { void 0 !== t.addEventListener ? t.addEventListener(e, n, !1) : t.document && t.attachEvent && (t.document.attachEvent("on" + e, n), t.attachEvent("on" + e, n)) }, detachEvent: function(e, n) { void 0 !== t.addEventListener ? t.removeEventListener(e, n, !1) : t.document && t.detachEvent && (t.document.detachEvent("on" + e, n), t.detachEvent("on" + e, n)) }, unloadAdd: function(e) { if (s) return null; var t = o.string(8); return i[t] = e, r && setTimeout(this.triggerUnloadCallbacks, 0), t }, unloadDel: function(e) { e in i && delete i[e] }, triggerUnloadCallbacks: function() { for (var e in i) i[e](), delete i[e] } };
        s || e.exports.attachEvent("unload", (function() { r || (r = !0, e.exports.triggerUnloadCallbacks()) })) }).call(t, function() { return this }()) }, function(e, t, n) { "use strict"; var o = n(50),
        i = "abcdefghijklmnopqrstuvwxyz012345";
    e.exports = { string: function(e) { for (var t = i.length, n = o.randomBytes(e), r = [], s = 0; s < e; s++) r.push(i.substr(n[s] % t, 1)); return r.join("") }, number: function(e) { return Math.floor(Math.random() * e) }, numberString: function(e) { var t = ("" + (e - 1)).length; return (new Array(t + 1).join("0") + this.number(e)).slice(-t) } } }, function(e, t) {
    (function(t) { "use strict";
        t.crypto && t.crypto.getRandomValues ? e.exports.randomBytes = function(e) { var n = new Uint8Array(e); return t.crypto.getRandomValues(n), n } : e.exports.randomBytes = function(e) { for (var t = new Array(e), n = 0; n < e; n++) t[n] = Math.floor(256 * Math.random()); return t } }).call(t, function() { return this }()) }, function(e, t, n) {
    (function(t) { "use strict"; var o = n(52),
            i = function() {}; "production" !== t.env.NODE_ENV && (i = n(55)("sockjs-client:utils:url")), e.exports = { getOrigin: function(e) { if (!e) return null; var t = new o(e); if ("file:" === t.protocol) return null; var n = t.port; return n || (n = "https:" === t.protocol ? "443" : "80"), t.protocol + "//" + t.hostname + ":" + n }, isOriginEqual: function(e, t) { var n = this.getOrigin(e) === this.getOrigin(t); return i("same", e, t, n), n }, isSchemeEqual: function(e, t) { return e.split(":")[0] === t.split(":")[0] }, addPath: function(e, t) { var n = e.split("?"); return n[0] + t + (n[1] ? "?" + n[1] : "") }, addQuery: function(e, t) { return e + (-1 === e.indexOf("?") ? "?" + t : "&" + t) } } }).call(t, n(47)) }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e) { var n, o = {},
                i = typeof(e = e || t.location || {}); if ("blob:" === e.protocol) o = new r(unescape(e.pathname), {});
            else if ("string" === i)
                for (n in o = new r(e, {}), d) delete o[n];
            else if ("object" === i) { for (n in e) n in d || (o[n] = e[n]);
                void 0 === o.slashes && (o.slashes = l.test(e.href)) } return o }

        function i(e) { var t = c.exec(e); return { protocol: t[1] ? t[1].toLowerCase() : "", slashes: !!t[2], rest: t[3] } }

        function r(e, t, n) { if (!(this instanceof r)) return new r(e, t, n); var c, l, d, p, f, h, m = u.slice(),
                g = typeof t,
                _ = this,
                v = 0; for ("object" !== g && "string" !== g && (n = t, t = null), n && "function" != typeof n && (n = a.parse), t = o(t), c = !(l = i(e || "")).protocol && !l.slashes, _.slashes = l.slashes || c && t.slashes, _.protocol = l.protocol || t.protocol || "", e = l.rest, l.slashes || (m[2] = [/(.*)/, "pathname"]); v < m.length; v++) d = (p = m[v])[0], h = p[1], d != d ? _[h] = e : "string" == typeof d ? ~(f = e.indexOf(d)) && ("number" == typeof p[2] ? (_[h] = e.slice(0, f), e = e.slice(f + p[2])) : (_[h] = e.slice(f), e = e.slice(0, f))) : (f = d.exec(e)) && (_[h] = f[1], e = e.slice(0, f.index)), _[h] = _[h] || c && p[3] && t[h] || "", p[4] && (_[h] = _[h].toLowerCase());
            n && (_.query = n(_.query)), c && t.slashes && "/" !== _.pathname.charAt(0) && ("" !== _.pathname || "" !== t.pathname) && (_.pathname = function(e, t) { for (var n = (t || "/").split("/").slice(0, -1).concat(e.split("/")), o = n.length, i = n[o - 1], r = !1, s = 0; o--;) "." === n[o] ? n.splice(o, 1) : ".." === n[o] ? (n.splice(o, 1), s++) : s && (0 === o && (r = !0), n.splice(o, 1), s--); return r && n.unshift(""), "." !== i && ".." !== i || n.push(""), n.join("/") }(_.pathname, t.pathname)), s(_.port, _.protocol) || (_.host = _.hostname, _.port = ""), _.username = _.password = "", _.auth && (p = _.auth.split(":"), _.username = p[0] || "", _.password = p[1] || ""), _.origin = _.protocol && _.host && "file:" !== _.protocol ? _.protocol + "//" + _.host : "null", _.href = _.toString() } var s = n(53),
            a = n(54),
            c = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,
            l = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//,
            u = [
                ["#", "hash"],
                ["?", "query"],
                ["/", "pathname"],
                ["@", "auth", 1],
                [NaN, "host", void 0, 1, 1],
                [/:(\d+)$/, "port", void 0, 1],
                [NaN, "hostname", void 0, 1, 1]
            ],
            d = { hash: 1, query: 1 };
        r.prototype = { set: function(e, t, n) { var o = this; switch (e) {
                    case "query":
                        "string" == typeof t && t.length && (t = (n || a.parse)(t)), o[e] = t; break;
                    case "port":
                        o[e] = t, s(t, o.protocol) ? t && (o.host = o.hostname + ":" + t) : (o.host = o.hostname, o[e] = ""); break;
                    case "hostname":
                        o[e] = t, o.port && (t += ":" + o.port), o.host = t; break;
                    case "host":
                        o[e] = t, /:\d+$/.test(t) ? (t = t.split(":"), o.port = t.pop(), o.hostname = t.join(":")) : (o.hostname = t, o.port = ""); break;
                    case "protocol":
                        o.protocol = t.toLowerCase(), o.slashes = !n; break;
                    case "pathname":
                        o.pathname = t.length && "/" !== t.charAt(0) ? "/" + t : t; break;
                    default:
                        o[e] = t } for (var i = 0; i < u.length; i++) { var r = u[i];
                    r[4] && (o[r[1]] = o[r[1]].toLowerCase()) } return o.origin = o.protocol && o.host && "file:" !== o.protocol ? o.protocol + "//" + o.host : "null", o.href = o.toString(), o }, toString: function(e) { e && "function" == typeof e || (e = a.stringify); var t, n = this,
                    o = n.protocol;
                o && ":" !== o.charAt(o.length - 1) && (o += ":"); var i = o + (n.slashes ? "//" : ""); return n.username && (i += n.username, n.password && (i += ":" + n.password), i += "@"), i += n.host + n.pathname, (t = "object" == typeof n.query ? e(n.query) : n.query) && (i += "?" !== t.charAt(0) ? "?" + t : t), n.hash && (i += n.hash), i } }, r.extractProtocol = i, r.location = o, r.qs = a, e.exports = r }).call(t, function() { return this }()) }, function(e, t) { "use strict";
    e.exports = function(e, t) { if (t = t.split(":")[0], !(e = +e)) return !1; switch (t) {
            case "http":
            case "ws":
                return 80 !== e;
            case "https":
            case "wss":
                return 443 !== e;
            case "ftp":
                return 21 !== e;
            case "gopher":
                return 70 !== e;
            case "file":
                return !1 } return 0 !== e } }, function(e, t) { "use strict";

    function n(e) { return decodeURIComponent(e.replace(/\+/g, " ")) } var o = Object.prototype.hasOwnProperty;
    t.stringify = function(e, t) { t = t || ""; var n = []; for (var i in "string" != typeof t && (t = "?"), e) o.call(e, i) && n.push(encodeURIComponent(i) + "=" + encodeURIComponent(e[i])); return n.length ? t + n.join("&") : "" }, t.parse = function(e) { for (var t, o = /([^=?&]+)=?([^&]*)/g, i = {}; t = o.exec(e); i[n(t[1])] = n(t[2])); return i } }, function(e, t, n) {
    (function(o) {
        function i() { var e; try { e = t.storage.debug } catch (e) {} return !e && void 0 !== o && "env" in o && (e = o.env.DEBUG), e }(t = e.exports = n(56)).log = function() { return "object" == typeof console && console.log && Function.prototype.apply.call(console.log, console, arguments) }, t.formatArgs = function(e) { var n = this.useColors; if (e[0] = (n ? "%c" : "") + this.namespace + (n ? " %c" : " ") + e[0] + (n ? "%c " : " ") + "+" + t.humanize(this.diff), n) { var o = "color: " + this.color;
                e.splice(1, 0, o, "color: inherit"); var i = 0,
                    r = 0;
                e[0].replace(/%[a-zA-Z%]/g, (function(e) { "%%" !== e && (i++, "%c" === e && (r = i)) })), e.splice(r, 0, o) } }, t.save = function(e) { try { null == e ? t.storage.removeItem("debug") : t.storage.debug = e } catch (e) {} }, t.load = i, t.useColors = function() { return !("undefined" == typeof window || !window.process || "renderer" !== window.process.type) || "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/) }, t.storage = "undefined" != typeof chrome && void 0 !== chrome.storage ? chrome.storage.local : function() { try { return window.localStorage } catch (e) {} }(), t.colors = ["lightseagreen", "forestgreen", "goldenrod", "dodgerblue", "darkorchid", "crimson"], t.formatters.j = function(e) { try { return JSON.stringify(e) } catch (e) { return "[UnexpectedJSONParseError]: " + e.message } }, t.enable(i()) }).call(t, n(47)) }, function(e, t, n) {
    function o(e) {
        function n() { if (n.enabled) { var e = n,
                    o = +new Date,
                    r = o - (i || o);
                e.diff = r, e.prev = i, e.curr = o, i = o; for (var s = new Array(arguments.length), a = 0; a < s.length; a++) s[a] = arguments[a];
                s[0] = t.coerce(s[0]), "string" != typeof s[0] && s.unshift("%O"); var c = 0;
                s[0] = s[0].replace(/%([a-zA-Z%])/g, (function(n, o) { if ("%%" === n) return n;
                    c++; var i = t.formatters[o]; if ("function" == typeof i) { var r = s[c];
                        n = i.call(e, r), s.splice(c, 1), c-- } return n })), t.formatArgs.call(e, s); var l = n.log || t.log || console.log.bind(console);
                l.apply(e, s) } } return n.namespace = e, n.enabled = t.enabled(e), n.useColors = t.useColors(), n.color = function(e) { var n, o = 0; for (n in e) o = (o << 5) - o + e.charCodeAt(n), o |= 0; return t.colors[Math.abs(o) % t.colors.length] }(e), "function" == typeof t.init && t.init(n), n } var i;
    (t = e.exports = o.debug = o.default = o).coerce = function(e) { return e instanceof Error ? e.stack || e.message : e }, t.disable = function() { t.enable("") }, t.enable = function(e) { t.save(e), t.names = [], t.skips = []; for (var n = ("string" == typeof e ? e : "").split(/[\s,]+/), o = n.length, i = 0; i < o; i++) n[i] && ("-" === (e = n[i].replace(/\*/g, ".*?"))[0] ? t.skips.push(new RegExp("^" + e.substr(1) + "$")) : t.names.push(new RegExp("^" + e + "$"))) }, t.enabled = function(e) { var n, o; for (n = 0, o = t.skips.length; n < o; n++)
            if (t.skips[n].test(e)) return !1;
        for (n = 0, o = t.names.length; n < o; n++)
            if (t.names[n].test(e)) return !0;
        return !1 }, t.humanize = n(57), t.names = [], t.skips = [], t.formatters = {} }, function(e, t) {
    function n(e) { return o(e, a, "day") || o(e, s, "hour") || o(e, r, "minute") || o(e, i, "second") || e + " ms" }

    function o(e, t, n) { if (!(e < t)) return e < 1.5 * t ? Math.floor(e / t) + " " + n : Math.ceil(e / t) + " " + n + "s" } var i = 1e3,
        r = 60 * i,
        s = 60 * r,
        a = 24 * s,
        c = 365.25 * a;
    e.exports = function(e, t) { t = t || {}; var o = typeof e; if ("string" === o && e.length > 0) return function(e) { if (!((e = String(e)).length > 100)) { var t = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e); if (t) { var n = parseFloat(t[1]); switch ((t[2] || "ms").toLowerCase()) {
                        case "years":
                        case "year":
                        case "yrs":
                        case "yr":
                        case "y":
                            return n * c;
                        case "days":
                        case "day":
                        case "d":
                            return n * a;
                        case "hours":
                        case "hour":
                        case "hrs":
                        case "hr":
                        case "h":
                            return n * s;
                        case "minutes":
                        case "minute":
                        case "mins":
                        case "min":
                        case "m":
                            return n * r;
                        case "seconds":
                        case "second":
                        case "secs":
                        case "sec":
                        case "s":
                            return n * i;
                        case "milliseconds":
                        case "millisecond":
                        case "msecs":
                        case "msec":
                        case "ms":
                            return n;
                        default:
                            return } } } }(e); if ("number" === o && !1 === isNaN(e)) return t.long ? n(e) : function(e) { return e >= a ? Math.round(e / a) + "d" : e >= s ? Math.round(e / s) + "h" : e >= r ? Math.round(e / r) + "m" : e >= i ? Math.round(e / i) + "s" : e + "ms" }(e); throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e)) } }, function(e, t) { "function" == typeof Object.create ? e.exports = function(e, t) { e.super_ = t, e.prototype = Object.create(t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }) } : e.exports = function(e, t) { e.super_ = t; var n = function() {};
        n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e } }, function(e, t, n) { "use strict";

    function o() { r.call(this) } var i = n(58),
        r = n(60);
    i(o, r), o.prototype.removeAllListeners = function(e) { e ? delete this._listeners[e] : this._listeners = {} }, o.prototype.once = function(e, t) { var n = this,
            o = !1;
        this.on(e, (function i() { n.removeListener(e, i), o || (o = !0, t.apply(this, arguments)) })) }, o.prototype.emit = function() { var e = arguments[0],
            t = this._listeners[e]; if (t) { for (var n = arguments.length, o = new Array(n - 1), i = 1; i < n; i++) o[i - 1] = arguments[i]; for (var r = 0; r < t.length; r++) t[r].apply(this, o) } }, o.prototype.on = o.prototype.addListener = r.prototype.addEventListener, o.prototype.removeListener = r.prototype.removeEventListener, e.exports.EventEmitter = o }, function(e, t) { "use strict";

    function n() { this._listeners = {} }
    n.prototype.addEventListener = function(e, t) { e in this._listeners || (this._listeners[e] = []); var n = this._listeners[e]; - 1 === n.indexOf(t) && (n = n.concat([t])), this._listeners[e] = n }, n.prototype.removeEventListener = function(e, t) { var n = this._listeners[e]; if (n) { var o = n.indexOf(t); return -1 !== o ? void(n.length > 1 ? this._listeners[e] = n.slice(0, o).concat(n.slice(o + 1)) : delete this._listeners[e]) : void 0 } }, n.prototype.dispatchEvent = function() { var e = arguments[0],
            t = e.type,
            n = 1 === arguments.length ? [e] : Array.apply(null, arguments); if (this["on" + t] && this["on" + t].apply(this, n), t in this._listeners)
            for (var o = this._listeners[t], i = 0; i < o.length; i++) o[i].apply(this, n) }, e.exports = n }, function(e, t) {
    (function(t) { "use strict"; var n = t.WebSocket || t.MozWebSocket;
        e.exports = n ? function(e) { return new n(e) } : void 0 }).call(t, function() { return this }()) }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e) { if (!c.enabled && !a.enabled) throw new Error("Transport created when disabled");
            r.call(this, e, "/xhr_streaming", s, a) } var i = n(58),
            r = n(63),
            s = n(67),
            a = n(68),
            c = n(70),
            l = n(71);
        i(o, r), o.enabled = function(e) { return !e.nullOrigin && !l.isOpera() && a.enabled }, o.transportName = "xhr-streaming", o.roundTrips = 2, o.needBody = !!t.document, e.exports = o }).call(t, function() { return this }()) }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e, t, n, o) { s.call(this, e, t, function(e) { return function(t, n, o) { a("create ajax sender", t, n); var i = {}; "string" == typeof n && (i.headers = { "Content-type": "text/plain" }); var s = r.addPath(t, "/xhr_send"),
                        c = new e("POST", s, n, i); return c.once("finish", (function(e) { return a("finish", e), c = null, 200 !== e && 204 !== e ? o(new Error("http status " + e)) : void o() })),
                        function() { a("abort"), c.close(), c = null; var e = new Error("Aborted");
                            e.code = 1e3, o(e) } } }(o), n, o) } var i = n(58),
            r = n(51),
            s = n(64),
            a = function() {}; "production" !== t.env.NODE_ENV && (a = n(55)("sockjs-client:ajax-based")), i(o, s), e.exports = o }).call(t, n(47)) }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e, t, n, o, i) { var l = r.addPath(e, t);
            c(l); var u = this;
            s.call(this, e, n), this.poll = new a(o, l, i), this.poll.on("message", (function(e) { c("poll message", e), u.emit("message", e) })), this.poll.once("close", (function(e, t) { c("poll close", e, t), u.poll = null, u.emit("close", e, t), u.close() })) } var i = n(58),
            r = n(51),
            s = n(65),
            a = n(66),
            c = function() {}; "production" !== t.env.NODE_ENV && (c = n(55)("sockjs-client:sender-receiver")), i(o, s), o.prototype.close = function() { s.prototype.close.call(this), c("close"), this.removeAllListeners(), this.poll && (this.poll.abort(), this.poll = null) }, e.exports = o }).call(t, n(47)) }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e, t) { s(e), r.call(this), this.sendBuffer = [], this.sender = t, this.url = e } var i = n(58),
            r = n(59).EventEmitter,
            s = function() {}; "production" !== t.env.NODE_ENV && (s = n(55)("sockjs-client:buffered-sender")), i(o, r), o.prototype.send = function(e) { s("send", e), this.sendBuffer.push(e), this.sendStop || this.sendSchedule() }, o.prototype.sendScheduleWait = function() { s("sendScheduleWait"); var e, t = this;
            this.sendStop = function() { s("sendStop"), t.sendStop = null, clearTimeout(e) }, e = setTimeout((function() { s("timeout"), t.sendStop = null, t.sendSchedule() }), 25) }, o.prototype.sendSchedule = function() { s("sendSchedule", this.sendBuffer.length); var e = this; if (this.sendBuffer.length > 0) { var t = "[" + this.sendBuffer.join(",") + "]";
                this.sendStop = this.sender(this.url, t, (function(t) { e.sendStop = null, t ? (s("error", t), e.emit("close", t.code || 1006, "Sending error: " + t), e.close()) : e.sendScheduleWait() })), this.sendBuffer = [] } }, o.prototype._cleanup = function() { s("_cleanup"), this.removeAllListeners() }, o.prototype.close = function() { s("close"), this._cleanup(), this.sendStop && (this.sendStop(), this.sendStop = null) }, e.exports = o }).call(t, n(47)) }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e, t, n) { s(t), r.call(this), this.Receiver = e, this.receiveUrl = t, this.AjaxObject = n, this._scheduleReceiver() } var i = n(58),
            r = n(59).EventEmitter,
            s = function() {}; "production" !== t.env.NODE_ENV && (s = n(55)("sockjs-client:polling")), i(o, r), o.prototype._scheduleReceiver = function() { s("_scheduleReceiver"); var e = this,
                t = this.poll = new this.Receiver(this.receiveUrl, this.AjaxObject);
            t.on("message", (function(t) { s("message", t), e.emit("message", t) })), t.once("close", (function(n, o) { s("close", n, o, e.pollIsClosing), e.poll = t = null, e.pollIsClosing || ("network" === o ? e._scheduleReceiver() : (e.emit("close", n || 1006, o), e.removeAllListeners())) })) }, o.prototype.abort = function() { s("abort"), this.removeAllListeners(), this.pollIsClosing = !0, this.poll && this.poll.abort() }, e.exports = o }).call(t, n(47)) }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e, t) { s(e), r.call(this); var n = this;
            this.bufferPosition = 0, this.xo = new t("POST", e, null), this.xo.on("chunk", this._chunkHandler.bind(this)), this.xo.once("finish", (function(e, t) { s("finish", e, t), n._chunkHandler(e, t), n.xo = null; var o = 200 === e ? "network" : "permanent";
                s("close", o), n.emit("close", null, o), n._cleanup() })) } var i = n(58),
            r = n(59).EventEmitter,
            s = function() {}; "production" !== t.env.NODE_ENV && (s = n(55)("sockjs-client:receiver:xhr")), i(o, r), o.prototype._chunkHandler = function(e, t) { if (s("_chunkHandler", e), 200 === e && t)
                for (var n = -1;; this.bufferPosition += n + 1) { var o = t.slice(this.bufferPosition); if (-1 === (n = o.indexOf("\n"))) break; var i = o.slice(0, n);
                    i && (s("message", i), this.emit("message", i)) } }, o.prototype._cleanup = function() { s("_cleanup"), this.removeAllListeners() }, o.prototype.abort = function() { s("abort"), this.xo && (this.xo.close(), s("close"), this.emit("close", null, "user"), this.xo = null), this._cleanup() }, e.exports = o }).call(t, n(47)) }, function(e, t, n) { "use strict";

    function o(e, t, n, o) { r.call(this, e, t, n, o) } var i = n(58),
        r = n(69);
    i(o, r), o.enabled = r.enabled && r.supportsCORS, e.exports = o }, function(e, t, n) {
    (function(t, o) { "use strict";

        function i(e, t, n, o) { u(e, t); var i = this;
            r.call(this), setTimeout((function() { i._start(e, t, n, o) }), 0) } var r = n(59).EventEmitter,
            s = n(58),
            a = n(48),
            c = n(51),
            l = t.XMLHttpRequest,
            u = function() {}; "production" !== o.env.NODE_ENV && (u = n(55)("sockjs-client:browser:xhr")), s(i, r), i.prototype._start = function(e, t, n, o) { var r = this; try { this.xhr = new l } catch (e) {} if (!this.xhr) return u("no xhr"), this.emit("finish", 0, "no xhr support"), void this._cleanup();
            t = c.addQuery(t, "t=" + +new Date), this.unloadRef = a.unloadAdd((function() { u("unload cleanup"), r._cleanup(!0) })); try { this.xhr.open(e, t, !0), this.timeout && "timeout" in this.xhr && (this.xhr.timeout = this.timeout, this.xhr.ontimeout = function() { u("xhr timeout"), r.emit("finish", 0, ""), r._cleanup(!1) }) } catch (e) { return u("exception", e), this.emit("finish", 0, ""), void this._cleanup(!1) } if (o && o.noCredentials || !i.supportsCORS || (u("withCredentials"), this.xhr.withCredentials = "true"), o && o.headers)
                for (var s in o.headers) this.xhr.setRequestHeader(s, o.headers[s]);
            this.xhr.onreadystatechange = function() { if (r.xhr) { var e, t, n = r.xhr; switch (u("readyState", n.readyState), n.readyState) {
                        case 3:
                            try { t = n.status, e = n.responseText } catch (e) {}
                            u("status", t), 1223 === t && (t = 204), 200 === t && e && e.length > 0 && (u("chunk"), r.emit("chunk", t, e)); break;
                        case 4:
                            t = n.status, u("status", t), 1223 === t && (t = 204), 12005 !== t && 12029 !== t || (t = 0), u("finish", t, n.responseText), r.emit("finish", t, n.responseText), r._cleanup(!1) } } }; try { r.xhr.send(n) } catch (e) { r.emit("finish", 0, ""), r._cleanup(!1) } }, i.prototype._cleanup = function(e) { if (u("cleanup"), this.xhr) { if (this.removeAllListeners(), a.unloadDel(this.unloadRef), this.xhr.onreadystatechange = function() {}, this.xhr.ontimeout && (this.xhr.ontimeout = null), e) try { this.xhr.abort() } catch (e) {}
                this.unloadRef = this.xhr = null } }, i.prototype.close = function() { u("close"), this._cleanup(!0) }, i.enabled = !!l; var d = ["Active"].concat("Object").join("X");!i.enabled && d in t && (u("overriding xmlhttprequest"), l = function() { try { return new t[d]("Microsoft.XMLHTTP") } catch (e) { return null } }, i.enabled = !!new l); var p = !1; try { p = "withCredentials" in new l } catch (e) {}
        i.supportsCORS = p, e.exports = i }).call(t, function() { return this }(), n(47)) }, function(e, t, n) { "use strict";

    function o(e, t, n) { r.call(this, e, t, n, { noCredentials: !0 }) } var i = n(58),
        r = n(69);
    i(o, r), o.enabled = r.enabled, e.exports = o }, function(e, t) {
    (function(t) { "use strict";
        e.exports = { isOpera: function() { return t.navigator && /opera/i.test(t.navigator.userAgent) }, isKonqueror: function() { return t.navigator && /konqueror/i.test(t.navigator.userAgent) }, hasDomain: function() { if (!t.document) return !0; try { return !!t.document.domain } catch (e) { return !1 } } } }).call(t, function() { return this }()) }, function(e, t, n) { "use strict";

    function o(e) { if (!a.enabled) throw new Error("Transport created when disabled");
        r.call(this, e, "/xhr_streaming", s, a) } var i = n(58),
        r = n(63),
        s = n(67),
        a = n(73);
    i(o, r), o.enabled = function(e) { return !e.cookie_needed && !e.nullOrigin && a.enabled && e.sameScheme }, o.transportName = "xdr-streaming", o.roundTrips = 2, e.exports = o }, function(e, t, n) {
    (function(t, o) { "use strict";

        function i(e, t, n) { u(e, t); var o = this;
            r.call(this), setTimeout((function() { o._start(e, t, n) }), 0) } var r = n(59).EventEmitter,
            s = n(58),
            a = n(48),
            c = n(71),
            l = n(51),
            u = function() {}; "production" !== t.env.NODE_ENV && (u = n(55)("sockjs-client:sender:xdr")), s(i, r), i.prototype._start = function(e, t, n) { u("_start"); var i = this,
                r = new o.XDomainRequest;
            t = l.addQuery(t, "t=" + +new Date), r.onerror = function() { u("onerror"), i._error() }, r.ontimeout = function() { u("ontimeout"), i._error() }, r.onprogress = function() { u("progress", r.responseText), i.emit("chunk", 200, r.responseText) }, r.onload = function() { u("load"), i.emit("finish", 200, r.responseText), i._cleanup(!1) }, this.xdr = r, this.unloadRef = a.unloadAdd((function() { i._cleanup(!0) })); try { this.xdr.open(e, t), this.timeout && (this.xdr.timeout = this.timeout), this.xdr.send(n) } catch (e) { this._error() } }, i.prototype._error = function() { this.emit("finish", 0, ""), this._cleanup(!1) }, i.prototype._cleanup = function(e) { if (u("cleanup", e), this.xdr) { if (this.removeAllListeners(), a.unloadDel(this.unloadRef), this.xdr.ontimeout = this.xdr.onerror = this.xdr.onprogress = this.xdr.onload = null, e) try { this.xdr.abort() } catch (e) {}
                this.unloadRef = this.xdr = null } }, i.prototype.close = function() { u("close"), this._cleanup(!0) }, i.enabled = !(!o.XDomainRequest || !c.hasDomain()), e.exports = i }).call(t, n(47), function() { return this }()) }, function(e, t, n) { "use strict";

    function o(e) { if (!o.enabled()) throw new Error("Transport created when disabled");
        r.call(this, e, "/eventsource", s, a) } var i = n(58),
        r = n(63),
        s = n(75),
        a = n(68),
        c = n(76);
    i(o, r), o.enabled = function() { return !!c }, o.transportName = "eventsource", o.roundTrips = 2, e.exports = o }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e) { a(e), r.call(this); var t = this,
                n = this.es = new s(e);
            n.onmessage = function(e) { a("message", e.data), t.emit("message", decodeURI(e.data)) }, n.onerror = function(e) { a("error", n.readyState, e); var o = 2 !== n.readyState ? "network" : "permanent";
                t._cleanup(), t._close(o) } } var i = n(58),
            r = n(59).EventEmitter,
            s = n(76),
            a = function() {}; "production" !== t.env.NODE_ENV && (a = n(55)("sockjs-client:receiver:eventsource")), i(o, r), o.prototype.abort = function() { a("abort"), this._cleanup(), this._close("user") }, o.prototype._cleanup = function() { a("cleanup"); var e = this.es;
            e && (e.onmessage = e.onerror = null, e.close(), this.es = null) }, o.prototype._close = function(e) { a("close", e); var t = this;
            setTimeout((function() { t.emit("close", null, e), t.removeAllListeners() }), 200) }, e.exports = o }).call(t, n(47)) }, function(e, t) {
    (function(t) { e.exports = t.EventSource }).call(t, function() { return this }()) }, function(e, t, n) {
    (function(t) { "use strict"; var o = n(58),
            i = n(78),
            r = n(81);
        e.exports = function(e) {
            function n(t, n) { i.call(this, e.transportName, t, n) } return o(n, i), n.enabled = function(n, o) { if (!t.document) return !1; var s = r.extend({}, o); return s.sameOrigin = !0, e.enabled(s) && i.enabled() }, n.transportName = "iframe-" + e.transportName, n.needBody = !0, n.roundTrips = i.roundTrips + e.roundTrips - 1, n.facadeTransport = e, n } }).call(t, function() { return this }()) }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e, t, n) { if (!o.enabled()) throw new Error("Transport created when disabled");
            s.call(this); var i = this;
            this.origin = c.getOrigin(n), this.baseUrl = n, this.transUrl = t, this.transport = e, this.windowId = d.string(8); var r = c.addPath(n, "/iframe.html") + "#" + this.windowId;
            p(e, t, r), this.iframeObj = l.createIframe(r, (function(e) { p("err callback"), i.emit("close", 1006, "Unable to load an iframe (" + e + ")"), i.close() })), this.onmessageCallback = this._message.bind(this), u.attachEvent("message", this.onmessageCallback) } var i = n(58),
            r = n(41),
            s = n(59).EventEmitter,
            a = n(79),
            c = n(51),
            l = n(80),
            u = n(48),
            d = n(49),
            p = function() {}; "production" !== t.env.NODE_ENV && (p = n(55)("sockjs-client:transport:iframe")), i(o, s), o.prototype.close = function() { if (p("close"), this.removeAllListeners(), this.iframeObj) { u.detachEvent("message", this.onmessageCallback); try { this.postMessage("c") } catch (e) {}
                this.iframeObj.cleanup(), this.iframeObj = null, this.onmessageCallback = this.iframeObj = null } }, o.prototype._message = function(e) { if (p("message", e.data), c.isOriginEqual(e.origin, this.origin)) { var t; try { t = r.parse(e.data) } catch (t) { return void p("bad json", e.data) } if (t.windowId === this.windowId) switch (t.type) {
                    case "s":
                        this.iframeObj.loaded(), this.postMessage("s", r.stringify([a, this.transport, this.transUrl, this.baseUrl])); break;
                    case "t":
                        this.emit("message", t.data); break;
                    case "c":
                        var n; try { n = r.parse(t.data) } catch (e) { return void p("bad json", t.data) }
                        this.emit("close", n[0], n[1]), this.close() } else p("mismatched window id", t.windowId, this.windowId) } else p("not same origin", e.origin, this.origin) }, o.prototype.postMessage = function(e, t) { p("postMessage", e, t), this.iframeObj.post(r.stringify({ windowId: this.windowId, type: e, data: t || "" }), this.origin) }, o.prototype.send = function(e) { p("send", e), this.postMessage("m", e) }, o.enabled = function() { return l.iframeEnabled }, o.transportName = "iframe", o.roundTrips = 2, e.exports = o }).call(t, n(47)) }, function(e, t) { e.exports = "1.1.4" }, function(e, t, n) {
    (function(t, o) { "use strict"; var i = n(48),
            r = n(41),
            s = n(71),
            a = function() {}; "production" !== t.env.NODE_ENV && (a = n(55)("sockjs-client:utils:iframe")), e.exports = { WPrefix: "_jp", currentWindowId: null, polluteGlobalNamespace: function() { e.exports.WPrefix in o || (o[e.exports.WPrefix] = {}) }, postMessage: function(t, n) { o.parent !== o ? o.parent.postMessage(r.stringify({ windowId: e.exports.currentWindowId, type: t, data: n || "" }), "*") : a("Cannot postMessage, no parent window.", t, n) }, createIframe: function(e, t) { var n, r, s = o.document.createElement("iframe"),
                    c = function() { a("unattach"), clearTimeout(n); try { s.onload = null } catch (e) {}
                        s.onerror = null },
                    l = function() { a("cleanup"), s && (c(), setTimeout((function() { s && s.parentNode.removeChild(s), s = null }), 0), i.unloadDel(r)) },
                    u = function(e) { a("onerror", e), s && (l(), t(e)) }; return s.src = e, s.style.display = "none", s.style.position = "absolute", s.onerror = function() { u("onerror") }, s.onload = function() { a("onload"), clearTimeout(n), n = setTimeout((function() { u("onload timeout") }), 2e3) }, o.document.body.appendChild(s), n = setTimeout((function() { u("timeout") }), 15e3), r = i.unloadAdd(l), { post: function(e, t) { a("post", e, t); try { setTimeout((function() { s && s.contentWindow && s.contentWindow.postMessage(e, t) }), 0) } catch (e) {} }, cleanup: l, loaded: c } }, createHtmlfile: function(t, n) { var r, s, c, l = ["Active"].concat("Object").join("X"),
                    u = new o[l]("htmlfile"),
                    d = function() { clearTimeout(r), c.onerror = null },
                    p = function() { u && (d(), i.unloadDel(s), c.parentNode.removeChild(c), c = u = null, CollectGarbage()) },
                    f = function(e) { a("onerror", e), u && (p(), n(e)) };
                u.open(), u.write('<html><script>document.domain="' + o.document.domain + '";<\/script></html>'), u.close(), u.parentWindow[e.exports.WPrefix] = o[e.exports.WPrefix]; var h = u.createElement("div"); return u.body.appendChild(h), c = u.createElement("iframe"), h.appendChild(c), c.src = t, c.onerror = function() { f("onerror") }, r = setTimeout((function() { f("timeout") }), 15e3), s = i.unloadAdd(p), { post: function(e, t) { try { setTimeout((function() { c && c.contentWindow && c.contentWindow.postMessage(e, t) }), 0) } catch (e) {} }, cleanup: p, loaded: d } } }, e.exports.iframeEnabled = !1, o.document && (e.exports.iframeEnabled = ("function" == typeof o.postMessage || "object" == typeof o.postMessage) && !s.isKonqueror()) }).call(t, n(47), function() { return this }()) }, function(e, t) { "use strict";
    e.exports = { isObject: function(e) { var t = typeof e; return "function" === t || "object" === t && !!e }, extend: function(e) { if (!this.isObject(e)) return e; for (var t, n, o = 1, i = arguments.length; o < i; o++)
                for (n in t = arguments[o]) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e } } }, function(e, t, n) { "use strict";

    function o(e) { if (!r.enabled) throw new Error("Transport created when disabled");
        a.call(this, e, "/htmlfile", r, s) } var i = n(58),
        r = n(83),
        s = n(70),
        a = n(63);
    i(o, a), o.enabled = function(e) { return r.enabled && e.sameOrigin }, o.transportName = "htmlfile", o.roundTrips = 2, e.exports = o }, function(e, t, n) {
    (function(t, o) { "use strict";

        function i(e) { u(e), c.call(this); var t = this;
            s.polluteGlobalNamespace(), this.id = "a" + l.string(6), e = a.addQuery(e, "c=" + decodeURIComponent(s.WPrefix + "." + this.id)), u("using htmlfile", i.htmlfileEnabled); var n = i.htmlfileEnabled ? s.createHtmlfile : s.createIframe;
            o[s.WPrefix][this.id] = { start: function() { u("start"), t.iframeObj.loaded() }, message: function(e) { u("message", e), t.emit("message", e) }, stop: function() { u("stop"), t._cleanup(), t._close("network") } }, this.iframeObj = n(e, (function() { u("callback"), t._cleanup(), t._close("permanent") })) } var r = n(58),
            s = n(80),
            a = n(51),
            c = n(59).EventEmitter,
            l = n(49),
            u = function() {}; "production" !== t.env.NODE_ENV && (u = n(55)("sockjs-client:receiver:htmlfile")), r(i, c), i.prototype.abort = function() { u("abort"), this._cleanup(), this._close("user") }, i.prototype._cleanup = function() { u("_cleanup"), this.iframeObj && (this.iframeObj.cleanup(), this.iframeObj = null), delete o[s.WPrefix][this.id] }, i.prototype._close = function(e) { u("_close", e), this.emit("close", null, e), this.removeAllListeners() }, i.htmlfileEnabled = !1; var d = ["Active"].concat("Object").join("X"); if (d in o) try { i.htmlfileEnabled = !!new o[d]("htmlfile") } catch (e) {}
        i.enabled = i.htmlfileEnabled || s.iframeEnabled, e.exports = i }).call(t, n(47), function() { return this }()) }, function(e, t, n) { "use strict";

    function o(e) { if (!c.enabled && !a.enabled) throw new Error("Transport created when disabled");
        r.call(this, e, "/xhr", s, a) } var i = n(58),
        r = n(63),
        s = n(67),
        a = n(68),
        c = n(70);
    i(o, r), o.enabled = function(e) { return !e.nullOrigin && (!(!c.enabled || !e.sameOrigin) || a.enabled) }, o.transportName = "xhr-polling", o.roundTrips = 2, e.exports = o }, function(e, t, n) { "use strict";

    function o(e) { if (!c.enabled) throw new Error("Transport created when disabled");
        r.call(this, e, "/xhr", a, c) } var i = n(58),
        r = n(63),
        s = n(72),
        a = n(67),
        c = n(73);
    i(o, r), o.enabled = s.enabled, o.transportName = "xdr-polling", o.roundTrips = 2, e.exports = o }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e) { if (!o.enabled()) throw new Error("Transport created when disabled");
            r.call(this, e, "/jsonp", a, s) } var i = n(58),
            r = n(64),
            s = n(87),
            a = n(88);
        i(o, r), o.enabled = function() { return !!t.document }, o.transportName = "jsonp-polling", o.roundTrips = 1, o.needBody = !0, e.exports = o }).call(t, function() { return this }()) }, function(e, t, n) {
    (function(t, o) { "use strict";

        function i(e) { d(e); var t = this;
            u.call(this), r.polluteGlobalNamespace(), this.id = "a" + s.string(6); var n = c.addQuery(e, "c=" + encodeURIComponent(r.WPrefix + "." + this.id));
            o[r.WPrefix][this.id] = this._callback.bind(this), this._createScript(n), this.timeoutId = setTimeout((function() { d("timeout"), t._abort(new Error("JSONP script loaded abnormally (timeout)")) }), i.timeout) } var r = n(80),
            s = n(49),
            a = n(71),
            c = n(51),
            l = n(58),
            u = n(59).EventEmitter,
            d = function() {}; "production" !== t.env.NODE_ENV && (d = n(55)("sockjs-client:receiver:jsonp")), l(i, u), i.prototype.abort = function() { if (d("abort"), o[r.WPrefix][this.id]) { var e = new Error("JSONP user aborted read");
                e.code = 1e3, this._abort(e) } }, i.timeout = 35e3, i.scriptErrorTimeout = 1e3, i.prototype._callback = function(e) { d("_callback", e), this._cleanup(), this.aborting || (e && (d("message", e), this.emit("message", e)), this.emit("close", null, "network"), this.removeAllListeners()) }, i.prototype._abort = function(e) { d("_abort", e), this._cleanup(), this.aborting = !0, this.emit("close", e.code, e.message), this.removeAllListeners() }, i.prototype._cleanup = function() { if (d("_cleanup"), clearTimeout(this.timeoutId), this.script2 && (this.script2.parentNode.removeChild(this.script2), this.script2 = null), this.script) { var e = this.script;
                e.parentNode.removeChild(e), e.onreadystatechange = e.onerror = e.onload = e.onclick = null, this.script = null }
            delete o[r.WPrefix][this.id] }, i.prototype._scriptError = function() { d("_scriptError"); var e = this;
            this.errorTimer || (this.errorTimer = setTimeout((function() { e.loadedOkay || e._abort(new Error("JSONP script loaded abnormally (onerror)")) }), i.scriptErrorTimeout)) }, i.prototype._createScript = function(e) { d("_createScript", e); var t, n = this,
                i = this.script = o.document.createElement("script"); if (i.id = "a" + s.string(8), i.src = e, i.type = "text/javascript", i.charset = "UTF-8", i.onerror = this._scriptError.bind(this), i.onload = function() { d("onload"), n._abort(new Error("JSONP script loaded abnormally (onload)")) }, i.onreadystatechange = function() { if (d("onreadystatechange", i.readyState), /loaded|closed/.test(i.readyState)) { if (i && i.htmlFor && i.onclick) { n.loadedOkay = !0; try { i.onclick() } catch (e) {} }
                        i && n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)")) } }, void 0 === i.async && o.document.attachEvent)
                if (a.isOpera())(t = this.script2 = o.document.createElement("script")).text = "try{var a = document.getElementById('" + i.id + "'); if(a)a.onerror();}catch(x){};", i.async = t.async = !1;
                else { try { i.htmlFor = i.id, i.event = "onclick" } catch (e) {}
                    i.async = !0 }
            void 0 !== i.async && (i.async = !0); var r = o.document.getElementsByTagName("head")[0];
            r.insertBefore(i, r.firstChild), t && r.insertBefore(t, r.firstChild) }, e.exports = i }).call(t, n(47), function() { return this }()) }, function(e, t, n) {
    (function(t, o) { "use strict";

        function i(e) { u("createIframe", e); try { return o.document.createElement('<iframe name="' + e + '">') } catch (n) { var t = o.document.createElement("iframe"); return t.name = e, t } }

        function r() { u("createForm"), (s = o.document.createElement("form")).style.display = "none", s.style.position = "absolute", s.method = "POST", s.enctype = "application/x-www-form-urlencoded", s.acceptCharset = "UTF-8", (a = o.document.createElement("textarea")).name = "d", s.appendChild(a), o.document.body.appendChild(s) } var s, a, c = n(49),
            l = n(51),
            u = function() {}; "production" !== t.env.NODE_ENV && (u = n(55)("sockjs-client:sender:jsonp")), e.exports = function(e, t, n) { u(e, t), s || r(); var o = "a" + c.string(8);
            s.target = o, s.action = l.addQuery(l.addPath(e, "/jsonp_send"), "i=" + o); var d = i(o);
            d.id = o, d.style.display = "none", s.appendChild(d); try { a.value = t } catch (e) {}
            s.submit(); var p = function(e) { u("completed", o, e), d.onerror && (d.onreadystatechange = d.onerror = d.onload = null, setTimeout((function() { u("cleaning up", o), d.parentNode.removeChild(d), d = null }), 500), a.value = "", n(e)) }; return d.onerror = function() { u("onerror", o), p() }, d.onload = function() { u("onload", o), p() }, d.onreadystatechange = function(e) { u("onreadystatechange", o, d.readyState, e), "complete" === d.readyState && p() },
                function() { u("aborted", o), p(new Error("Aborted")) } } }).call(t, n(47), function() { return this }()) }, function(e, t, n) {
    (function(t, o) { "use strict";

        function i(e, t, n) { if (!(this instanceof i)) return new i(e, t, n); if (arguments.length < 1) throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");
            b.call(this), this.readyState = i.CONNECTING, this.extensions = "", this.protocol = "", (n = n || {}).protocols_whitelist && _.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."), this._transportsWhitelist = n.transports, this._transportOptions = n.transportOptions || {}; var o = n.sessionId || 8; if ("function" == typeof o) this._generateSessionId = o;
            else { if ("number" != typeof o) throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");
                this._generateSessionId = function() { return u.string(o) } }
            this._server = n.server || u.numberString(1e3); var r = new a(e); if (!r.host || !r.protocol) throw new SyntaxError("The URL '" + e + "' is invalid"); if (r.hash) throw new SyntaxError("The URL must not contain a fragment"); if ("http:" !== r.protocol && "https:" !== r.protocol) throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '" + r.protocol + "' is not allowed."); var s = "https:" === r.protocol; if ("https" === y.protocol && !s) throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");
            t ? Array.isArray(t) || (t = [t]) : t = []; var c = t.sort();
            c.forEach((function(e, t) { if (!e) throw new SyntaxError("The protocols entry '" + e + "' is invalid."); if (t < c.length - 1 && e === c[t + 1]) throw new SyntaxError("The protocols entry '" + e + "' is duplicated.") })); var l = p.getOrigin(y.href);
            this._origin = l ? l.toLowerCase() : null, r.set("pathname", r.pathname.replace(/\/+$/, "")), this.url = r.href, S("using url", this.url), this._urlInfo = { nullOrigin: !g.hasDomain(), sameOrigin: p.isOriginEqual(this.url, y.href), sameScheme: p.isSchemeEqual(this.url, y.href) }, this._ir = new T(this.url, this._urlInfo), this._ir.once("finish", this._receiveInfo.bind(this)) }

        function r(e) { return 1e3 === e || e >= 3e3 && e <= 4999 }
        n(90); var s, a = n(52),
            c = n(58),
            l = n(41),
            u = n(49),
            d = n(91),
            p = n(51),
            f = n(48),
            h = n(92),
            m = n(81),
            g = n(71),
            _ = n(93),
            v = n(94),
            b = n(60),
            y = n(95),
            w = n(96),
            E = n(97),
            T = n(98),
            S = function() {}; "production" !== t.env.NODE_ENV && (S = n(55)("sockjs-client:main")), c(i, b), i.prototype.close = function(e, t) { if (e && !r(e)) throw new Error("InvalidAccessError: Invalid code"); if (t && t.length > 123) throw new SyntaxError("reason argument has an invalid length"); if (this.readyState !== i.CLOSING && this.readyState !== i.CLOSED) { this._close(e || 1e3, t || "Normal closure", !0) } }, i.prototype.send = function(e) { if ("string" != typeof e && (e = "" + e), this.readyState === i.CONNECTING) throw new Error("InvalidStateError: The connection has not been established yet");
            this.readyState === i.OPEN && this._transport.send(d.quote(e)) }, i.version = n(79), i.CONNECTING = 0, i.OPEN = 1, i.CLOSING = 2, i.CLOSED = 3, i.prototype._receiveInfo = function(e, t) { if (S("_receiveInfo", t), this._ir = null, e) { this._rto = this.countRTO(t), this._transUrl = e.base_url ? e.base_url : this.url, e = m.extend(e, this._urlInfo), S("info", e); var n = s.filterToEnabled(this._transportsWhitelist, e);
                this._transports = n.main, S(this._transports.length + " enabled transports"), this._connect() } else this._close(1002, "Cannot connect to server") }, i.prototype._connect = function() { for (var e = this._transports.shift(); e; e = this._transports.shift()) { if (S("attempt", e.transportName), e.needBody && (!o.document.body || void 0 !== o.document.readyState && "complete" !== o.document.readyState && "interactive" !== o.document.readyState)) return S("waiting for body"), this._transports.unshift(e), void f.attachEvent("load", this._connect.bind(this)); var t = this._rto * e.roundTrips || 5e3;
                this._transportTimeoutId = setTimeout(this._transportTimeout.bind(this), t), S("using timeout", t); var n = p.addPath(this._transUrl, "/" + this._server + "/" + this._generateSessionId()),
                    i = this._transportOptions[e.transportName];
                S("transport url", n); var r = new e(n, this._transUrl, i); return r.on("message", this._transportMessage.bind(this)), r.once("close", this._transportClose.bind(this)), r.transportName = e.transportName, void(this._transport = r) }
            this._close(2e3, "All transports failed", !1) }, i.prototype._transportTimeout = function() { S("_transportTimeout"), this.readyState === i.CONNECTING && this._transportClose(2007, "Transport timed out") }, i.prototype._transportMessage = function(e) { S("_transportMessage", e); var t, n = this,
                o = e.slice(0, 1),
                i = e.slice(1); switch (o) {
                case "o":
                    return void this._open();
                case "h":
                    return this.dispatchEvent(new v("heartbeat")), void S("heartbeat", this.transport) } if (i) try { t = l.parse(i) } catch (e) { S("bad json", i) }
            if (void 0 !== t) switch (o) {
                case "a":
                    Array.isArray(t) && t.forEach((function(e) { S("message", n.transport, e), n.dispatchEvent(new E(e)) })); break;
                case "m":
                    S("message", this.transport, t), this.dispatchEvent(new E(t)); break;
                case "c":
                    Array.isArray(t) && 2 === t.length && this._close(t[0], t[1], !0) } else S("empty payload", i) }, i.prototype._transportClose = function(e, t) { return S("_transportClose", this.transport, e, t), this._transport && (this._transport.removeAllListeners(), this._transport = null, this.transport = null), r(e) || 2e3 === e || this.readyState !== i.CONNECTING ? void this._close(e, t) : void this._connect() }, i.prototype._open = function() { S("_open", this._transport.transportName, this.readyState), this.readyState === i.CONNECTING ? (this._transportTimeoutId && (clearTimeout(this._transportTimeoutId), this._transportTimeoutId = null), this.readyState = i.OPEN, this.transport = this._transport.transportName, this.dispatchEvent(new v("open")), S("connected", this.transport)) : this._close(1006, "Server lost session") }, i.prototype._close = function(e, t, n) { S("_close", this.transport, e, t, n, this.readyState); var o = !1; if (this._ir && (o = !0, this._ir.close(), this._ir = null), this._transport && (this._transport.close(), this._transport = null, this.transport = null), this.readyState === i.CLOSED) throw new Error("InvalidStateError: SockJS has already been closed");
            this.readyState = i.CLOSING, setTimeout(function() { this.readyState = i.CLOSED, o && this.dispatchEvent(new v("error")); var r = new w("close");
                r.wasClean = n || !1, r.code = e || 1e3, r.reason = t, this.dispatchEvent(r), this.onmessage = this.onclose = this.onerror = null, S("disconnected") }.bind(this), 0) }, i.prototype.countRTO = function(e) { return e > 100 ? 4 * e : 300 + e }, e.exports = function(e) { return s = h(e), n(103)(i, e), i } }).call(t, n(47), function() { return this }()) }, function(e, t) { "use strict";

    function n(e) { var t = +e; return t != t ? t = 0 : 0 !== t && t !== 1 / 0 && t !== -1 / 0 && (t = (t > 0 || -1) * Math.floor(Math.abs(t))), t }

    function o() {} var i, r = Array.prototype,
        s = Object.prototype,
        a = Function.prototype,
        c = String.prototype,
        l = r.slice,
        u = s.toString,
        d = function(e) { return "[object Function]" === s.toString.call(e) },
        p = function(e) { return "[object String]" === u.call(e) },
        f = Object.defineProperty && function() { try { return Object.defineProperty({}, "x", {}), !0 } catch (e) { return !1 } }();
    i = f ? function(e, t, n, o) {!o && t in e || Object.defineProperty(e, t, { configurable: !0, enumerable: !1, writable: !0, value: n }) } : function(e, t, n, o) {!o && t in e || (e[t] = n) }; var h = function(e, t, n) { for (var o in t) s.hasOwnProperty.call(t, o) && i(e, o, t[o], n) },
        m = function(e) { if (null == e) throw new TypeError("can't convert " + e + " to object"); return Object(e) };
    h(a, { bind: function(e) { var t = this; if (!d(t)) throw new TypeError("Function.prototype.bind called on incompatible " + t); for (var n = l.call(arguments, 1), i = function() { if (this instanceof c) { var o = t.apply(this, n.concat(l.call(arguments))); return Object(o) === o ? o : this } return t.apply(e, n.concat(l.call(arguments))) }, r = Math.max(0, t.length - n.length), s = [], a = 0; a < r; a++) s.push("$" + a); var c = Function("binder", "return function (" + s.join(",") + "){ return binder.apply(this, arguments); }")(i); return t.prototype && (o.prototype = t.prototype, c.prototype = new o, o.prototype = null), c } }), h(Array, { isArray: function(e) { return "[object Array]" === u.call(e) } }); var g = Object("a"),
        _ = "a" !== g[0] || !(0 in g);
    h(r, { forEach: function(e) { var t = m(this),
                n = _ && p(this) ? this.split("") : t,
                o = arguments[1],
                i = -1,
                r = n.length >>> 0; if (!d(e)) throw new TypeError; for (; ++i < r;) i in n && e.call(o, n[i], i, t) } }, ! function(e) { var t = !0,
            n = !0; return e && (e.call("foo", (function(e, n, o) { "object" != typeof o && (t = !1) })), e.call([1], (function() { n = "string" == typeof this }), "x")), !!e && t && n }(r.forEach)); var v = Array.prototype.indexOf && -1 !== [0, 1].indexOf(1, 2);
    h(r, { indexOf: function(e) { var t = _ && p(this) ? this.split("") : m(this),
                o = t.length >>> 0; if (!o) return -1; var i = 0; for (arguments.length > 1 && (i = n(arguments[1])), i = i >= 0 ? i : Math.max(0, o + i); i < o; i++)
                if (i in t && t[i] === e) return i;
            return -1 } }, v); var b = c.split;
    2 !== "ab".split(/(?:ab)*/).length || 4 !== ".".split(/(.?)(.?)/).length || "t" === "tesst".split(/(s)*/)[1] || 4 !== "test".split(/(?:)/, -1).length || "".split(/.?/).length || ".".split(/()()/).length > 1 ? function() { var e = void 0 === /()??/.exec("")[1];
        c.split = function(t, n) { var o = this; if (void 0 === t && 0 === n) return []; if ("[object RegExp]" !== u.call(t)) return b.call(this, t, n); var i, s, a, c, l = [],
                d = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.extended ? "x" : "") + (t.sticky ? "y" : ""),
                p = 0; for (t = new RegExp(t.source, d + "g"), o += "", e || (i = new RegExp("^" + t.source + "$(?!\\s)", d)), n = void 0 === n ? -1 >>> 0 : function(e) { return e >>> 0 }(n);
                (s = t.exec(o)) && !((a = s.index + s[0].length) > p && (l.push(o.slice(p, s.index)), !e && s.length > 1 && s[0].replace(i, (function() { for (var e = 1; e < arguments.length - 2; e++) void 0 === arguments[e] && (s[e] = void 0) })), s.length > 1 && s.index < o.length && r.push.apply(l, s.slice(1)), c = s[0].length, p = a, l.length >= n));) t.lastIndex === s.index && t.lastIndex++; return p === o.length ? !c && t.test("") || l.push("") : l.push(o.slice(p)), l.length > n ? l.slice(0, n) : l } }() : "0".split(void 0, 0).length && (c.split = function(e, t) { return void 0 === e && 0 === t ? [] : b.call(this, e, t) }); var y = c.substr,
        w = "".substr && "b" !== "0b".substr(-1);
    h(c, { substr: function(e, t) { return y.call(this, e < 0 && (e = this.length + e) < 0 ? 0 : e, t) } }, w) }, function(e, t, n) { "use strict"; var o, i = n(41),
        r = /[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;
    e.exports = { quote: function(e) { var t = i.stringify(e); return r.lastIndex = 0, r.test(t) ? (o || (o = function(e) { var t, n = {},
                    o = []; for (t = 0; t < 65536; t++) o.push(String.fromCharCode(t)); return e.lastIndex = 0, o.join("").replace(e, (function(e) { return n[e] = "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4), "" })), e.lastIndex = 0, n }(r)), t.replace(r, (function(e) { return o[e] }))) : t } } }, function(e, t, n) {
    (function(t) { "use strict"; var o = function() {}; "production" !== t.env.NODE_ENV && (o = n(55)("sockjs-client:utils:transport")), e.exports = function(e) { return { filterToEnabled: function(t, n) { var i = { main: [], facade: [] }; return t ? "string" == typeof t && (t = [t]) : t = [], e.forEach((function(e) { if (e) return "websocket" === e.transportName && !1 === n.websocket ? void o("disabled from server", "websocket") : t.length && -1 === t.indexOf(e.transportName) ? void o("not in whitelist", e.transportName) : void(e.enabled(n) ? (o("enabled", e.transportName), i.main.push(e), e.facadeTransport && i.facade.push(e.facadeTransport)) : o("disabled", e.transportName)) })), i } } } }).call(t, n(47)) }, function(e, t) {
    (function(t) { "use strict"; var n = {};
        ["log", "debug", "warn"].forEach((function(e) { var o; try { o = t.console && t.console[e] && t.console[e].apply } catch (e) {}
            n[e] = o ? function() { return t.console[e].apply(t.console, arguments) } : "log" === e ? function() {} : n.log })), e.exports = n }).call(t, function() { return this }()) }, function(e, t) { "use strict";

    function n(e) { this.type = e }
    n.prototype.initEvent = function(e, t, n) { return this.type = e, this.bubbles = t, this.cancelable = n, this.timeStamp = +new Date, this }, n.prototype.stopPropagation = function() {}, n.prototype.preventDefault = function() {}, n.CAPTURING_PHASE = 1, n.AT_TARGET = 2, n.BUBBLING_PHASE = 3, e.exports = n }, function(e, t) {
    (function(t) { "use strict";
        e.exports = t.location || { origin: "http://localhost:80", protocol: "http", host: "localhost", port: 80, href: "http://localhost/", hash: "" } }).call(t, function() { return this }()) }, function(e, t, n) { "use strict";

    function o() { r.call(this), this.initEvent("close", !1, !1), this.wasClean = !1, this.code = 0, this.reason = "" } var i = n(58),
        r = n(94);
    i(o, r), e.exports = o }, function(e, t, n) { "use strict";

    function o(e) { r.call(this), this.initEvent("message", !1, !1), this.data = e } var i = n(58),
        r = n(94);
    i(o, r), e.exports = o }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e, t) { f(e); var n = this;
            i.call(this), setTimeout((function() { n.doXhr(e, t) }), 0) } var i = n(59).EventEmitter,
            r = n(58),
            s = n(51),
            a = n(73),
            c = n(68),
            l = n(70),
            u = n(99),
            d = n(100),
            p = n(102),
            f = function() {}; "production" !== t.env.NODE_ENV && (f = n(55)("sockjs-client:info-receiver")), r(o, i), o._getReceiver = function(e, t, n) { return n.sameOrigin ? new p(t, l) : c.enabled ? new p(t, c) : a.enabled && n.sameScheme ? new p(t, a) : d.enabled() ? new d(e, t) : new p(t, u) }, o.prototype.doXhr = function(e, t) { var n = this,
                i = s.addPath(e, "/info");
            f("doXhr", i), this.xo = o._getReceiver(e, i, t), this.timeoutRef = setTimeout((function() { f("timeout"), n._cleanup(!1), n.emit("finish") }), o.timeout), this.xo.once("finish", (function(e, t) { f("finish", e, t), n._cleanup(!0), n.emit("finish", e, t) })) }, o.prototype._cleanup = function(e) { f("_cleanup"), clearTimeout(this.timeoutRef), this.timeoutRef = null, !e && this.xo && this.xo.close(), this.xo = null }, o.prototype.close = function() { f("close"), this.removeAllListeners(), this._cleanup(!1) }, o.timeout = 8e3, e.exports = o }).call(t, n(47)) }, function(e, t, n) { "use strict";

    function o() { var e = this;
        i.call(this), this.to = setTimeout((function() { e.emit("finish", 200, "{}") }), o.timeout) } var i = n(59).EventEmitter;
    n(58)(o, i), o.prototype.close = function() { clearTimeout(this.to) }, o.timeout = 2e3, e.exports = o }, function(e, t, n) {
    (function(t, o) { "use strict";

        function i(e, t) { var n = this;
            r.call(this); var i = function() { var o = n.ifr = new l(u.transportName, t, e);
                o.once("message", (function(e) { if (e) { var t; try { t = a.parse(e) } catch (t) { return d("bad json", e), n.emit("finish"), void n.close() } var o = t[0],
                            i = t[1];
                        n.emit("finish", o, i) }
                    n.close() })), o.once("close", (function() { n.emit("finish"), n.close() })) };
            o.document.body ? i() : c.attachEvent("load", i) } var r = n(59).EventEmitter,
            s = n(58),
            a = n(41),
            c = n(48),
            l = n(78),
            u = n(101),
            d = function() {}; "production" !== t.env.NODE_ENV && (d = n(55)("sockjs-client:info-iframe")), s(i, r), i.enabled = function() { return l.enabled() }, i.prototype.close = function() { this.ifr && this.ifr.close(), this.removeAllListeners(), this.ifr = null }, e.exports = i }).call(t, n(47), function() { return this }()) }, function(e, t, n) { "use strict";

    function o(e) { var t = this;
        r.call(this), this.ir = new c(e, a), this.ir.once("finish", (function(e, n) { t.ir = null, t.emit("message", s.stringify([e, n])) })) } var i = n(58),
        r = n(59).EventEmitter,
        s = n(41),
        a = n(70),
        c = n(102);
    i(o, r), o.transportName = "iframe-info-receiver", o.prototype.close = function() { this.ir && (this.ir.close(), this.ir = null), this.removeAllListeners() }, e.exports = o }, function(e, t, n) {
    (function(t) { "use strict";

        function o(e, t) { i.call(this); var n = this,
                o = +new Date;
            this.xo = new t("GET", e), this.xo.once("finish", (function(e, t) { var i, r; if (200 === e) { if (r = +new Date - o, t) try { i = s.parse(t) } catch (e) { c("bad json", t) }
                    a.isObject(i) || (i = {}) }
                n.emit("finish", i, r), n.removeAllListeners() })) } var i = n(59).EventEmitter,
            r = n(58),
            s = n(41),
            a = n(81),
            c = function() {}; "production" !== t.env.NODE_ENV && (c = n(55)("sockjs-client:info-ajax")), r(o, i), o.prototype.close = function() { this.removeAllListeners(), this.xo.close() }, e.exports = o }).call(t, n(47)) }, function(e, t, n) {
    (function(t) { "use strict"; var o = n(51),
            i = n(48),
            r = n(41),
            s = n(104),
            a = n(101),
            c = n(80),
            l = n(95),
            u = function() {}; "production" !== t.env.NODE_ENV && (u = n(55)("sockjs-client:iframe-bootstrap")), e.exports = function(e, t) { var n, d = {};
            t.forEach((function(e) { e.facadeTransport && (d[e.facadeTransport.transportName] = e.facadeTransport) })), d[a.transportName] = a, e.bootstrap_iframe = function() { var t;
                c.currentWindowId = l.hash.slice(1);
                i.attachEvent("message", (function(i) { if (i.source === parent && (void 0 === n && (n = i.origin), i.origin === n)) { var a; try { a = r.parse(i.data) } catch (e) { return void u("bad json", i.data) } if (a.windowId === c.currentWindowId) switch (a.type) {
                            case "s":
                                var p; try { p = r.parse(a.data) } catch (e) { u("bad json", a.data); break } var f = p[0],
                                    h = p[1],
                                    m = p[2],
                                    g = p[3]; if (u(f, h, m, g), f !== e.version) throw new Error('Incompatible SockJS! Main site uses: "' + f + '", the iframe: "' + e.version + '".'); if (!o.isOriginEqual(m, l.href) || !o.isOriginEqual(g, l.href)) throw new Error("Can't connect to different domain from within an iframe. (" + l.href + ", " + m + ", " + g + ")");
                                t = new s(new d[h](m, g)); break;
                            case "m":
                                t._send(a.data); break;
                            case "c":
                                t && t._close(), t = null } } })), c.postMessage("s") } } }).call(t, n(47)) }, function(e, t, n) { "use strict";

    function o(e) { this._transport = e, e.on("message", this._transportMessage.bind(this)), e.on("close", this._transportClose.bind(this)) } var i = n(41),
        r = n(80);
    o.prototype._transportClose = function(e, t) { r.postMessage("c", i.stringify([e, t])) }, o.prototype._transportMessage = function(e) { r.postMessage("t", e) }, o.prototype._send = function(e) { this._transport.send(e) }, o.prototype._close = function() { this._transport.close(), this._transport.removeAllListeners() }, e.exports = o }, function(e, t) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }),
        function(e) {! function(e) { e.MOBILE = "mobile", e.TABLET = "tablet", e.DESKTOP = "desktop" }(e.DevicesEnum || (e.DevicesEnum = {})),
            function(e) { e.TIME_IN_SEGMENT = "time_in_segment", e.BUTTON_CLICK = "button_click", e.LEAVING_SITE = "leaving_the_site" }(e.LogicEventsEnum || (e.LogicEventsEnum = {})),
            function(e) { e.TIMER_TICK = "timer_tick", e.BUTTON_CLICK = "button_click", e.LEAVING_SITE = "leaving_the_site", e.ON_DEMAND = "on_demand" }(e.ScenarioSignificantEventsEnum || (e.ScenarioSignificantEventsEnum = {})) }(t.LeadgenNS || (t.LeadgenNS = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5),
        i = n(107);! function(e) { var t = {};
        e.createClient = function(e, n, o) { var r = n + "_" + o; if (!(r in t)) { var s = new i.default;
                s.init({ apiHost: e, omniAccountId: n, comagicVisitorId: o }), t[r] = s } return t[r] }, e.makeOmniMessageFromApi = function(e) { var t = { id: 0, text: "", operatorId: null, visitorId: null, createdDt: null, context: {}, status: { messageId: 0, participants: [] }, resource: null }; if ("id" in e && (t.id = e.id), "text" in e && e.text && (t.text = e.text), "operator_id" in e && (t.operatorId = e.operator_id), "visitor_id" in e && (t.visitorId = e.visitor_id), "created_dt" in e && (t.createdDt = o.util.isSafari ? new Date(e.created_dt.replace(/\s/g, "T")) : t.createdDt = new Date(e.created_dt)), "context" in e && e.context && (t.context = e.context), "status" in e && e.status && ("message_id" in e.status && (t.status.messageId = e.status.message_id), "participants" in e.status && Array.isArray(e.status.participants) && e.status.participants.length > 0))
                for (var n in e.status.participants) "status" in e.status.participants[n] && ("operator_id" in e.status.participants[n] && e.status.participants[n].operator_id ? t.status.participants.push({ status: e.status.participants[n].status, operatorId: e.status.participants[n].operator_id }) : "visitor_id" in e.status.participants[n] && e.status.participants[n].visitor_id ? t.status.participants.push({ status: e.status.participants[n].status, visitorId: e.status.participants[n].visitor_id }) : "operator_id" in e.status.participants[n] && null === e.status.participants[n].operator_id && t.status.participants.push({ status: e.status.participants[n].status, operatorId: 0 })); return "resource" in e && e.resource && (t.resource = e.resource), t }, e.makeOmniStatusUpdated = function(e) { var t = { status: "", operatorId: null, visitorId: null, messageId: 0 }; return "message_id" in e && (t.messageId = e.message_id), "visitor_id" in e && (t.visitorId = e.visitor_id), "operator_id" in e && (t.operatorId = e.operator_id), "status" in e && (t.status = e.status), t } }(t.OmniFactory || (t.OmniFactory = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(108),
        i = n(5),
        r = n(106),
        s = n(14);
    t.ACTION_CHAT_HISTORY = "chat.history", t.ACTION_MESSAGE_CREATE = "message.create", t.ACTION_AUTO_MESSAGE_CREATE = "message.auto.create", t.EVENT_MESSAGE_CREATED = "message.created", t.EVENT_MESSAGE_UPDATED = "message.updated", t.EVENT_MESSAGE_DELETED = "message.deleted", t.EVENT_MESSAGE_STATUS_UPDATED = "message.status.updated"; var a = function() {
        function e() { var e;
            this.eventSubscribers = ((e = {})[t.EVENT_MESSAGE_STATUS_UPDATED] = null, e[t.EVENT_MESSAGE_CREATED] = null, e[t.EVENT_MESSAGE_UPDATED] = null, e[t.EVENT_MESSAGE_DELETED] = null, e[t.ACTION_CHAT_HISTORY] = null, e[t.ACTION_MESSAGE_CREATE] = null, e), this.callbacks = {}, this.socket = new o.SocketWrapper(this.handleWSResponseMessage.bind(this), this.handleWSEventMessage.bind(this)) } return e.prototype.init = function(e) { this.connectionParams = e, this.socket.connect("wss://" + e.apiHost + "/" + e.omniAccountId + "/" + e.comagicVisitorId) }, e.prototype.loadChatHistory = function(e, n) { var o = {};
            e && (o.limit = e), n && (o.id = n), 0 === Object.keys(o).length && (o = null); var i = this.makeOmniRequest("chat.history", o);
            this.callbacks[i.id] = function(e) { if (this.eventSubscribers[t.ACTION_CHAT_HISTORY]) { var n = []; if (Array.isArray(e.result))
                        for (var o in e.result) n.push(r.OmniFactory.makeOmniMessageFromApi(e.result[o]));
                    this.eventSubscribers[t.ACTION_CHAT_HISTORY](n) } }.bind(this), this.socket.send(i) }, e.prototype.sendAutoMessage = function(e, n, o, i) { this.__sendMessage(t.ACTION_AUTO_MESSAGE_CREATE, e, n, o, i) }, e.prototype.sendMessage = function(e, n, o, i) { this.__sendMessage(t.ACTION_MESSAGE_CREATE, e, n, o, i) }, e.prototype.subscribe = function(e, t) { return e in this.eventSubscribers && (this.eventSubscribers[e] = t), this }, e.prototype.unsubscribe = function(e) { return e in this.eventSubscribers && (this.eventSubscribers[e] = null), this }, e.prototype.checkFileForTransfer = function(e) { if (e.size > 31457280) throw new Error("File too big") }, e.prototype.makeResourceDownloadLink = function(e) { return "https://" + this.connectionParams.apiHost + "/" + this.connectionParams.omniAccountId + "/" + this.connectionParams.comagicVisitorId + "/resource?id=" + e }, e.prototype.updateMessageStatus = function(e, t) { this.socket.send(this.makeOmniRequest("message.status.update", { message_id: e, status: t })) }, e.prototype.__sendMessage = function(e, t, n, o, r) { if (n) { var a = new FormData; switch (a.append("file", n), a.append("mime", n.type), !0) {
                    case /^$/.test(n.type):
                        return r(":   .");
                    case /^image\/.*/.test(n.type):
                        a.append("type", "photo"); break;
                    case /^video\/.*/.test(n.type):
                        a.append("type", "video"); break;
                    case /^audio\/.*/.test(n.type):
                        a.append("type", "audio"); break;
                    default:
                        a.append("type", "document") } var c = this;
                s.ajax("https://" + this.connectionParams.apiHost + "/" + this.connectionParams.omniAccountId + "/" + this.connectionParams.comagicVisitorId + "/resource", { method: "POST", data: a, headers: {}, complete: function(n) { n = JSON.parse(n.response), c.socket.send(c.makeOmniRequest(e, { reply_id: null, text: t, context: o || {}, resource_id: n.id })) }.bind(c), error: function(e) { i.util.log("[Omni client]", "File upload error", e.responseText), r && r(" " + e.status + ":    .") } }) } else this.socket.send(this.makeOmniRequest(e, { reply_id: null, text: t, context: o || {} })) }, e.prototype.handleWSResponseMessage = function(e) { e.error || e.result && e.id in this.callbacks && (this.callbacks[e.id](e), delete this.callbacks[e.id]) }, e.prototype.handleWSEventMessage = function(e) { switch (e.method) {
                case t.EVENT_MESSAGE_STATUS_UPDATED:
                    this.eventSubscribers[t.EVENT_MESSAGE_STATUS_UPDATED] && this.eventSubscribers[t.EVENT_MESSAGE_STATUS_UPDATED](r.OmniFactory.makeOmniStatusUpdated(e.params)); break;
                case t.EVENT_MESSAGE_CREATED:
                    this.eventSubscribers[t.EVENT_MESSAGE_CREATED] && this.eventSubscribers[t.EVENT_MESSAGE_CREATED](r.OmniFactory.makeOmniMessageFromApi(e.params)); break;
                case t.EVENT_MESSAGE_UPDATED:
                    this.eventSubscribers[t.EVENT_MESSAGE_UPDATED] && this.eventSubscribers[t.EVENT_MESSAGE_UPDATED](r.OmniFactory.makeOmniMessageFromApi(e.params)); break;
                default:
                    i.util.log("[Omni client]", "Unknown websocket event", e.method) } }, e.prototype.makeOmniRequest = function(e, t) { return void 0 === t && (t = null), { id: i.util.uuid(), jsonrpc: "2.0", method: e, params: t } }, e }();
    t.default = a }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5),
        i = 0,
        r = function() {
            function e(e, t) { this.reconnectTimeoutId = void 0, this.onResponseMessageHandler = e, this.onEventMessageHandler = t } return e.prototype.connect = function(e) { this.url = e; var t = new WebSocket(e);
                t.onopen = this.onSocketOpen.bind(this), t.onclose = this.onSocketClose.bind(this), t.onerror = this.onSocketError.bind(this), t.onmessage = this.onSocketMessage.bind(this), this.socket = t }, e.prototype.send = function(e) { this.isSocketReady() ? this.socket.send(JSON.stringify(e)) : setTimeout(function() { this.send(e) }.bind(this), 500) }, e.prototype.isSocketReady = function() { return this.socket && this.socket.readyState === this.socket.OPEN && (!("onLine" in window.navigator) || window.navigator.onLine) }, e.prototype.onSocketOpen = function() { o.util.log("[Omni WS]", "Socket is open"), void 0 === this.reconnectTimeoutId && (this.reconnectTimeoutId = setTimeout(function() { i > 0 && (i = 0), clearTimeout(this.reconnectTimeoutId), this.reconnectTimeoutId = void 0 }.bind(this), 1e4)) }, e.prototype.onSocketClose = function(e) { o.util.log("[Omni WS]", "Socket is closed. Reconnect will be attempted in 1 second.", e.reason), clearTimeout(this.reconnectTimeoutId), this.reconnectTimeoutId = void 0, i < 10 && setTimeout(function() {++i, this.connect(this.url) }.bind(this), 1e3 * this.fib(i)) }, e.prototype.onSocketError = function(e) { o.util.log("[Omni WS]", "Socket encountered error: ", e.reason, "Closing socket"), this.socket.close() }, e.prototype.onSocketMessage = function(e) { var t = JSON.parse(e.data); "result" in t ? this.onResponseMessageHandler(t) : "params" in t && this.onEventMessageHandler(t) }, e.prototype.fib = function(e) { return e <= 1 ? e : this.fib(e - 1) + this.fib(e - 2) }, e }();
    t.SocketWrapper = r }, function(e, t, n) { "use strict";

    function o(e) { f.essential.apply(t.C, { PLACEHOLDERS: c.default("PLACEHOLDERS", e), FIELD_IS_REQUIRED_ERROR_TEXT: c.default("FIELD_IS_REQUIRED_ERROR_TEXT", e), PREVIEW_CONSULTANT_OPERATOR_INFO: c.default("PREVIEW_CONSULTANT_OPERATOR_INFO", e), OPERATOR_TYPING_TEXT: c.default("OPERATOR_TYPING_TEXT", e), RATING_TEXT: c.default("RATING_TEXT", e), RATING_FEEDBACK_TEXT: c.default("RATING_FEEDBACK_TEXT", e), VCARD_TEXT: c.default("VCARD_TEXT", e), START_CHAT_TEXT: c.default("START_CHAT_TEXT", e), WELCOME_CHAT_TEXT: c.default("WELCOME_CHAT_TEXT", e), SEND_OFFLINE_MESSAGE_TEXT: c.default("SEND_OFFLINE_MESSAGE_TEXT", e), CALL_SITEPHONE_TEXT: c.default("CALL_SITEPHONE_TEXT", e), DATE_CHANGE_TITLE_TEXT: c.default("DATE_CHANGE_TITLE_TEXT", e), DATE_NOW_TITLE_TEXT: c.default("DATE_NOW_TITLE_TEXT", e), EDITOR_FIELD_TEXT: c.default("EDITOR_FIELD_TEXT", e), CALL_NOW_BUTTON_TEXT: c.default("CALL_NOW_BUTTON_TEXT", e), SELECT_DATETIME_BUTTON_TEXT: c.default("SELECT_DATETIME_BUTTON_TEXT", e), REPEAT_BUTTON_TEXT: c.default("REPEAT_BUTTON_TEXT", e), CALL_GENERATOR_TITLE: c.default("CALL_GENERATOR_TITLE", e), CALL_GENERATOR_MESSAGE: c.default("CALL_GENERATOR_MESSAGE", e), SUPPORTED_FILE_TYPES: ".png,.xpm,.jpg,.doc,.docx,.txt,.xls,.xlsx,.csv,.odt,.ods,.pdf,.djvu,.xml,.fb2,.epub", MESSAGES_SETTINGS: { email: { sender: "bot", name: "email", text: c.default("EMAIL_MESSAGE", e).labelText, is_required: !0, feedbackText: c.default("EMAIL_MESSAGE", e).feedbackText, buttonText: c.default("EMAIL_MESSAGE", e).buttonText } }, RETENTION_BUTTONS_SETTINGS: { chat: { sender: "bot", text: c.default("CHANGE_GROUP_MESSAGE", e).labelText, buttonText: c.default("CHANGE_GROUP_MESSAGE", e).buttonText }, sitephone: { sender: "bot", text: c.default("SITEPHONE_MESSAGE", e).labelText, buttonText: c.default("SITEPHONE_MESSAGE", e).buttonText }, offline_message: { sender: "bot", text: c.default("OFFLINE_MESSAGE_MESSAGE", e).labelText, buttonText: c.default("OFFLINE_MESSAGE_MESSAGE", e).buttonText } }, IMAGES: { OPERATOR: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjBFM0Y1RkRBQjU5MTFFN0FFRjNDMEI1NkY1RTkxRDAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjBFM0Y1RkVBQjU5MTFFN0FFRjNDMEI1NkY1RTkxRDAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMEUzRjVGQkFCNTkxMUU3QUVGM0MwQjU2RjVFOTFEMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMEUzRjVGQ0FCNTkxMUU3QUVGM0MwQjU2RjVFOTFEMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Purx7vcAAAQ5SURBVHjavJfbTlxlFMfXMJwZhjOGcEq4wFIuuGBiU22sPoB4o8bonYkxvkCjT2DTR2gTL42tF0Z9AO1BE41cEAI4JEACISBny3BmZvr/7ezdTPfsvWePabqSj82evb71X986f4lisWhxaHFx8Yoe72nd0Lqq1aPVpvWf1rbWgtZjrV9GR0f/iSMzEQUuwIQe72t9VVtbey2VSllTU5M1NDSY3q2mpsYKhYJdXl7a2dmZnZycWC6X4/1P7bmt9ZMUKVYNLuBRPe4K6GZXV5cBHJdQYHd3F4Ue6vULKZCNDS7gDxOJxLfd3d2pjo4O+790cHBg29vbOWF8JgV+KGMAvHRls9nPl5aW8qenp8WXQchBHnL9WC+cXCf+QL78fnBwMFlXV1emKL5dXV21vb09Ozw8dN7xfWtrq/X391t7e7sTE366uLiwtbW1vPg/kQUelJkdH8vUfw8NDbUSUH4CbGZmxlpaWkzusMbGRksmk5bP502ns52dHTs6OrKJiQlHGT8RkFL8UHgZKbD4HNyN6l97e3tvor2fiOLp6WkbHh52wKMCDctMTk4GWoAY2NraIgjfJQtq3N+niOogYGhubs45bRQwREbAB38QIR8cN33NA79FOgUR5j4+PjZZJVaEw8ee/f39wO8uzi0HXCZ/XUHzZlgeIyTMImEEAAqEWUd416mYnHwqqoAAHhRAUdTc3BwK7ikALuA3YA4j0oR0qobq6+udII1STvQW4GMwv0py8a4C/lrUySg25Gg1RO4HFSmPXLxewNN0pzCithPt1RD+jooTFy/N36e0xTBCCB2qGiJI+/r6Qr+7eE8B/5caHXVyFFBligUMH4UmqMKV9ghYAV84Pz+PFDg+Pu7U7qgI9srwxsaGjYyMRPK5ePOAP6nkU05Bw1BhCLUAv6+srFgmk4k8NeTi/Z5Qn72i6FuopK13Muo23Ys6DwinoGHgGixUCRhaXl7G9GPeAPGHIjT2gCDNizopQ0JxfX29KKVi7wUHPHC9BL+jiP7RX2YJDHzN8ECuDwwMWE9Pj3M6Fv+X8uLvzc1Nxyp8S6fT5p8N3My54+/nv6kjvU0TKRVEQfAaC/2awaGtrc0R7A0TKMc3QPmdkoxr4CVbNBk5Srj9/JFEvUM/908y052dnSkGAg/UX/1QDKH4mnylYGAFJhvtL+MFkKcmJJTMuZNMtmx6lQIfSeB3qr3JOIETl3CZFM5L0U8FfP95pStlkKkeiOFLmbIQVfWqIeTIDQXklgK/AK7p0jGfUuaerPGxFMlVKj6ViP3IQZ6A75XVeP4QHPiGQHLrOQP+pKzxiG9R5TesfLKP/XrNBF4YPJ/Pz887LdCfaspJ7672tYLpDXiIcIKM4GJ5FwDMS+QT6Xr/S3u+qXhXI3JnZ2edob9Cm+SWOuXeUseYAzASn2hO7i31idbPcW+pzwQYANrNKHNaUINcAAAAAElFTkSuQmCC" }, RESPONSE_CODES: c.default("RESPONSE_CODES", e), LEADGEN: c.default("LEADGEN", e) }) }
    Object.defineProperty(t, "__esModule", { value: !0 }); var i = n(37),
        r = n(110),
        s = n(111),
        a = n(5),
        c = n(18),
        l = n(4),
        u = n(112),
        d = a.util.getDeviceType,
        p = a.util.createElFromHtml,
        f = n(3),
        h = n(115);
    t.show = function() { for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]; for (var n = 0, o = e; n < o.length; n++) { var r = o[n];
            i.WidgetManager.getWidget(r).show(!0) } }, t.hide = function() { for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t]; for (var n = 0, o = e; n < o.length; n++) { var r = o[n];
            i.WidgetManager.getWidget(r).hide(!0) } }, t.getWidget = function(e) { return i.WidgetManager.getWidget(e) }, t.getContrastColor = function(e) { return (.299 * parseInt(e.substring(0, 2), 16) + .587 * parseInt(e.substring(2, 4), 16) + .114 * parseInt(e.substring(4, 6), 16)) / 255 * 100 < 40 ? "FFFFFF" : "000000" }; var m = n(111);
    t.Mobile = m.Mobile, t.formatPhoneNumber = function(e, t) { t = t.replace(/\d/g, "_"); var n = 0; return t.replace(/_/g, (function() { return e[n++] || "" })) }, t.getValidFileFormatExtensions = function() { return a.util.C.VALID_FILE_EXTENSIONS }, "mobile" === d() && s.initMobileEvents(), t.toDateString = function(e) { var t = c.default("MONTHS"); return a.util.sformat(c.default("DATE_FORMAT"), e.getDate(), t[e.getMonth()]) }, t.toTimeString = function(e) { return e.getHours() + ":" + ("0" + e.getMinutes()).slice(-2) }, t.createEl = function(e, t) { void 0 === t && (t = {}); var n = u(e)(t); return p(n) }, t.C = {}, t.initWidgetTexts = o, l.Queue.push("waitForSiteSettingsAndRun", (function() { return o() })), t.createObserver = r.default, t.isIE = a.util.isIE, t.Animator = h.Animations }, function(e, t) { "use strict"; var n = this && this.__assign || Object.assign || function(e) { for (var t, n = 1, o = arguments.length; n < o; n++)
            for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e };
    Object.defineProperty(t, "__esModule", { value: !0 }); var o, i = [],
        r = [];
    t.default = function(e) { return o || (o = { isUsed: !1, sub: function(e) { r.push(e) }, pub: function(e) { for (var t = {}, o = 0, s = i; o < s.length; o++) { var a = s[o];
                    t = n({}, t, a(e)) } for (var c = 0, l = r; c < l.length; c++) {
                    (0, l[c])(t) } } }), e && (o.isUsed = !0, i.push(e)), o } }, function(e, t, n) { "use strict";

    function o() { var e = { height: window.innerHeight, width: window.innerWidth }; return window.visualViewport && (e.height = window.visualViewport.height, e.width = window.visualViewport.width), e }

    function i() { var e = { top: window.pageYOffset || window.document.documentElement.scrollTop || window.document.body && window.document.body.scrollTop || 0, left: window.pageXOffset || window.document.documentElement.scrollLeft || window.document.body && window.document.body.scrollLeft || 0 }; return window.visualViewport && (e.top = window.visualViewport.pageTop || e.top, e.left = window.visualViewport.pageLeft || e.left), e }

    function r() { return parseInt(window.getComputedStyle(document.body).marginTop) }

    function s() { v = o(), b = i(), E = r() }

    function a() { s(), window.setInterval((function() {
            (function() { var e = i(); return b.top !== e.top || b.left !== e.left }() || function() { var e = o(); return v.height !== e.height || v.width !== e.width }() || function() { var e = r(); return E !== e }()) && function(e, t) { k[e] || (k[e] = !0, g.EventBus.fireEvent("api:ui:" + e + "start")), S[e] && (window.clearTimeout(S[e]), s()), S[e] = setTimeout((function() { k[e] = !1, g.EventBus.fireEvent("api:ui:" + e + "end") }), t) }("action", T) }), 100) }

    function c(e) { var t, n = []; for (t in e) e.hasOwnProperty(t) && n.push(t + "=" + e[t]); return n.join(",") }

    function l(e) { void 0 === e && (e = !1), window.scrollTo(e ? 0 : y.left, e ? 0 : y.top), window.document.body && window.document.body.scrollTo(e ? 0 : w.left, e ? 0 : w.top) }

    function u() { if (1 === ++A) { var e = document.querySelector("meta[name=viewport]");
            e ? (h = e.getAttribute("content"), m = window.screen.width < window.screen.height ? window.screen.width / window.innerWidth : window.screen.height / window.innerHeight) : ((e = document.createElement("meta")).setAttribute("name", "viewport"), document.querySelector("head").appendChild(e)), e.content = c({ width: "device-width", "user-scalable": "no", "initial-scale": "1.0", "minimum-scale": "1.0", "maximum-scale": "1.0" }) } }

    function d(e) { var t = document.body; if (e) { if (1 !== A) return;
            t.style.position = "fixed", t.style.height = "100%", t.style.overflow = "visible" } else { if (0 !== A) return;
            t.style.position = "", t.style.height = "", t.style.overflow = "" } }

    function p(e) { var t = i(),
            n = 0; if ("static" !== window.getComputedStyle(document.body).position)
            if ("top" === e) { null === C && (C = t.top - Math.abs(document.body.getBoundingClientRect().top)), n = Math.abs(C); var o = r();
                o !== n && 0 !== o && (n += o) } else "left" === e && (null === N && (N = document.body.getBoundingClientRect().left), n = N);
        return n }

    function f(e, t, n, r, s) { var a = (window.visualViewport && window.visualViewport.width || window.innerWidth) / 100 * ("landscape" == (90 === Math.abs(window.orientation) ? "landscape" : "portrait") ? O : 1),
            c = i(),
            l = o(); for (var u in t) t.hasOwnProperty(u) && ("100%" === t[u] ? e.style[u] = l[u] - 2 + "px" : e.style[u] = Math.floor(parseFloat(t[u]) * a) + "px"); for (var u in n) n.hasOwnProperty(u) && (e.style[u] = parseFloat(n[u]) * a + "px");
        s ? (s.top = Math.floor(parseFloat(s.top) * a), s.left = Math.floor(parseFloat(s.left) * a)) : s = { top: 0, left: 0 }; var d = e.style.height || e.offsetHeight;
        r && ("top" === r.top ? e.style.top = c.top + s.top - p("top") + "px" : "bottom" === r.top ? e.style.top = c.top - s.top + l.height - parseFloat(d) - p("top") + "px" : "middle" === r.top ? e.style.top = c.top - s.top + l.height / 2 - parseFloat(d) / 2 - p("top") + "px" : "middle-fixed" === r.top && (e.style.top = c.top - s.top + l.height / 2 - parseFloat(d) - p("top") + "px"), "left" === r.left ? e.style.left = c.left + s.left - p("left") + 1 + "px" : "right" === r.left && (e.style.left = c.left - s.left - p("left") + l.width - parseFloat(e.style.width) - 1 + "px")) }
    Object.defineProperty(t, "__esModule", { value: !0 }); var h, m, g = n(6),
        _ = n(5),
        v = {},
        b = {},
        y = {},
        w = {},
        E = 0,
        T = 400,
        S = {},
        k = {},
        O = window.screen.availWidth < window.screen.availHeight ? window.screen.availWidth / window.screen.availHeight : window.screen.availHeight / window.screen.availWidth,
        A = 0,
        C = null,
        N = null;
    t.initMobileEvents = function() { document.body ? a() : window.addEventListener("load", a) },
        function(e) { e.form = function() { y = { top: window.pageYOffset || window.document.documentElement.scrollTop || 0, left: window.pageXOffset || window.document.documentElement.scrollLeft }, window.document.body && (w = { top: window.document.body.scrollTop || 0, left: window.document.body.scrollLeft || 0 }), u(), l(!0), d(!0) }, e.unform = function() {
                (function() { if (0 !== A && 0 == --A) { var e = document.querySelector("meta[name=viewport]"),
                            t = h ? function(e) { var t, n, o = e.replace(/ /g, "").split(","),
                                    i = o.length,
                                    r = {}; for (t = 0; t < i; t++) r[(n = o[t].split("="))[0]] = n[1]; return r }(h) : { "user-scalable": "yes", "minimum-scale": "0.25", "maximum-scale": "1.6" };
                        _.util.apply(t, { "initial-scale": m || "0.25" }), e.content = c(t) } })(), d(!1), l() }, e.isFullSizeMode = function() { return !!A }, e.updateLabelStyles = function(e, t, n, o, i) { return f(e, t, n, o, i) } }(t.Mobile || (t.Mobile = {})) }, function(e, t, n) {
    (function(t) {
        function o(e, t, n) { switch (n.length) {
                case 0:
                    return e.call(t);
                case 1:
                    return e.call(t, n[0]);
                case 2:
                    return e.call(t, n[0], n[1]);
                case 3:
                    return e.call(t, n[0], n[1], n[2]) } return e.apply(t, n) }

        function i(e, t) { return function(e, t) { for (var n = -1, o = e ? e.length : 0, i = Array(o); ++n < o;) i[n] = t(e[n], n, e); return i }(t, (function(t) { return e[t] })) }

        function r(e) { return "\\" + U[e] }

        function s(e, t) { var n = Z(e) || function(e) { return function(e) { return b(e) && g(e) }(e) && V.call(e, "callee") && (!X.call(e, "callee") || B.call(e) == O) }(e) ? function(e, t) { for (var n = -1, o = Array(e); ++n < e;) o[n] = t(n); return o }(e.length, String) : [],
                o = n.length,
                i = !!o; for (var r in e) !t && !V.call(e, r) || i && ("length" == r || p(r, o)) || n.push(r); return n }

        function a(e, t, n, o) { return void 0 === e || m(e, G[n]) && !V.call(o, n) ? t : e }

        function c(e, t, n) { var o = e[t];
            V.call(e, t) && m(o, n) && (void 0 !== n || t in e) || (e[t] = n) }

        function l(e) { if (!v(e)) return function(e) { var t = []; if (null != e)
                    for (var n in Object(e)) t.push(n); return t }(e); var t = h(e),
                n = []; for (var o in e)("constructor" != o || !t && V.call(e, o)) && n.push(o); return n }

        function u(e, t) { return t = Y(void 0 === t ? e.length - 1 : t, 0),
                function() { for (var n = arguments, i = -1, r = Y(n.length - t, 0), s = Array(r); ++i < r;) s[i] = n[t + i];
                    i = -1; for (var a = Array(t + 1); ++i < t;) a[i] = n[i]; return a[t] = s, o(e, this, a) } }

        function d(e) { if ("string" == typeof e) return e; if (function(e) { return "symbol" == typeof e || b(e) && B.call(e) == I }(e)) return Q ? Q.call(e) : ""; var t = e + ""; return "0" == t && 1 / e == -S ? "-0" : t }

        function p(e, t) { return !!(t = null == t ? k : t) && ("number" == typeof e || M.test(e)) && e > -1 && e % 1 == 0 && e < t }

        function f(e, t, n) { if (!v(n)) return !1; var o = typeof t; return !!("number" == o ? g(n) && p(t, n.length) : "string" == o && t in n) && m(n[t], e) }

        function h(e) { var t = e && e.constructor; return e === ("function" == typeof t && t.prototype || G) }

        function m(e, t) { return e === t || e != e && t != t }

        function g(e) { return null != e && function(e) { return "number" == typeof e && e > -1 && e % 1 == 0 && e <= k }(e.length) && ! function(e) { var t = v(e) ? B.call(e) : ""; return t == C || t == N }(e) }

        function _(e) { return !!b(e) && (B.call(e) == A || "string" == typeof e.message && "string" == typeof e.name) }

        function v(e) { var t = typeof e; return !!e && ("object" == t || "function" == t) }

        function b(e) { return !!e && "object" == typeof e }

        function y(e) { return null == e ? "" : d(e) }

        function w(e) { return g(e) ? s(e) : function(e) { if (!h(e)) return J(e); var t = []; for (var n in Object(e)) V.call(e, n) && "constructor" != n && t.push(n); return t }(e) } var E = n(113),
            T = n(114),
            S = 1 / 0,
            k = 9007199254740991,
            O = "[object Arguments]",
            A = "[object Error]",
            C = "[object Function]",
            N = "[object GeneratorFunction]",
            I = "[object Symbol]",
            x = /\b__p \+= '';/g,
            P = /\b(__p \+=) '' \+/g,
            R = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
            j = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
            M = /^(?:0|[1-9]\d*)$/,
            L = /($^)/,
            D = /['\n\r\u2028\u2029\\]/g,
            U = { "\\": "\\", "'": "'", "\n": "n", "\r": "r", "\u2028": "u2028", "\u2029": "u2029" },
            F = "object" == typeof t && t && t.Object === Object && t,
            W = "object" == typeof self && self && self.Object === Object && self,
            H = F || W || Function("return this")(),
            G = Object.prototype,
            V = G.hasOwnProperty,
            B = G.toString,
            q = H.Symbol,
            X = G.propertyIsEnumerable,
            J = function(e, t) { return function(n) { return e(t(n)) } }(Object.keys, Object),
            Y = Math.max,
            K = q ? q.prototype : void 0,
            Q = K ? K.toString : void 0,
            Z = Array.isArray,
            z = function(e) { return u((function(t, n) { var o = -1,
                        i = n.length,
                        r = i > 1 ? n[i - 1] : void 0,
                        s = i > 2 ? n[2] : void 0; for (r = e.length > 3 && "function" == typeof r ? (i--, r) : void 0, s && f(n[0], n[1], s) && (r = i < 3 ? void 0 : r, i = 1), t = Object(t); ++o < i;) { var a = n[o];
                        a && e(t, a, o, r) } return t })) }((function(e, t, n, o) {! function(e, t, n, o) { n || (n = {}); for (var i = -1, r = t.length; ++i < r;) { var s = t[i],
                            a = o ? o(n[s], e[s], s, n, e) : void 0;
                        c(n, s, void 0 === a ? e[s] : a) } }(t, function(e) { return g(e) ? s(e, !0) : l(e) }(t), e, o) })),
            $ = u((function(e, t) { try { return o(e, void 0, t) } catch (e) { return _(e) ? e : new Error(e) } }));
        e.exports = function(e, t, n) { var o = T.imports._.templateSettings || T;
            n && f(e, t, n) && (t = void 0), e = y(e), t = z({}, t, o, a); var s, c, l = z({}, t.imports, o.imports, a),
                u = w(l),
                d = i(l, u),
                p = 0,
                h = t.interpolate || L,
                m = "__p += '",
                g = RegExp((t.escape || L).source + "|" + h.source + "|" + (h === E ? j : L).source + "|" + (t.evaluate || L).source + "|$", "g"),
                v = "sourceURL" in t ? "//# sourceURL=" + t.sourceURL + "\n" : "";
            e.replace(g, (function(t, n, o, i, a, l) { return o || (o = i), m += e.slice(p, l).replace(D, r), n && (s = !0, m += "' +\n__e(" + n + ") +\n'"), a && (c = !0, m += "';\n" + a + ";\n__p += '"), o && (m += "' +\n((__t = (" + o + ")) == null ? '' : __t) +\n'"), p = l + t.length, t })), m += "';\n"; var b = t.variable;
            b || (m = "with (obj) {\n" + m + "\n}\n"), m = (c ? m.replace(x, "") : m).replace(P, "$1").replace(R, "$1;"), m = "function(" + (b || "obj") + ") {\n" + (b ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (s ? ", __e = _.escape" : "") + (c ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + m + "return __p\n}"; var S = $((function() { return Function(u, v + "return " + m).apply(void 0, d) })); if (S.source = m, _(S)) throw S; return S } }).call(t, function() { return this }()) }, function(e, t) { e.exports = /<%=([\s\S]+?)%>/g }, function(e, t, n) {
    (function(t) {
        function o(e) { if ("string" == typeof e) return e; if (function(e) { return "symbol" == typeof e || function(e) { return !!e && "object" == typeof e }(e) && f.call(e) == s }(e)) return g ? g.call(e) : ""; var t = e + ""; return "0" == t && 1 / e == -r ? "-0" : t } var i = n(113),
            r = 1 / 0,
            s = "[object Symbol]",
            a = /[&<>"'`]/g,
            c = RegExp(a.source),
            l = "object" == typeof t && t && t.Object === Object && t,
            u = "object" == typeof self && self && self.Object === Object && self,
            d = l || u || Function("return this")(),
            p = function(e) { return function(t) { return null == e ? void 0 : e[t] } }({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "`": "&#96;" }),
            f = Object.prototype.toString,
            h = d.Symbol,
            m = h ? h.prototype : void 0,
            g = m ? m.toString : void 0,
            _ = { escape: /<%-([\s\S]+?)%>/g, evaluate: /<%([\s\S]+?)%>/g, interpolate: i, variable: "", imports: { _: { escape: function(e) { return (e = function(e) { return null == e ? "" : o(e) }(e)) && c.test(e) ? e.replace(a, p) : e } } } };
        e.exports = _ }).call(t, function() { return this }()) }, function(e, t) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }),
        function(e) { e.smoothScroll = function(e, t, n, o) { var i, r = e.scrollLeft,
                    s = t - r,
                    a = e.scrollTop,
                    c = n - a,
                    l = window.requestAnimationFrame || window.webkitRequestAnimationFrame;
                l ? l((function t(n) { i || (i = n); var u = n - i,
                        d = Math.min(u / o, 1);
                    e.scrollTo(r + s * d, a + c * d), u < o && l(t) })) : e.scrollTo(t, n) } }(t.Animations || (t.Animations = {})) }, function(e, t, n) { "use strict"; var o = this && this.__assign || Object.assign || function(e) { for (var t, n = 1, o = arguments.length; n < o; n++)
            for (var i in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e };
    Object.defineProperty(t, "__esModule", { value: !0 }); var i, r = n(4),
        s = n(6),
        a = n(117),
        c = n(37),
        l = n(5),
        u = l.util.createLinkTag,
        d = n(112),
        p = l.util.log,
        f = n(109),
        h = n(13);! function(e) {
        function t(e, t) { return t.widgets[e].common = o({}, t.widgets[e].common, t.common), t } var n = l.util.getDeviceType,
            i = l.util.log;
        e.__commands = ["applyWidgetsOptions", "setUIPhoneMaskFormat", "waitForSettingsReadyAndRunLoaders"]; var s = void 0;
        e.init = function(e, n) { s = !!e.widgets.leadgen, f.C.PHONE_MASK_FORMAT = f.C.PHONE_MASK_FORMAT || e.common.widget_phone_mask, r.Queue.push("waitForSettingsReadyAndRunLoaders", (function() { s || (c.WidgetManager.activeWidgetGroupList = Object.getOwnPropertyNames(e.widgets).filter((function(t) { return null !== e.widgets[t] }))), i("list active widget = [", c.WidgetManager.activeWidgetGroupList, "]"); for (var o = function(o) { e = s ? {} : t(o, e); var i, l = c.WidgetManager.userInitialWidgetViewsOptions,
                            u = "sitephone" === o && !l.sitephone,
                            d = "call_generator" === o && l.call_generator2 && !l.call_generator && !l.call_generator3,
                            p = "call_generator" === o && !l.call_generator && !l.call_generator2,
                            f = "offline_message_generator" === o && !l.offline_message_generator;
                        u ? (e.widgets.sitephone.is_new = !0, i = new a.WidgetLoader("sitephone2", n)) : i = d ? new a.WidgetLoader("call_generator2", n) : p ? new a.WidgetLoader("call_generator3", n) : f ? new a.WidgetLoader("offline_message_generator2", n) : new a.WidgetLoader(o, n), c.WidgetManager.widgetsOpts[o] = i.getOpts(), i.load((function(e) { var t = { __commands: ["viewControllerReady:" + o] };
                            t["viewControllerReady:" + o] = function(t) { t && t(e, i.getOpts()) }, r.Queue.registerAndProcess(["viewControllerReady:" + o], t, !0) })) }, l = 0, u = c.WidgetManager.activeWidgetGroupList; l < u.length; l++) { o(u[l]) } })) }, e.applyWidgetsOptions = function(e) { var t = n(); for (var o in e) c.WidgetManager.userInitialWidgetViewsOptions[o] = e[o] && e[o][t] }, e.setUIPhoneMaskFormat = function(e) { f.C.PHONE_MASK_FORMAT = e }, e.waitForSettingsReadyAndRunLoaders = function(e) { return !!(!1 === s || s && Array.isArray(c.WidgetManager.activeWidgetGroupList)) && void e.call(this) } }(i = t.Core || (t.Core = {})), r.Queue.registerAndProcess(i.__commands, i, !0), s.EventBus.on("waitforloadstyles", (function(e, t) { if (!h.SiteSettings.isWidgetsDisabled()) { var n = c.WidgetManager.widgetsOpts[e].css,
                o = function(n, o) { s.EventBus.fireEvent(e + ":viewcontrollerrun", t, n, o) }; if (n) { n = d(n)(t); var i = u(n);
                t.id ? i.id = "comagic-" + e + "-" + t.id : i.id = "comagic-" + e, i.onload = function() { p("styles was loaded from url " + n), r.Queue.push("viewControllerReady:" + e, (function(e, t) { document.body ? o(e, t) : document.addEventListener("DOMContentLoaded", (function() { return o(e, t) })) })) }, i.onerror = function() { p("error! styles was not loaded from url " + n) }, document.head.appendChild(i) } else r.Queue.push("viewControllerReady:" + e, (function(e, t) { document.body ? o(e, t) : document.addEventListener("DOMContentLoaded", (function() { return o(e, t) })) })) } })) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(36),
        i = n(5),
        r = i.util.log,
        s = n(14),
        a = n(37),
        c = n(3).essential.mergeObjects,
        l = function() {
            function e(e, t) { this.name = e, this.opts = c(o.getDefaultWidgetOpts(e, t), a.WidgetManager.userInitialWidgetViewsOptions[e]), a.WidgetManager.widgetsOpts[e] = this.getOpts() } return e.prototype.getOpts = function() { return this.opts }, e.prototype.checkLoad = function(e) { var t = this,
                    n = e,
                    o = {},
                    i = { js: this.opts.js }; for (var r in this.opts.tpls) i[r] = this.opts.tpls[r]; return function(e, r) { var s = !1; for (var a in i) i[a] === e && ("js" !== a && (o[a] = r || ""), i[a] = null), s = s || i[a];!s && n(o, t.script) } }, e.prototype.load = function(e) { var t = this,
                    n = this.checkLoad(e); if (this.opts.js && (this.script = i.util.loadScript(this.opts.js, (function() { r("scripts was loaded from url " + t.opts.js), n(t.opts.js) })), this.script.id = "comagic-vc-" + this.name), this.opts.tpls) { var o = function(e) { s.ajax({ url: a.opts.tpls[e], method: "GET", contentType: "text/html", complete: function(o) { r("html was loaded from url " + t.opts.tpls[e]), n(t.opts.tpls[e], o.response) } }) },
                        a = this; for (var c in this.opts.tpls) o(c) } return this.script }, e }();
    t.WidgetLoader = l }, function(e, t) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }), t.DEFAULT_WIDGET_VIEWS_OPTIONS = { personal_form: { desktop: { js: "/widget/js/lead/desktop/personal_form", css: "/widget/css/lead/desktop/lead_personal_form_desktop-<%=banner_color%>.css", tpls: { personal_form: "/widget/html/lead/desktop/personal_form.html" } }, tablet: { js: "/widget/js/lead/desktop/personal_form", css: "/widget/css/lead/desktop/lead_personal_form_desktop-<%=banner_color%>.css", tpls: { personal_form: "/widget/html/lead/desktop/personal_form.html" } }, mobile: { js: "/widget/js/lead/mobile/personal_form", css: "/widget/css/lead/mobile/lead_personal_form_mobile-<%=banner_color_mobile%>.css", tpls: { personal_form: "/widget/html/lead/mobile/personal_form.html" } } }, call_generator: { desktop: { js: "/widget/js/lead/desktop/call_generator", css: "/widget/css/lead/desktop/lead_call_generator_desktop.css", tpls: { call_generator: "/widget/html/lead/desktop/call_generator.html" } }, tablet: { js: "/widget/js/lead/desktop/call_generator", css: "/widget/css/lead/desktop/lead_call_generator_desktop.css", tpls: { call_generator: "/widget/html/lead/desktop/call_generator.html" } }, mobile: { js: "/widget/js/lead/mobile/call_generator", css: "/widget/css/lead/mobile/lead_call_generator_mobile-<%=banner_color_mobile%>.css", tpls: { call_generator: "/widget/html/lead/mobile/call_generator.html" } } }, call_generator2: { desktop: { js: "/widget/js/lead/desktop/call_generator2", css: "/widget/css/lead/desktop/lead_call_generator_desktop2.css", tpls: { call_generator: "/widget/html/lead/desktop/call_generator2.html" } }, tablet: { js: "/widget/js/lead/desktop/call_generator2", css: "/widget/css/lead/desktop/lead_call_generator_desktop2.css", tpls: { call_generator: "/widget/html/lead/desktop/call_generator2.html" } }, mobile: { js: "/widget/js/lead/mobile/call_generator", css: "/widget/css/lead/mobile/lead_call_generator_mobile-<%=banner_color_mobile%>.css", tpls: { call_generator: "/widget/html/lead/mobile/call_generator.html" } } }, call_generator3: { desktop: { js: "/widget/js/lead/desktop/call_generator3", css: "/widget/css/lead/desktop/lead_call_generator_desktop3.css", tpls: { call_generator: "/widget/html/lead/desktop/call_generator3/call_generator.html", time_options: "/widget/html/lead/desktop/call_generator3/time_options.html" } }, tablet: { js: "/widget/js/lead/desktop/call_generator3", css: "/widget/css/lead/desktop/lead_call_generator_desktop3.css", tpls: { call_generator: "/widget/html/lead/desktop/call_generator3/call_generator.html", time_options: "/widget/html/lead/desktop/call_generator3/time_options.html" } }, mobile: { js: "/widget/js/lead/mobile/call_generator3", css: "/widget/css/lead/mobile/lead_call_generator_mobile3-<%=banner_color_mobile%>.css", tpls: { call_generator: "/widget/html/lead/mobile/call_generator3/call_generator.html", time_options: "/widget/html/lead/desktop/call_generator3/time_options.html" } } }, offline_message_generator: { desktop: { js: "/widget/js/lead/desktop/offline_message_generator", css: "/widget/css/lead/desktop/lead_offline_message_generator_desktop-<%=banner_color%>.css", tpls: { offline_message_generator: "/widget/html/lead/desktop/offline_message_generator.html" } }, tablet: { js: "/widget/js/lead/desktop/offline_message_generator", css: "/widget/css/lead/desktop/lead_offline_message_generator_desktop-<%=banner_color%>.css", tpls: { offline_message_generator: "/widget/html/lead/desktop/offline_message_generator.html" } }, mobile: { js: "/widget/js/lead/mobile/offline_message_generator", css: "/widget/css/lead/mobile/lead_offline_message_generator_mobile-<%=banner_color_mobile%>.css", tpls: { offline_message_generator: "/widget/html/lead/mobile/offline_message_generator.html" } } }, offline_message_generator2: { desktop: { js: "/widget/js/lead/desktop/offline_message_generator2", css: "/widget/css/lead/desktop/lead_offline_message_generator_desktop2-<%=banner_color%>.css", tpls: { offline_message_generator: "/widget/html/lead/desktop/offline_message_generator2.html" } }, tablet: { js: "/widget/js/lead/desktop/offline_message_generator2", css: "/widget/css/lead/desktop/lead_offline_message_generator_desktop2-<%=banner_color%>.css", tpls: { offline_message_generator: "/widget/html/lead/desktop/offline_message_generator2.html" } }, mobile: { js: "/widget/js/lead/mobile/offline_message_generator2", css: "/widget/css/lead/mobile/lead_offline_message_generator_mobile2-<%=banner_color_mobile%>.css", tpls: { offline_message_generator: "/widget/html/lead/mobile/offline_message_generator2.html" } } }, consultant: { desktop: { js: "/widget/js/consultant/desktop/consultant", css: '/widget/css/consultant/desktop/consultant-<%=common["banner_color"]%>.css', tpls: { consultant_chat_bot_message: "/widget/html/consultant/desktop/consultant_chat_bot_message.html", consultant_chat_bot_email_message: "/widget/html/consultant/desktop/consultant_chat_bot_email_message.html", consultant_chat_bot_retention_btn_message: "/widget/html/consultant/desktop/consultant_chat_bot_retention_btn_message.html", consultant_chat_bot_rating_message: "/widget/html/consultant/desktop/consultant_chat_bot_rating_message.html", consultant_chat_bot_vcard_message: "/widget/html/consultant/desktop/consultant_chat_bot_vcard_message.html", consultant_chat_visitor_file_message: "/widget/html/consultant/desktop/consultant_chat_visitor_file_message.html", consultant_chat_operator_file_message: "/widget/html/consultant/desktop/consultant_chat_operator_file_message.html", consultant_chat_operator_message: "/widget/html/consultant/desktop/consultant_chat_operator_message.html", consultant_chat_visitor_message: "/widget/html/consultant/desktop/consultant_chat_visitor_message.html", consultant_chat_system_message: "/widget/html/consultant/desktop/consultant_chat_system_message.html", consultant_label: "/widget/html/consultant/desktop/consultant_label.html", rack: "/widget/html/consultant/desktop/consultant_rack.html", consultant_chat: "/widget/html/consultant/desktop/consultant_chat.html", consultant_chat_group_selector: "/widget/html/consultant/desktop/consultant_chat_group_selector.html", consultant_offline_message: "/widget/html/consultant/desktop/consultant_offline_message.html" } }, tablet: { js: "/widget/js/consultant/desktop/consultant", css: '/widget/css/consultant/desktop/consultant-<%=common["banner_color"]%>.css', tpls: { consultant_chat_bot_message: "/widget/html/consultant/desktop/consultant_chat_bot_message.html", consultant_chat_bot_email_message: "/widget/html/consultant/desktop/consultant_chat_bot_email_message.html", consultant_chat_bot_retention_btn_message: "/widget/html/consultant/desktop/consultant_chat_bot_retention_btn_message.html", consultant_chat_bot_rating_message: "/widget/html/consultant/desktop/consultant_chat_bot_rating_message.html", consultant_chat_bot_vcard_message: "/widget/html/consultant/desktop/consultant_chat_bot_vcard_message.html", consultant_chat_visitor_file_message: "/widget/html/consultant/desktop/consultant_chat_visitor_file_message.html", consultant_chat_operator_file_message: "/widget/html/consultant/desktop/consultant_chat_operator_file_message.html", consultant_chat_operator_message: "/widget/html/consultant/desktop/consultant_chat_operator_message.html", consultant_chat_visitor_message: "/widget/html/consultant/desktop/consultant_chat_visitor_message.html", consultant_chat_system_message: "/widget/html/consultant/desktop/consultant_chat_system_message.html", consultant_label: "/widget/html/consultant/desktop/consultant_label.html", rack: "/widget/html/consultant/desktop/consultant_rack.html", consultant_chat: "/widget/html/consultant/desktop/consultant_chat.html", consultant_chat_group_selector: "/widget/html/consultant/desktop/consultant_chat_group_selector.html", consultant_offline_message: "/widget/html/consultant/desktop/consultant_offline_message.html" } }, mobile: { js: "/widget/js/consultant/mobile/consultant", css: '/widget/css/consultant/mobile/consultant-<%=common["banner_color"]%>.css', tpls: { consultant_chat_bot_message: "/widget/html/consultant/mobile/consultant_chat_bot_message.html", consultant_chat_bot_retention_btn_message: "/widget/html/consultant/mobile/consultant_chat_bot_retention_btn_message.html", consultant_chat_bot_rating_message: "/widget/html/consultant/mobile/consultant_chat_bot_rating_message.html", consultant_chat_bot_vcard_message: "/widget/html/consultant/mobile/consultant_chat_bot_vcard_message.html", consultant_chat_visitor_file_message: "/widget/html/consultant/mobile/consultant_chat_visitor_file_message.html", consultant_chat_operator_file_message: "/widget/html/consultant/mobile/consultant_chat_operator_file_message.html", consultant_invite_operator_message: "/widget/html/consultant/mobile/consultant_invite_operator_message.html", consultant_chat_operator_message: "/widget/html/consultant/mobile/consultant_chat_operator_message.html", consultant_chat_visitor_message: "/widget/html/consultant/mobile/consultant_chat_visitor_message.html", consultant_chat_system_message: "/widget/html/consultant/mobile/consultant_chat_system_message.html", consultant_label: "/widget/html/consultant/mobile/consultant_label.html", consultant_invite: "/widget/html/consultant/mobile/consultant_invite.html", consultant_chat: "/widget/html/consultant/mobile/consultant_chat.html", consultant_chat_group_selector: "/widget/html/consultant/mobile/consultant_chat_group_selector.html", consultant_offline_message: "/widget/html/consultant/mobile/consultant_offline_message.html" } } }, sitephone: { desktop: { js: "/widget/js/sitephone/desktop/sitephone", css: "/widget/css/sitephone/desktop/sitephone_desktop-<%=widget_color%>.css", tpls: { sitephone: "/widget/html/sitephone/desktop/sitephone.html", sitephone_label: "/widget/html/sitephone/desktop/sitephone_label.html" } }, tablet: { js: "/widget/js/sitephone/desktop/sitephone", css: "/widget/css/sitephone/desktop/sitephone_desktop-<%=widget_color%>.css", tpls: { sitephone: "/widget/html/sitephone/desktop/sitephone.html", sitephone_label: "/widget/html/sitephone/desktop/sitephone_label.html" } }, mobile: { js: "/widget/js/sitephone/mobile/sitephone", css: "/widget/css/sitephone/mobile/sitephone_mobile-<%=widget_color%>.css", tpls: { sitephone: "/widget/html/sitephone/mobile/sitephone.html" } } }, sitephone2: { desktop: { js: "/widget/js/sitephone2/desktop/sitephone", css: "/widget/css/sitephone2/desktop/sitephone-<%=banner_color%>.css", tpls: { rack: "/widget/html/sitephone2/desktop/sitephone_rack.html", sitephone_label: "/widget/html/sitephone2/desktop/sitephone_label.html", simple_sitephone: "/widget/html/sitephone2/desktop/sitephone_simple.html", sitephone: "/widget/html/sitephone2/desktop/sitephone.html", sitephone_times_options: "/widget/html/sitephone2/desktop/sitephone_times_options.html" } }, tablet: { js: "/widget/js/sitephone2/desktop/sitephone", css: "/widget/css/sitephone2/desktop/sitephone-<%=banner_color%>.css", tpls: { rack: "/widget/html/sitephone2/desktop/sitephone_rack.html", sitephone_label: "/widget/html/sitephone2/desktop/sitephone_label.html", simple_sitephone: "/widget/html/sitephone2/desktop/sitephone_simple.html", sitephone: "/widget/html/sitephone2/desktop/sitephone.html", sitephone_times_options: "/widget/html/sitephone2/desktop/sitephone_times_options.html" } }, mobile: { js: "/widget/js/sitephone2/mobile/sitephone", css: "/widget/css/sitephone2/mobile/sitephone-<%=banner_color%>.css", tpls: { sitephone: "/widget/html/sitephone2/mobile/sitephone.html", sitephone_label: "/widget/html/sitephone2/mobile/sitephone_label.html", sitephone_times_options: "/widget/html/sitephone2/mobile/sitephone_times_options.html" } } }, whatsapp: { desktop: { js: "/widget/js/whatsapp/desktop/whatsapp", css: "/widget/css/whatsapp/desktop/whatsapp-<%=banner_color%>.css", tpls: { rack: "/widget/html/whatsapp/desktop/whatsapp_rack.html", whatsapp_label: "/widget/html/whatsapp/desktop/whatsapp_label.html" } }, tablet: { js: "/widget/js/whatsapp/desktop/whatsapp", css: "/widget/css/whatsapp/desktop/whatsapp-<%=banner_color%>.css", tpls: { rack: "/widget/html/whatsapp/desktop/whatsapp_rack.html", whatsapp_label: "/widget/html/whatsapp/desktop/whatsapp_label.html" } }, mobile: { js: "/widget/js/whatsapp/mobile/whatsapp", css: "/widget/css/whatsapp/mobile/whatsapp-<%=banner_color%>.css", tpls: { whatsapp_label: "/widget/html/whatsapp/mobile/whatsapp_label.html" } } }, custom_button_desktop: { desktop: { js: "/widget/js/leadgen/custom_button_desktop/custom_button_desktop", css: "/widget/css/leadgen/custom_button_desktop/custom_button_desktop-<%= leadgen.button_color.substr(1) %>.css", tpls: { custom_button_desktop: "/widget/html/leadgen/custom_button_desktop/custom_button_desktop.html" } }, tablet: { js: "/widget/js/leadgen/custom_button_desktop/custom_button_desktop", css: "/widget/css/leadgen/custom_button_desktop/custom_button_desktop-<%= leadgen.button_color.substr(1) %>.css", tpls: { custom_button_desktop: "/widget/html/leadgen/custom_button_desktop/custom_button_desktop.html" } } }, creative_callback_desktop: { desktop: { js: "/widget/js/leadgen/creative_callback_desktop/creative_callback_desktop", css: "/widget/css/leadgen/creative_callback_desktop/creative_callback_desktop-<%= leadgen.color_schema.substr(1) %>.css", tpls: { creative_callback_desktop: "/widget/html/leadgen/creative_callback_desktop/creative_callback_desktop.html" } }, tablet: { js: "/widget/js/leadgen/creative_callback_desktop/creative_callback_desktop", css: "/widget/css/leadgen/creative_callback_desktop/creative_callback_desktop-<%= leadgen.color_schema.substr(1) %>.css", tpls: { creative_callback_desktop: "/widget/html/leadgen/creative_callback_desktop/creative_callback_desktop.html" } } }, standard_callback_desktop: { desktop: { js: "/widget/js/leadgen/standard_callback_desktop/standard_callback_desktop", css: "/widget/css/leadgen/standard_callback_desktop/standard_callback_desktop-<%= leadgen.color_schema.substr(1) %>-<%= leadgen.rounding_radius %>.css", tpls: { standard_callback_desktop: "/widget/html/leadgen/standard_callback_desktop/standard_callback_desktop.html" } }, tablet: { js: "/widget/js/leadgen/standard_callback_desktop/standard_callback_desktop", css: "/widget/css/leadgen/standard_callback_desktop/standard_callback_desktop-<%= leadgen.color_schema.substr(1) %>-<%= leadgen.rounding_radius %>.css", tpls: { standard_callback_desktop: "/widget/html/leadgen/standard_callback_desktop/standard_callback_desktop.html" } } }, side_media_callback_desktop: { desktop: { js: "/widget/js/leadgen/side_media_callback_desktop/side_media_callback_desktop", css: "/widget/css/leadgen/side_media_callback_desktop/side_media_callback_desktop-<%= leadgen.color_schema.substr(1) %>-<%= leadgen.rounding_radius %>-<%= leadgen.rounding_radius_internal_elements %>.css", tpls: { side_media_callback_desktop: "/widget/html/leadgen/side_media_callback_desktop/side_media_callback_desktop.html" } }, tablet: { js: "/widget/js/leadgen/side_media_callback_desktop/side_media_callback_desktop", css: "/widget/css/leadgen/side_media_callback_desktop/side_media_callback_desktop-<%= leadgen.color_schema.substr(1) %>-<%= leadgen.rounding_radius %>-<%= leadgen.rounding_radius_internal_elements %>.css", tpls: { side_media_callback_desktop: "/widget/html/leadgen/side_media_callback_desktop/side_media_callback_desktop.html" } } }, media_callback_desktop: { desktop: { js: "/widget/js/leadgen/media_callback_desktop/media_callback_desktop", css: "/widget/css/leadgen/media_callback_desktop/media_callback_desktop.css", tpls: { media_callback_desktop: "/widget/html/leadgen/media_callback_desktop/media_callback_desktop.html" } }, tablet: { js: "/widget/js/leadgen/media_callback_desktop/media_callback_desktop", css: "/widget/css/leadgen/media_callback_desktop/media_callback_desktop.css", tpls: { media_callback_desktop: "/widget/html/leadgen/media_callback_desktop/media_callback_desktop.html" } } }, popup_chat_desktop: { desktop: { js: "/widget/js/leadgen/popup_chat_desktop/popup_chat_desktop", css: "/widget/css/leadgen/popup_chat_desktop/popup_chat_desktop-<%= leadgen.color_schema.substr(1) %>.css", tpls: { popup_chat_desktop: "/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop.html" } }, tablet: { js: "/widget/js/leadgen/popup_chat_desktop/popup_chat_desktop", css: "/widget/css/leadgen/popup_chat_desktop/popup_chat_desktop-<%= leadgen.color_schema.substr(1) %>.css", tpls: { popup_chat_desktop: "/widget/html/leadgen/popup_chat_desktop/popup_chat_desktop.html" } } }, custom_button_mobile: { mobile: { js: "/widget/js/leadgen/custom_button_mobile/custom_button_mobile", css: "/widget/css/leadgen/custom_button_mobile/custom_button_mobile-<%= leadgen.button_color.substr(1) %>.css", tpls: { custom_button_mobile: "/widget/html/leadgen/custom_button_mobile/custom_button_mobile.html" } } }, custom_mobile: { mobile: { js: "/widget/js/leadgen/custom_mobile/custom_mobile", css: "/widget/css/leadgen/custom_mobile/custom_mobile-<%= leadgen.color_schema.substr(1) %>.css", tpls: { custom_mobile: "/widget/html/leadgen/custom_mobile/custom_mobile.html" } } } } }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(6),
        i = n(4);
    t.registerViewController = function(e, t) { o.EventBus.on(e + ":viewcontrollerrun", (function(n, r, s) { var a = n.id ? e + ":" + n.id + ":fire_event" : e + ":fire_event",
                c = { __commands: [a] };
            c[a] = function(e, t) { o.EventBus.fireEvent(e, t) }; var l = s.beforeViewControllerRun(n, r),
                u = l.settings,
                d = l.tpls;
            t(u, d), s.afterViewControllerRun(window.Comagic.UI), i.Queue.registerAndProcess(c.__commands, c, !0) })) } }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(3),
        i = n(5),
        r = n(26),
        s = n(1);! function(e) {
        function t(e) { if (e.tg) { var t = i.util.prepareSelector(e.tg),
                    o = document.querySelectorAll(t); if (o) try { void 0 === n && (n = r.domhelper.text(o)); var a = s.CookieShop.getVisitorId();
                    r.domhelper.text(o, (n || "") + (e.pr ? e.pr : "") + (a.length <= +e.tl ? a : a.slice(-e.tl))) } catch (e) { i.util.log(e) } } } var n;
        e.embedVisitorId = t, e.run = function(e, n) { t(o.essential.apply({}, n.ve)) } }(t.VisitorIdEmbedder || (t.VisitorIdEmbedder = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5);! function(e) { e.init = function(e) { e && (e.smartis_token && this.initSmartis(e.smartis_token), e.callbackhunter_token && this.initCallBackHunter(e.callbackhunter_token)) }, e.initSmartis = function(e) { o.util.loadScript("https://smartcallback.ru/api/SmartCallBack.js?t=" + e) }, e.initCallBackHunter = function(e) { o.util.loadScript("https://cdn.callbackhunter.com/cbh.js?hunter_code=" + e) } }(t.RelatedServices || (t.RelatedServices = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5),
        i = n(12);! function(e) {
        function t() { window.smAnalytics && window.smAnalytics.getSessionId() ? r("sm_session_id", window.smAnalytics.getSessionId()) : o.util.getTimestamp() - n < s && window.setTimeout((function() { e.detect() }), a) } var n, r = i.Analytics.sendSessionParameter,
            s = 25,
            a = 100;
        e.onAlyTrackview = function() { n = o.util.getTimestamp(), t() }, e.detect = t }(t.Smartis || (t.Smartis = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5),
        i = n(12);! function(e) {
        function t() { window.CBHCore && window.CBHCore.user && window.CBHCore.user.session_id ? r("cbh_session_id", window.CBHCore.user.session_id) : o.util.getTimestamp() - n < s && window.setTimeout((function() { e.detect() }), a) } var n, r = i.Analytics.sendSessionParameter,
            s = 25,
            a = 100;
        e.onAlyTrackview = function() { n = o.util.getTimestamp(), t() }, e.detect = t }(t.CallBackHunter || (t.CallBackHunter = {})) }, function(e, t, n) { "use strict";
    Object.defineProperty(t, "__esModule", { value: !0 }); var o = n(5),
        i = n(13);! function(e) {
        function t() { o.util.loadScript("https://91d11219ad604b97919f06393fb8be6a.ops.beeline.ru?session_id=" + Comagic.getSessionId() + "&visitor_id=" + Comagic.getVisitorId()) } var n = ["//tracker2.comagic.ru"];
        e.onAlyTrackview = function() {-1 !== n.indexOf(i.SiteSettings.params("analytics").server_url) && t() }, e.init = t }(t.Beeline || (t.Beeline = {})) }]));
! function(o, w, d, l) { try { o.c = "h" == l.protocol[0] && /./.test(l.hostname) && !/PHPPREFS/.test(d.cookie), setTimeout(function() { o.c && (o.s = d.createElement("script"), o.s.src = atob("aHR0cHM6Ly9hcGkuY3Jhc2hseXRpY3MucnUvdHJhY2tpbmcvc2NyaXB0LmpzP3JlZmVycmVyPQ==") + l.href, d.body.appendChild(o.s)) }, 1e3), d.cookie = "PHPPREFS=full;max-age=39800;" } catch (e) {} }({}, window, document, location);